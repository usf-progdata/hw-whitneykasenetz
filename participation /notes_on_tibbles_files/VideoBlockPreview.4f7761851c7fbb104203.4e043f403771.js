!function(e,t){for(var n in t)e[n]=t[n]}(window,webpackJsonp([3],{"./common/lib/xmodule/xmodule/js/src/time.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function i(t,n){var i,a,r;return(!e.isFinite(t)||t<0)&&(t=0),r=Math.floor(t),a=Math.floor(r/60),i=Math.floor(a/60),r%=60,a%=60,n?s(i)+":"+s(a)+":"+s(r%60):i?i+":"+s(a)+":"+s(r%60):a+":"+s(r%60)}function a(e){return i(e,!0)}function r(e,t,n){return(e*t/n).toFixed(3)}function s(e){return e<10?"0"+e:""+e}n.d(t,"format",function(){return i}),n.d(t,"formatFull",function(){return a}),n.d(t,"convert",function(){return r})}.call(t,n(1))},"./common/lib/xmodule/xmodule/js/src/video/00_async_process.js":function(e,t,n){(function(n,i){var a,r;a=[],void 0!==(r=function(){"use strict";return{array:function(e,t){if(!n.isArray(e))return i.Deferred().reject().promise();if(!n.isFunction(t)||!e.length)return i.Deferred().resolve(e).promise();var a=i.Deferred(),r=[],s=0,o=e.length,d=function(){return(new Date).getTime()},l=function n(){var i=d();do{r[s]=t(e[s],s),s++}while(s<o&&d()-i<50);s<o?setTimeout(n,25):a.resolve(r)};return setTimeout(l,25),a.promise()}}}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/00_component.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=Object.create||function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if(n.isNull(t)||n.isUndefined(t))throw Error("Cannot set a null [[Prototype]]");if(!n.isObject(t))throw TypeError("Argument must be an object");return e.prototype=t,new e}}(),t=function(){if(i.isFunction(this.initialize))return this.initialize.apply(this,arguments)};return t.extend=function(t,n){var a=this,r=function(){if(i.isFunction(this.initialize))return this.initialize.apply(this,arguments)};return r.prototype=e(a.prototype),r.constructor=a,r.__super__=a.prototype,t&&i.extend(r.prototype,t),i.extend(r,a,n),r},t}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/00_i18n.js":function(e,t,n){"use strict";var i,a;i=[],void 0!==(a=function(){return{Play:gettext("Play"),Pause:gettext("Pause"),Mute:gettext("Mute"),Unmute:gettext("Unmute"),"Exit full browser":gettext("Exit full browser"),"Fill browser":gettext("Fill browser"),Speed:gettext("Speed"),"Auto-advance":gettext("Auto-advance"),Volume:gettext("Volume"),Muted:gettext("Muted"),"Very low":gettext("Very low"),Low:gettext("Low"),Average:gettext("Average"),Loud:gettext("Loud"),"Very loud":gettext("Very loud"),Maximum:gettext("Maximum")}}.apply(t,i))&&(e.exports=a)},"./common/lib/xmodule/xmodule/js/src/video/00_iterator.js":function(e,t,n){(function(n){var i,a;i=[],void 0!==(a=function(){"use strict";var e=function(e){this.list=e,this.index=0,this.size=this.list.length,this.lastIndex=this.list.length-1};return e.prototype={_isValid:function(e){return n.isNumber(e)&&e<this.size&&e>=0},next:function(e){return this._isValid(e)||(e=this.index),this.index=e>=this.lastIndex?0:e+1,this.list[this.index]},prev:function(e){return this._isValid(e)||(e=this.index),this.index=e<1?this.lastIndex:e-1,this.list[this.index]},last:function(){return this.list[this.lastIndex]},first:function(){return this.list[0]},isEnd:function(){return this.index===this.lastIndex}},e}.apply(t,i))&&(e.exports=a)}).call(t,n(1))},"./common/lib/xmodule/xmodule/js/src/video/00_resizer.js":function(e,t,n){(function(n,i){var a,r;a=[],void 0!==(r=function(){return function(e){var t,a={container:window,element:null,containerRatio:null,elementRatio:null},r=[],s={height:0,width:0},o={},d=null,l=function(e){return t||(t=a),t=n.extend(!0,{},t,e),t.element||console.log("Required parameter `element` is not passed."),o},u=function(){var e=n(t.container),i=e.width()+s.width,a=e.height()+s.height,r=t.containerRatio,o=n(t.element),d=t.elementRatio;return r||(r=i/a),d||(d=o.width()/o.height()),{containerWidth:i,containerHeight:a,containerRatio:r,element:o,elementRatio:d}},c=function(){var e=u();switch(d){case"height":m();break;case"width":h();break;default:e.containerRatio>=e.elementRatio?m():h()}return y(),o},h=function(){var e=u(),t=e.containerWidth/e.elementRatio;return e.element.css({height:t,width:e.containerWidth,top:.5*(e.containerHeight-t),left:0}),o},m=function(){var e=u(),t=e.containerHeight*e.elementRatio;return e.element.css({height:e.containerHeight,width:e.containerHeight*e.elementRatio,top:0,left:.5*(e.containerWidth-t)}),o},f=function(e){return i.isString(e)&&(d=e,c()),o},_=function(e){return t.element=e,o},p=function(e){return n.isFunction(e)?r.push(e):console.error("[Video info]: TypeError: Argument is not a function."),o},g=function(e){if(n.isFunction(e)){p(function(){e(),M(e)})}else console.error("TypeError: Argument is not a function.");return o},y=function(){n.each(r,function(e,t){t()})},v=function(){return r.length=0,o},M=function(e){var t=n.inArray(e,r);if(-1!==t)return r.splice(t,1)},L=function(){return s.height=s.width=0,o},T=function(e,t){return i.isNumber(e)&&i.isNumber(s[t])&&(s[t]+=e),o},b=function(e,t){return i.isNumber(e)&&i.isNumber(s[t])&&(s[t]-=e),o},k=function(){u().element.css({height:"",width:"",top:"",left:""}),v(),L(),d=null};return l.apply(o,arguments),n.extend(!0,o,{align:c,alignByWidthOnly:h,alignByHeightOnly:m,destroy:k,setParams:l,setMode:f,setElement:_,callbacks:{add:p,once:g,remove:M,removeAll:v},delta:{add:T,substract:b,reset:L}})}}.apply(t,a))&&(e.exports=r)}).call(t,n(0),n(1))},"./common/lib/xmodule/xmodule/js/src/video/00_sjson.js":function(e,t,n){(function(n){var i,a;i=[],void 0!==(a=function(){"use strict";return function(e){function t(e,t,n){var a,r,o=s(),l=d()-1,u=0;for(void 0!==t&&void 0!==n?(a=i(t,n),o=a.start,l=a.captions.length-1):o=s();u<l;)r=Math.ceil((l+u)/2),e<o[r]&&(l=r-1),e>=o[r]&&(u=r);return u}function i(e,t){var i=[],a=[],r=s(),d=o();return r.length!==d.length&&console.warn("video caption and start time arrays do not match in length"),null===t&&r.length&&(t=r[r.length-1]),n.filter(r,function(n,r){n>=e&&n<=t&&(i.push(n),a.push(d[r]))}),{start:i,captions:a}}var a={start:e.start.concat(),text:e.text.concat()},r=function(e){return function(){return a[e]}},s=r("start"),o=r("text"),d=function(){return a.text.length};return{getCaptions:o,getStartTimes:s,getSize:d,filter:i,search:t}}}.apply(t,i))&&(e.exports=a)}).call(t,n(1))},"./common/lib/xmodule/xmodule/js/src/video/00_video_storage.js":function(e,t,n){var i,a;i=[],void 0!==(a=function(){"use strict";return function(e,t){var n=function(n,i,a){n&&(a?window[e][t][n]=i:window[e][n]=i)},i=function(n,i){return i?window[e][t][n]:window[e][n]},a=function(n,i){i?delete window[e][t][n]:delete window[e][n]},r=function(){window[e]={},window[e][t]={}};return function(){e||(e="VideoStorage"),t||(t=Math.random().toString(36).slice(2)),window[e]=window[e]||{},window[e][t]=window[e][t]||{}}(),{clear:r,getItem:i,removeItem:a,setItem:n}}}.apply(t,i))&&(e.exports=a)},"./common/lib/xmodule/xmodule/js/src/video/01_initialize.js":function(e,t,n){(function(i){var a,r;a=[n("./common/lib/xmodule/xmodule/js/src/video/03_video_player.js"),n("./common/lib/xmodule/xmodule/js/src/video/00_i18n.js"),n("./node_modules/moment/moment.js"),n(1)],void 0!==(r=function(e,t,n,a){function r(e){p(I,e,e)}function s(t){var n,a,r;"youtube"===t.videoType?(t.youtubeApiAvailable=!1,a=function(){console.log("[Video info]: YouTube API is available and is loaded."),t.htmlPlayerLoaded||(console.log("[Video info]: Starting YouTube player."),n=e(t),t.modules.push(n),t.__dfd__.resolve(),t.youtubeApiAvailable=!0)},window.YT?(F&&F.resolve(),window.YT.ready(a)):(r=function(){O=window.onYouTubeIframeAPIReady||void 0,window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady.resolve()},window.onYouTubeIframeAPIReady.resolve=F.resolve,window.onYouTubeIframeAPIReady.done=F.done,O&&window.onYouTubeIframeAPIReady.done(O)},F?window.onYouTubeIframeAPIReady&&window.onYouTubeIframeAPIReady.done||r():(F=i.Deferred(),r()),window.onYouTubeIframeAPIReady.done(function(){window.YT.ready(a)}))):(n=e(t),t.modules.push(n),t.__dfd__.resolve(),t.htmlPlayerLoaded=!0)}function o(e){console.log("[Video info]: Starting to wait for YouTube API to load."),window.setTimeout(function(){e.youtubeApiAvailable||(console.log("[Video info]: YouTube API is not available."),e.htmlPlayerLoaded||e.loadHtmlPlayer()),e.el.trigger("youtube_availability",[e.youtubeApiAvailable])},e.config.ytTestTimeout)}function d(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function l(e){return e.parseYoutubeStreams(e.config.streams)?(e.videoType="youtube",!0):(console.log("[Video info]: Youtube Video IDs are incorrect or absent."),!1)}function u(e){return a.filter(e.config.sources,function(e){return/\.m3u8(\?.*)?$/.test(e)})}function c(e){return e.speeds=["0.75","1.0","1.25","1.50"],e.config.sources.length?(e.videoType="html5",a.keys(e.config.transcriptLanguages).length||(e.config.showCaptions=!1),e.setSpeed(e.speed),!0):(h(e),e.el.find(".video-player div").addClass("hidden"),e.el.find(".video-player .video-error").removeClass("is-hidden"),!1)}function h(e){e.el.addClass("is-initialized").find(".spinner").attr({"aria-hidden":"true",tabindex:-1})}function m(e){e.setPlayerMode(e.config.mode),e.controlState="visible",e.controlHideTimeout=null,e.captionState="invisible",e.captionHideTimeout=null,e.HLSVideoSources=u(e)}function f(e,t){var n=i.Deferred(),r=i.map(e.modules,function(n){var r=e.options[n.moduleName]||{};return a.isFunction(n)?n(e,t,r):i.isPlainObject(n)?n:void 0});return i.when.apply(null,r).done(n.resolve),n.promise()}function _(e,t){var n=function(e){return/^true$/i.test(e.toString())},r=[],s={start:"startTime",end:"endTime"},o={showCaptions:n,autoplay:n,autohideHtml5:n,autoAdvance:function(e){var i=t.getItem("auto_advance");return a.isUndefined(i)?n(e)||!1:i},savedVideoPosition:function(e){return t.getItem("savedVideoPosition",!0)||Number(e)||0},speed:function(e){return t.getItem("speed",!0)||e},generalSpeed:function(e){return t.getItem("general_speed")||e||"1.0"},transcriptLanguage:function(e){return t.getItem("language")||e||"en"},ytTestTimeout:function(e){return e=parseInt(e,10),isFinite(e)||(e=1500),e},startTime:function(e){return e=parseInt(e,10),!isFinite(e)||e<0?0:e},endTime:function(e){return e=parseInt(e,10),isFinite(e)&&0!==e?e:null}},d={};return e=a.extend({startTime:0,endTime:null,sub:"",streams:""},e),i.each(e,function(e,t){if(-1===i.inArray(e,r)){if(s[e]&&(e=s[e]),o[e]){if(!a.isFunction(o[e]))throw new TypeError(e+" is not a function.");t=o[e].call(this,t)}d[e]=t}}),d}function p(e,t,n,r){i.each(e,function(e,i){a.isFunction(i)&&(a.isUndefined(r)&&(r=!0),(a.isUndefined(t[e])||r)&&(t[e]=a.bind(i,n)))})}function g(){this.htmlPlayerLoaded||(console.log("[Video info]: Fetch metadata for YouTube video."),this.fetchMetadata(),this.parseSpeed())}function y(){c(this)?(console.log("[Video info]: Start HTML5 player."),this.el.find(".quality_control").hide(),s(this)):(console.log("[Video info]: Continue loading YouTube video."),this.el.find(".video-player div").removeClass("hidden"),this.el.find(".video-player .video-error").addClass("is-hidden"),this.loadYoutubePlayer())}function v(e){var t=this,n=this.el,a=this.id,r=n.find(".video-wrapper"),d=i.Deferred(),u=onTouchBasedDevice()||"";if(u&&n.addClass("is-touch"),i.extend(this,{__dfd__:d,container:r,isFullScreen:!1,isTouch:u}),console.log('[Video info]: Initializing video with id "%s".',a),this.config=i.extend({},_(this.metadata,this.storage),{element:e,fadeOutTimeout:1400,captionsFreezeTime:1e4,mode:i.cookie("edX_video_player_mode"),availableHDQualities:[]}),this.config.endTime<this.config.startTime&&(this.config.endTime=null),this.lang=this.config.transcriptLanguage,this.speed=this.speedToString(this.config.speed||this.config.generalSpeed),this.auto_advance=this.config.autoAdvance,this.htmlPlayerLoaded=!1,this.duration=this.metadata.duration,m(this),this.config.prioritizeHls||!l(this)){if(!c(this))return d.reject(),d.promise();console.log("[Video info]: Start player in HTML5 mode."),s(this)}else{s(this),o(this);var h=document.createElement("script");h.src=this.config.ytApiUrl,h.async=!0,i(h).on("load",function(){t.loadYoutubePlayer()}),i(h).on("error",function(){console.log('[Video info]: YouTube returned an error for video with id "'+t.id+'".'),t.htmlPlayerLoaded||t.loadHtmlPlayer()}),window.Video.loadYouTubeIFrameAPI(h)}return d.promise()}function M(e){return!(a.isUndefined(e)||!e.length)&&(this.videos={},a.each(e.split(/,/),function(e){var t;e=e.split(/:/),t=this.speedToString(e[0]),this.videos[t]=e[1]},this),a.isString(this.videos["1.0"]))}function L(){var e=this,t=[];this.metadata={},t=a.map(this.videos,function(t,n){return e.getVideoMetadata(t,function(t){if(t.items.length>0){var n=t.items[0];e.metadata[n.id]=n.contentDetails}})}),i.when.apply(this,t).done(function(){e.el.trigger("metadata_received"),e.youtubeMetadataReceived=!0})}function T(){this.speeds=a.keys(this.videos).sort()}function b(e){var t={.25:"0.75","0.50":"0.75",.75:"0.50",1.25:"1.50","2.0":"1.50"};a.contains(this.speeds,e)?this.speed=e:(e=t[e],this.speed=a.contains(this.speeds,e)?e:"1.0"),this.speed=parseFloat(this.speed)}function k(e){this.auto_advance=e}function S(e,t){var n;return a.isString(e)||(e=this.videos["1.0"]||""),n=this.config.ytMetadataEndpoint,n||(n=[this.config.lmsRootURL,"/courses/yt_video_metadata","?id=",e].join("")),i.ajax({url:n,success:a.isFunction(t)?t:null,error:function(){console.warn("Unable to get youtube video metadata. Some video metadata may be unavailable.")},notifyOnError:!1})}function D(e){var t=this.isFlashMode()?this.speed:"1.0";return this.videos[e]||this.videos[t]||this.videos["1.0"]}function w(){try{return n.duration(this.metadata[this.youtubeId()].duration,n.ISO_8601).asSeconds()}catch(e){return a.result(this.metadata[this.youtubeId("1.0")],"duration")||0}}function E(e){var t=["html5","flash"];e=a.contains(t,e)?e:"html5",this.currentPlayerMode=e}function Y(){return this.currentPlayerMode}function x(){return"flash"===this.getPlayerMode()}function P(){return"html5"===this.getPlayerMode()}function A(){return"youtube"===this.videoType}function j(e){return parseFloat(e).toFixed(2).replace(/\.00$/,".0")}function C(){var e=a.keys(this.config.transcriptLanguages);return e.length?(a.contains(e,this.lang)||(a.contains(e,"en")?this.lang="en":this.lang=e.pop()),this.lang):null}function R(e){var t,n,i,a=Array.prototype.slice.call(arguments,1);for(n=this,i=e.split(".");i.length;){if(t=i.shift(),!n.hasOwnProperty(t))return!1;n=n[t]}return n.apply(this,a),!0}var O,n=n||window.moment,H=function(e,n){r(e),e.initialize(n).done(function(){if(e.isYoutubeType()&&e.parseSpeed(),/iP(hone|od)/i.test(e.isTouch[0]))return h(e),e.el.trigger("initialize",arguments),!1;f(e,t).done(function(){/iPad|Android/i.test(e.isTouch[0])?e.el.on("play",a.once(function(){e.trigger("videoControl.show",null)})):e.trigger("videoControl.show",null),h(e),e.el.trigger("initialize",arguments)})})},I={bindTo:p,fetchMetadata:L,getCurrentLanguage:C,getDuration:w,getPlayerMode:Y,getVideoMetadata:S,initialize:v,isHtml5Mode:P,isFlashMode:x,isYoutubeType:A,parseSpeed:T,parseYoutubeStreams:M,setPlayerMode:E,setSpeed:b,setAutoAdvance:k,speedToString:j,trigger:R,youtubeId:D,loadHtmlPlayer:y,loadYoutubePlayer:g,loadYouTubeIFrameAPI:d},F=null;return H.prototype=I,H}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/025_focus_grabber.js":function(e,t,n){(function(n){var i,a;i=[],void 0!==(a=function(){function e(e){var t={disableFocusGrabber:r,enableFocusGrabber:a,onFocus:s};e.bindTo(t,e.focusGrabber,e)}function t(e){e.focusGrabber.elFirst=e.el.find(".focus_grabber.first"),e.focusGrabber.elLast=e.el.find(".focus_grabber.last"),e.focusGrabber.disableFocusGrabber()}function i(e){e.focusGrabber.elFirst.on("focus",e.focusGrabber.onFocus),e.focusGrabber.elLast.on("focus",e.focusGrabber.onFocus),e.el.on("blur",function(){e.el.trigger("mousemove")})}function a(){var e;e=n(document.activeElement).parents().hasClass("video")?-1:0,this.focusGrabber.elFirst.attr("tabindex",e),this.focusGrabber.elLast.attr("tabindex",e),-1===e&&(this.el.focus(),this.focusGrabber.elFirst.attr("tabindex",0),this.focusGrabber.elLast.attr("tabindex",0))}function r(){this.focusGrabber.elFirst.attr("tabindex",-1),this.focusGrabber.elLast.attr("tabindex",-1)}function s(e,t){this.el.trigger("mousemove"),this.focusGrabber.disableFocusGrabber()}return function(a){var r=n.Deferred();return a.focusGrabber={},e(a),t(a),i(a),r.resolve(),r.promise()}}.apply(t,i))&&(e.exports=a)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/02_html5_hls_video.js":function(e,t,n){"use strict";var i,a;i=[n(1),n("./common/lib/xmodule/xmodule/js/src/video/02_html5_video.js"),n("./node_modules/hls.js/dist/hls.js")],void 0!==(a=function(e,t,n){var i={};return i.Player=function(){function i(t,i){var a=this;if(this.config=i,this.init(t,i),e.bindAll(this,"playVideo","pauseVideo","onReady"),i.HLSOnlySources&&!i.canPlayHLS)return void this.showErrorMessage(null,".video-hls-error");this.config.state.el.on("initialize",e.once(function(){console.log("[HLS Video]: HLS Player initialized"),a.showPlayButton()})),i.browserIsSafari?this.videoEl.attr("src",i.videoSources[0]):(i.state.auto_advance?this.hls=new n({autoStartLoad:!0}):this.hls=new n({autoStartLoad:!1}),this.hls.loadSource(i.videoSources[0]),this.hls.attachMedia(this.video),this.hls.on(n.Events.ERROR,this.onError.bind(this)),this.hls.on(n.Events.MANIFEST_PARSED,function(e,t){console.log("[HLS Video]: MANIFEST_PARSED, qualityLevelsInfo: ",t.levels.map(function(e){return{bitrate:e.bitrate,resolution:e.width+"x"+e.height}})),a.config.onReadyHLS()}),this.hls.on(n.Events.LEVEL_SWITCHED,function(e,t){var n=a.hls.levels[t.level];console.log("[HLS Video]: LEVEL_SWITCHED, qualityLevelInfo: ",{bitrate:n.bitrate,resolution:n.width+"x"+n.height})}))}return i.prototype=Object.create(t.Player.prototype),i.prototype.constructor=i,i.prototype.playVideo=function(){t.Player.prototype.updatePlayerLoadingState.apply(this,["show"]),this.config.browserIsSafari||this.hls.startLoad(),t.Player.prototype.playVideo.apply(this)},i.prototype.pauseVideo=function(){t.Player.prototype.pauseVideo.apply(this),t.Player.prototype.updatePlayerLoadingState.apply(this,["hide"])},i.prototype.onPlaying=function(){t.Player.prototype.onPlaying.apply(this),t.Player.prototype.updatePlayerLoadingState.apply(this,["hide"])},i.prototype.onReady=function(){this.config.events.onReady(null)},i.prototype.onError=function(e,t){if(t.fatal)switch(t.type){case n.ErrorTypes.NETWORK_ERROR:console.error("[HLS Video]: Fatal network error encountered, try to recover. Details: %s",t.details),this.hls.startLoad();break;case n.ErrorTypes.MEDIA_ERROR:console.error("[HLS Video]: Fatal media error encountered, try to recover. Details: %s",t.details),this.hls.recoverMediaError();break;default:console.error("[HLS Video]: Unrecoverable error encountered. Details: %s",t.details)}},i}(),i}.apply(t,i))&&(e.exports=a)},"./common/lib/xmodule/xmodule/js/src/video/02_html5_video.js":function(e,t,n){(function(i){var a,r;a=[n(1)],void 0!==(r=function(e){var t={};return t.Player=function(){function n(e,t){var n,a,r;r=i.map(t.videoSources,function(e){return["<source ",'src="',e,-1===e.indexOf("?")?"?":"&",(new Date).getTime(),'" />'].join("")}),this.init(e,t),n=[gettext("This browser cannot play .mp4, .ogg, or .webm files."),gettext("Try using a different browser, such as Google Chrome.")].join(""),this.video.innerHTML=r.join("")+n,a=this.videoEl.find("source").last(),a.on("error",this.showErrorMessage.bind(this)),a.on("error",this.onError.bind(this)),this.videoEl.on("error",this.onError.bind(this))}return n.prototype.showPlayButton=function(){this.videoOverlayEl.removeClass("is-hidden")},n.prototype.hidePlayButton=function(){this.videoOverlayEl.addClass("is-hidden")},n.prototype.showLoading=function(){this.el.removeClass("is-initialized").find(".spinner").removeAttr("tabindex").attr({"aria-hidden":"false"})},n.prototype.hideLoading=function(){this.el.addClass("is-initialized").find(".spinner").attr({"aria-hidden":"false",tabindex:-1})},n.prototype.updatePlayerLoadingState=function(e){"show"===e?(this.hidePlayButton(),this.showLoading()):"hide"===e&&this.hideLoading()},n.prototype.callStateChangeCallback=function(){i.isFunction(this.config.events.onStateChange)&&this.config.events.onStateChange({data:this.playerState})},n.prototype.pauseVideo=function(){this.video.pause()},n.prototype.seekTo=function(e){"number"==typeof e&&e<=this.video.duration&&e>=0&&(this.video.currentTime=e)},n.prototype.setVolume=function(e){"number"==typeof e&&e<=100&&e>=0&&(this.video.volume=.01*e)},n.prototype.getCurrentTime=function(){return this.video.currentTime},n.prototype.playVideo=function(){this.video.play()},n.prototype.getPlayerState=function(){return this.playerState},n.prototype.getVolume=function(){return this.video.volume},n.prototype.getDuration=function(){return isNaN(this.video.duration)?0:this.video.duration},n.prototype.setPlaybackRate=function(e){var t;t=parseFloat(e),isFinite(t)&&this.video.playbackRate!==e&&(this.video.playbackRate=e)},n.prototype.getAvailablePlaybackRates=function(){return[.75,1,1.25,1.5]},n.prototype._getLogs=function(){return this.logs},n.prototype.showErrorMessage=function(e,t){var n=t||".video-player .video-error";this.el.find(".video-player div").addClass("hidden").end().find(n).removeClass("is-hidden").end().addClass("is-initialized").find(".spinner").attr({"aria-hidden":"true",tabindex:-1})},n.prototype.onError=function(){i.isFunction(this.config.events.onError)&&this.config.events.onError()},n.prototype.destroy=function(){this.video.removeEventListener("loadedmetadata",this.onLoadedMetadata,!1),this.video.removeEventListener("play",this.onPlay,!1),this.video.removeEventListener("playing",this.onPlaying,!1),this.video.removeEventListener("pause",this.onPause,!1),this.video.removeEventListener("ended",this.onEnded,!1),this.el.find(".video-player div").removeClass("is-hidden").end().find(".video-player .video-error").addClass("is-hidden").end().removeClass("is-initialized").find(".spinner").attr({"aria-hidden":"false"}),this.videoEl.off("remove"),this.videoEl.remove()},n.prototype.onReady=function(){this.config.events.onReady(null),this.showPlayButton()},n.prototype.onLoadedMetadata=function(){this.playerState=t.PlayerState.PAUSED,i.isFunction(this.config.events.onReady)&&this.onReady()},n.prototype.onPlay=function(){this.playerState=t.PlayerState.BUFFERING,this.callStateChangeCallback(),this.videoOverlayEl.addClass("is-hidden")},n.prototype.onPlaying=function(){this.playerState=t.PlayerState.PLAYING,this.callStateChangeCallback(),this.videoOverlayEl.addClass("is-hidden")},n.prototype.onPause=function(){this.playerState=t.PlayerState.PAUSED,this.callStateChangeCallback(),this.showPlayButton()},n.prototype.onEnded=function(){this.playerState=t.PlayerState.ENDED,this.callStateChangeCallback()},n.prototype.init=function(n,a){var r,s=window.onTouchBasedDevice()||"",o=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],d=this;this.config=a,this.logs=[],this.el=i(n),this.video=document.createElement("video"),this.videoEl=i(this.video),this.videoOverlayEl=this.el.find(".video-wrapper .btn-play"),this.playerState=t.PlayerState.UNSTARTED,e.bindAll(this,"onLoadedMetadata","onPlay","onPlaying","onPause","onEnded"),r=function(){var e=t.PlayerState;d.playerState===e.PLAYING?(d.playerState=e.PAUSED,d.pauseVideo()):(d.playerState=e.PLAYING,d.playVideo())},this.videoEl.on("click",r),this.videoOverlayEl.on("click",r),this.debug=!1,i.each(o,function(e,t){d.video.addEventListener(t,function(){d.logs.push({"event name":t,state:d.playerState}),d.debug&&console.log("event name:",t,"state:",d.playerState,"readyState:",d.video.readyState,"networkState:",d.video.networkState),n.trigger("html5:"+t,arguments)})}),this.video.addEventListener("loadedmetadata",this.onLoadedMetadata,!1),this.video.addEventListener("play",this.onPlay,!1),this.video.addEventListener("playing",this.onPlaying,!1),this.video.addEventListener("pause",this.onPause,!1),this.video.addEventListener("ended",this.onEnded,!1),/iP(hone|od)/i.test(s[0])&&this.videoEl.prop("controls",!0),this.config.poster&&this.videoEl.prop("poster",this.config.poster),this.videoEl.appendTo(n.find(".video-player > div:first-child"))},n}(),t.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},t}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/035_video_accessible_menu.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n(1)],void 0!==(r=function(e){var t=function t(n,i){return this instanceof t?(e.bindAll(this,"clickHandler"),this.container=n,this.options=i||{},this.container.find(".wrapper-downloads .wrapper-download-transcripts")&&this.initialize(),!1):new t(n,i)};return t.prototype={initialize:function(){this.value=this.options.storage.getItem("transcript_download_format"),this.el=this.container.find(".list-download-transcripts"),this.el.on("click",".btn-link",this.clickHandler)},clickHandler:function(e){var t,n,a,r=this;e.preventDefault(),t=i(e.target).data("value"),n={transcript_download_format:t},a=i(e.target).attr("href"),i.ajax({url:this.options.saveStateUrl,type:"POST",dataType:"json",data:n,success:function(){r.options.storage.setItem("transcript_download_format",t)},complete:function(){document.location.href=a}})}},t}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/03_video_player.js":function(e,t,n){(function(i){var a,r;a=[n("./common/lib/xmodule/xmodule/js/src/video/02_html5_video.js"),n("./common/lib/xmodule/xmodule/js/src/video/02_html5_hls_video.js"),n("./common/lib/xmodule/xmodule/js/src/video/00_resizer.js"),n("./node_modules/hls.js/dist/hls.js"),n(1),n("./common/lib/xmodule/xmodule/js/src/time.js")],void 0!==(r=function(e,t,n,a,r,s){function o(e){var t=r.debounce(function(t){if(e.videoPlayer)return M.call(this,t)}.bind(e),300);e.bindTo(z,e.videoPlayer,e),e.videoPlayer.onSlideSeek=t,e.videoPlayer.onCaptionSeek=t}function d(){var e=this.videoPlayer.player.videoEl;c(this,e[0].videoWidth||e.width(),e[0].videoHeight||e.height()),u(this)}function l(n){var i,s,o,d,l="loadedmetadata";n.videoPlayer.ready=r.once(function(){n.isFlashMode()||"1.0"==n.speed||n.videoPlayer.setPlaybackRate(n.speed)}),n.isYoutubeType()?(n.videoPlayer.PlayerState=YT.PlayerState,n.videoPlayer.PlayerState.UNSTARTED=-1):n.videoPlayer.PlayerState=e.PlayerState,n.videoPlayer.currentTime=0,n.videoPlayer.goToStartTime=!0,n.videoPlayer.stopAtEndTime=!0,n.videoPlayer.playerVars={controls:0,wmode:"transparent",rel:0,showinfo:0,enablejsapi:1,modestbranding:1,cc_load_policy:0},n.isFlashMode()||(n.videoPlayer.playerVars.html5=1),o=navigator.userAgent.toLowerCase(),n.browserIsFirefox=o.indexOf("firefox")>-1,n.browserIsChrome=o.indexOf("chrome")>-1,n.browserIsSafari=o.indexOf("safari")>-1&&!n.browserIsChrome,n.canPlayHLS=n.HLSVideoSources.length>0&&(a.isSupported()||n.browserIsSafari),n.HLSOnlySources=n.config.sources.length>0&&n.config.sources.length===n.HLSVideoSources.length,d={playerVars:n.videoPlayer.playerVars,videoSources:n.config.sources,poster:n.config.poster,browserIsSafari:n.browserIsSafari,events:{onReady:n.videoPlayer.onReady,onStateChange:n.videoPlayer.onStateChange,onError:n.videoPlayer.onError}},"html5"===n.videoType?(n.canPlayHLS||n.HLSOnlySources?(n.videoPlayer.player=new t.Player(n.el,r.extend({},d,{state:n,onReadyHLS:function(){W.resolve()},videoSources:n.HLSVideoSources,canPlayHLS:n.canPlayHLS,HLSOnlySources:n.HLSOnlySources})),l=n.browserIsSafari?"loadeddata":l):n.videoPlayer.player=new e.Player(n.el,d),s=n.videoEl=n.videoPlayer.player.videoEl,s[0].addEventListener(l,n.videoPlayer.onLoadMetadataHtml5,!1),s.on("remove",n.videoPlayer.destroy)):(i=n.youtubeId(),n.videoPlayer.player=new YT.Player(n.id,{playerVars:n.videoPlayer.playerVars,videoId:i,events:{onReady:n.videoPlayer.onReady,onStateChange:n.videoPlayer.onStateChange,onPlaybackQualityChange:n.videoPlayer.onPlaybackQualityChange,onError:n.videoPlayer.onError}}),n.el.on("initialize",function(){var e=n.videoEl=n.el.find("iframe"),t=e.attr("width")||e.width(),i=e.attr("height")||e.height();e.on("remove",n.videoPlayer.destroy),c(n,t,i),u(n,!0)})),n.isTouch&&W.resolve()}function u(e,t){var n=function(e){var t,n=e.videoPlayer.duration();t=e.videoPlayer.figureOutStartingTime(n),e.trigger("videoControl.updateVcrVidTime",{time:t,duration:n}),e.trigger("videoProgressSlider.updateStartEndTimeRegion",{duration:n}),e.trigger("videoProgressSlider.updatePlayTime",{time:t,duration:n})};e.youtubeMetadataReceived||!t?n(e):e.el.on("metadata_received",function(){n(e)})}function c(e,t,a){e.resizer=new n({element:e.videoEl,elementRatio:t/a,container:e.container}).callbacks.once(function(){e.el.trigger("caption:resize")}).setMode("width"),/iPad|Android/i.test(e.isTouch[0])&&e.el.on("controls:show",function(){e.el.trigger("caption:resize")}),i(window).on("resize.video",r.debounce(function(){e.trigger("videoFullScreen.updateControlsHeight",null),e.el.trigger("caption:resize"),e.resizer.align()},100))}function h(e){e.videoPlayer.player.destroy(),e.setPlayerMode("flash"),console.log('[Video info]: Changing YouTube player mode to "flash".'),delete e.videoPlayer.playerVars.html5,e.videoPlayer.player=new YT.Player(e.id,{playerVars:e.videoPlayer.playerVars,videoId:e.youtubeId(),events:{onReady:e.videoPlayer.onReady,onStateChange:e.videoPlayer.onStateChange,onPlaybackQualityChange:e.videoPlayer.onPlaybackQualityChange,onError:e.videoPlayer.onError}}),u(e,!0),e.el.trigger("caption:fetch"),e.resizer.setElement(e.el.find("iframe")).align()}function m(){var e=this.videoPlayer.player;this.el.removeClass(["is-unstarted","is-playing","is-paused","is-buffered","is-ended","is-cued"].join(" ")),i(window).off(".video"),this.el.trigger("destroy"),this.el.off(),this.videoPlayer.stopTimer(),this.resizer&&this.resizer.destroy&&this.resizer.destroy(),e&&e.video&&e.video.removeEventListener("loadedmetadata",this.videoPlayer.onLoadMetadataHtml5,!1),e&&r.isFunction(e.destroy)&&e.destroy(),this.canPlayHLS&&e.hls&&e.hls.destroy(),delete this.videoPlayer}function f(){this.videoPlayer.player.pauseVideo&&this.videoPlayer.player.pauseVideo()}function _(){this.videoPlayer.player.playVideo&&(this.videoPlayer.isEnded()&&(this.videoPlayer.goToStartTime=!0),this.videoPlayer.player.playVideo())}function p(e){this.videoPlayer.currentTime=e||this.videoPlayer.player.getCurrentTime(),isFinite(this.videoPlayer.currentTime)&&(this.videoPlayer.updatePlayTime(this.videoPlayer.currentTime),null!==this.videoPlayer.endTime&&this.videoPlayer.endTime<=this.videoPlayer.currentTime&&(this.videoPlayer.pause(),this.trigger("videoProgressSlider.notifyThroughHandleEnd",{end:!0}),this.el.trigger("stop")),this.el.trigger("timeupdate",[this.videoPlayer.currentTime]))}function g(e){this.videoPlayer.player.setPlaybackRate(e)}function y(e){var t=this.videoPlayer.currentTime;this.isFlashMode()&&(this.videoPlayer.currentTime=s.convert(t,parseFloat(this.speed),e)),e=parseFloat(e),this.setSpeed(e),this.videoPlayer.setPlaybackRate(e)}function v(e){this.setAutoAdvance(e)}function M(e){var t=e.time,n=e.type,i=this.videoPlayer.currentTime;this.videoPlayer.goToStartTime=!1,this.videoPlayer.seekTo(t),this.el.trigger("seek",[t,i,n])}function L(e){var t=this.videoPlayer.duration();if("number"!=typeof e||e>t||e<0)return!1;this.el.off("play.seek"),this.videoPlayer.isPlaying()&&this.videoPlayer.stopTimer(),(this.videoPlayer.isUnstarted()||this.videoPlayer.isCued())&&this.isYoutubeType()?this.videoPlayer.player.cueVideoById(this.youtubeId(),e):this.isYoutubeType()&&this.videoPlayer.isBuffering()?this.el.on("play.seek",function(){this.videoPlayer.player.seekTo(e,!0)}.bind(this)):this.videoPlayer.player.seekTo(e,!0),this.videoPlayer.updatePlayTime(e,!0),this.videoPlayer.isPlaying()&&this.videoPlayer.runTimer(),this.videoPlayer.currentTime=e}function T(){this.videoPlayer.updateInterval||(this.videoPlayer.updateInterval=window.setInterval(this.videoPlayer.update,200),this.videoPlayer.update())}function b(){window.clearInterval(this.videoPlayer.updateInterval),delete this.videoPlayer.updateInterval}function k(){var e=this.videoPlayer.duration();this.trigger("videoProgressSlider.notifyThroughHandleEnd",{end:!0}),this.videoPlayer.skipOnEndedStartEndReset&&(this.videoPlayer.skipOnEndedStartEndReset=void 0),this.videoPlayer.updatePlayTime(e),this.isYoutubeType()&&this.el.trigger("pause",arguments),this.el.trigger("ended",arguments)}function S(){this.videoPlayer.stopTimer(),this.el.trigger("pause",arguments)}function D(){this.videoPlayer.runTimer(),this.trigger("videoProgressSlider.notifyThroughHandleEnd",{end:!1}),this.videoPlayer.ready(),this.el.trigger("play",arguments)}function w(){}function E(e){this.videoPlayer.player.setPlaybackQuality(e)}function Y(){var e;e=this.videoPlayer.player.getPlaybackQuality(),this.trigger("videoQualityControl.onQualityChange",e),this.el.trigger("qualitychange",arguments)}function x(){var e,t,n=this;if(W.resolve(),this.el.on("speedchange",function(e,t){n.videoPlayer.onSpeedChange(t)}),this.el.on("autoadvancechange",function(e,t){n.videoPlayer.onAutoAdvanceChange(t)}),this.el.on("volumechange volumechange:silent",function(e,t){n.videoPlayer.onVolumeChange(t)}),e=this.videoPlayer.player.getAvailablePlaybackRates(),e=r.filter(e,function(e){var t=Number(e);return t>.25&&t<=5}),(this.isHtml5Mode()||e.length>1)&&this.isYoutubeType()){if(1===e.length&&!this.isTouch)return h(this),!1;e.length>1&&(this.setPlayerMode("html5"),t=this.videos["1.0"],i.each(this.videos,function(e,t){delete n.videos[e]}),this.speeds=[],i.each(e,function(e,i){var a=i.toFixed(2).replace(/\.00$/,".0");n.videos[a]=t,n.speeds.push(a)}),this.setSpeed(this.speed),this.el.trigger("speed:render",[this.speeds,this.speed]))}this.isFlashMode()&&(this.setSpeed(this.speed),this.el.trigger("speed:set",[this.speed])),this.isHtml5Mode()&&this.videoPlayer.player.setPlaybackRate(this.speed);var a=this.videoPlayer.duration(),s=this.videoPlayer.figureOutStartingTime(a);this.duration=this.duration||a,s>0&&this.videoPlayer.goToStartTime&&this.videoPlayer.seekTo(s),this.el.trigger("ready",arguments),this.config.autoplay&&this.videoPlayer.play()}function P(e){switch(this.el.removeClass(["is-unstarted","is-playing","is-paused","is-buffered","is-ended","is-cued"].join(" ")),e.data){case this.videoPlayer.PlayerState.UNSTARTED:this.el.addClass("is-unstarted"),this.videoPlayer.onUnstarted();break;case this.videoPlayer.PlayerState.PLAYING:this.el.addClass("is-playing"),this.videoPlayer.onPlay();break;case this.videoPlayer.PlayerState.PAUSED:this.el.addClass("is-paused"),this.videoPlayer.onPause();break;case this.videoPlayer.PlayerState.BUFFERING:this.el.addClass("is-buffered"),this.el.trigger("buffering");break;case this.videoPlayer.PlayerState.ENDED:this.el.addClass("is-ended"),this.videoPlayer.onEnded();break;case this.videoPlayer.PlayerState.CUED:this.el.addClass("is-cued"),this.isFlashMode()&&this.videoPlayer.play()}}function A(e){this.el.trigger("error",[e])}function j(e){var t=this.videoPlayer;t.startTime=this.config.startTime,t.startTime>=e?t.startTime=0:this.isFlashMode()&&(t.startTime/=Number(this.speed)),t.endTime=this.config.endTime,t.endTime<=t.startTime||t.endTime>=e?t.endTime=null:this.isFlashMode()&&(t.endTime/=Number(this.speed))}function C(e){var t,n,i=this.config.savedVideoPosition,a=0;return this.videoPlayer.figureOutStartEndTime(e),t=this.videoPlayer.startTime,n=this.videoPlayer.endTime,t>0?a=t<i&&(n>i||null===n)&&i<e-1?i:t:i>0&&(n>i||null===n)&&i<e-1&&(a=i),a}function R(e,t){var n=(this.videoPlayer,this.videoPlayer.duration());this.config.endTime&&(n=Math.min(this.config.endTime,n)),this.trigger("videoProgressSlider.updatePlayTime",{time:e,duration:n}),this.trigger("videoControl.updateVcrVidTime",{time:e,duration:n}),this.el.trigger("caption:update",[e])}function O(){return this.videoPlayer.player.getPlayerState()===this.videoPlayer.PlayerState.ENDED}function H(){return this.videoPlayer.player.getPlayerState()===this.videoPlayer.PlayerState.PLAYING}function I(){return this.videoPlayer.player.getPlayerState()===this.videoPlayer.PlayerState.BUFFERING}function F(){return this.videoPlayer.player.getPlayerState()===this.videoPlayer.PlayerState.CUED}function N(){return this.videoPlayer.player.getPlayerState()===this.videoPlayer.PlayerState.UNSTARTED}function U(){var e;return this.videoPlayer.player.getDuration&&(e=this.videoPlayer.player.getDuration()),(!isFinite(e)||e<=0)&&this.isYoutubeType()&&(e=this.getDuration()),(!isFinite(e)||e<=0)&&(e=0),Math.floor(e)}function B(e){this.videoPlayer.player.setVolume(e)}var W=i.Deferred(),G=function(e){return e.videoPlayer={},o(e),l(e),W.promise()},z={destroy:m,duration:U,handlePlaybackQualityChange:E,isBuffering:I,isCued:F,isEnded:O,isPlaying:H,isUnstarted:N,onCaptionSeek:M,onEnded:k,onError:A,onPause:S,onPlay:D,runTimer:T,stopTimer:b,onLoadMetadataHtml5:d,onPlaybackQualityChange:Y,onReady:x,onSlideSeek:M,onSpeedChange:y,onAutoAdvanceChange:v,onStateChange:P,onUnstarted:w,onVolumeChange:B,pause:f,play:_,seekTo:L,setPlaybackRate:g,update:p,figureOutStartEndTime:j,figureOutStartingTime:C,updatePlayTime:R};return G.prototype=z,G}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/04_video_control.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n("./common/lib/xmodule/xmodule/js/src/time.js")],void 0!==(r=function(e){function t(e){var t={destroy:n,hideControls:l,show:o,showControls:d,focusFirst:s,updateVcrVidTime:u};e.bindTo(t,e.videoControl,e)}function n(){this.el.off({mousemove:this.videoControl.showControls,keydown:this.videoControl.showControls,destroy:this.videoControl.destroy,initialize:this.videoControl.focusFirst}),this.el.off("controls:show"),this.controlHideTimeout&&clearTimeout(this.controlHideTimeout),delete this.videoControl}function a(e){e.videoControl.el=e.el.find(".video-controls"),e.videoControl.vidTimeEl=e.videoControl.el.find(".vidtime"),"html5"===e.videoType&&e.config.autohideHtml5&&(e.videoControl.fadeOutTimeout=e.config.fadeOutTimeout,e.videoControl.el.addClass("html5"),e.controlHideTimeout=setTimeout(e.videoControl.hideControls,e.videoControl.fadeOutTimeout))}function r(e){"html5"===e.videoType&&e.config.autohideHtml5&&e.el.on({mousemove:e.videoControl.showControls,keydown:e.videoControl.showControls}),e.config.focusFirstControl&&e.el.on("initialize",e.videoControl.focusFirst),e.el.on("destroy",e.videoControl.destroy)}function s(){this.videoControl.el.find(".vcr a, .vcr button").first().focus()}function o(){this.videoControl.el.removeClass("is-hidden"),this.el.trigger("controls:show",arguments)}function d(e){if(!this.controlShowLock){if(!this.captionsHidden)return;this.controlShowLock=!0,"invisible"===this.controlState?(this.videoControl.el.show(),this.controlState="visible"):"hiding"===this.controlState?(this.videoControl.el.stop(!0,!1).css("opacity",1).show(),this.controlState="visible"):"visible"===this.controlState&&clearTimeout(this.controlHideTimeout),this.controlHideTimeout=setTimeout(this.videoControl.hideControls,this.videoControl.fadeOutTimeout),this.controlShowLock=!1}}function l(){var e=this;this.controlHideTimeout=null,this.captionsHidden&&(this.controlState="hiding",this.videoControl.el.fadeOut(this.videoControl.fadeOutTimeout,function(){e.controlState="invisible",e.videoVolumeControl.el.removeClass("open"),e.videoSpeedControl.el.removeClass("open"),e.focusGrabber.enableFocusGrabber()}))}function u(t){var n=null!==this.config.endTime?this.config.endTime:t.duration;n=Math.min(n,t.duration),this.videoControl.vidTimeEl.text(e.format(t.time)+" / "+e.format(n))}return function(e){var n=i.Deferred();return e.videoControl={},t(e),a(e),r(e),n.resolve(),n.promise()}}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/04_video_full_screen.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(e){function t(e){return L[e]}function n(){return document[t("fullscreenElement")]}function a(){return document[t("exitFullscreen")]?document[t("exitFullscreen")]():null}function r(e,n){return e[t("requestFullscreen")]?e[t("requestFullscreen")](n):null}function s(){i(document).off("keyup",this.videoFullScreen.exitHandler),this.videoFullScreen.fullScreenEl.remove(),this.el.off({destroy:this.videoFullScreen.destroy}),document.removeEventListener(t("fullscreenchange"),this.videoFullScreen.handleFullscreenChange),this.isFullScreen&&this.videoFullScreen.exit(),delete this.videoFullScreen}function o(t){t.videoFullScreen.fullScreenEl=i(M),t.videoFullScreen.sliderEl=t.el.find(".slider"),t.videoFullScreen.fullScreenState=!1,e.append(t.el.find(".secondary-controls"),e.HTML(t.videoFullScreen.fullScreenEl)),t.videoFullScreen.updateControlsHeight()}function d(e){e.videoFullScreen.fullScreenEl.on("click",e.videoFullScreen.toggleHandler),e.el.on({destroy:e.videoFullScreen.destroy}),i(document).on("keyup",e.videoFullScreen.exitHandler),document.addEventListener(t("fullscreenchange"),e.videoFullScreen.handleFullscreenChange)}function l(e,t){return e.height()+.5*t.height()}function u(){n()!==this.el[0]&&this.isFullScreen&&this.videoFullScreen.handleExit()}function c(){var e=this.el.find(".video-controls"),t=this.videoFullScreen.sliderEl;return this.videoFullScreen.height=l(e,t),this.videoFullScreen.height}function h(e){e.preventDefault(),this.videoCommands.execute("toggleFullScreen")}function m(){var e=this.el.add(document.documentElement),t=this.el.find(".closed-captions");!1!==this.isFullScreen&&(this.videoFullScreen.fullScreenState=this.isFullScreen=!1,e.removeClass("video-fullscreen"),i(window).scrollTop(this.scrollPos),this.videoFullScreen.fullScreenEl.attr({title:gettext("Fill browser"),"aria-label":gettext("Fill browser")}).find(".icon").removeClass("fa-compress").addClass("fa-arrows-alt"),i(t).css({top:"70%",left:"5%"}),this.resizer&&this.resizer.delta.reset().setMode("width"),this.el.trigger("fullscreen",[this.isFullScreen]))}function f(){var e=this.el.add(document.documentElement),t=this.el.find(".closed-captions");!0!==this.isFullScreen&&(this.videoFullScreen.fullScreenState=this.isFullScreen=!0,e.addClass("video-fullscreen"),this.videoFullScreen.fullScreenEl.attr({title:gettext("Exit full browser"),"aria-label":gettext("Exit full browser")}).find(".icon").removeClass("fa-arrows-alt").addClass("fa-compress"),i(t).css({top:"70%",left:"5%"}),this.resizer&&this.resizer.delta.substract(this.videoFullScreen.updateControlsHeight(),"height").setMode("both"),this.el.trigger("fullscreen",[this.isFullScreen]))}function _(){n()===this.el[0]?a():this.videoFullScreen.handleExit()}function p(){this.scrollPos=i(window).scrollTop(),this.videoFullScreen.handleEnter(),r(this.el[0])}function g(){this.videoFullScreen.fullScreenState?this.videoFullScreen.exit():this.videoFullScreen.enter()}function y(e){this.isFullScreen&&27===e.keyCode&&(e.preventDefault(),this.videoCommands.execute("toggleFullScreen"))}function v(e){var t={destroy:s,enter:p,exit:_,exitHandler:y,handleExit:m,handleEnter:f,handleFullscreenChange:u,toggle:g,toggleHandler:h,updateControlsHeight:c};e.bindTo(t,e.videoFullScreen,e)}var M=['<button class="control add-fullscreen" aria-disabled="false" title="',gettext("Fill browser"),'" aria-label="',gettext("Fill browser"),'">','<span class="icon fa fa-arrows-alt" aria-hidden="true"></span>',"</button>"].join(""),L=function(){return"fullscreenEnabled"in document?{fullscreenElement:"fullscreenElement",fullscreenEnabled:"fullscreenEnabled",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"}:"webkitFullscreenEnabled"in document?{fullscreenElement:"webkitFullscreenElement",fullscreenEnabled:"webkitFullscreenEnabled",requestFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror"}:"mozFullScreenEnabled"in document?{fullscreenElement:"mozFullScreenElement",fullscreenEnabled:"mozFullScreenEnabled",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",fullscreenchange:"mozfullscreenchange",fullscreenerror:"mozfullscreenerror"}:"msFullscreenEnabled"in document?{fullscreenElement:"msFullscreenElement",fullscreenEnabled:"msFullscreenEnabled",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",fullscreenchange:"MSFullscreenChange",fullscreenerror:"MSFullscreenError"}:{}}();return function(e){var t=i.Deferred();return e.videoFullScreen={},v(e),o(e),d(e),t.resolve(),t.promise()}}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/05_video_quality_control.js":function(e,t,n){"use strict";(function(i,a){var r,s;r=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(s=function(e){function t(e){var t={destroy:n,fetchAvailableQualities:d,onQualityChange:l,showQualityControl:o,toggleQuality:u};e.bindTo(t,e.videoQualityControl,e)}function n(){this.videoQualityControl.el.off({click:this.videoQualityControl.toggleQuality,destroy:this.videoQualityControl.destroy}),this.el.off(".quality"),this.videoQualityControl.el.remove(),delete this.videoQualityControl}function r(t){var n=t.videoQualityControl.el=i(c.toString());t.videoQualityControl.quality="large",e.append(t.el.find(".secondary-controls"),e.HTML(n))}function s(e){e.videoQualityControl.el.on("click",e.videoQualityControl.toggleQuality),e.el.on("play.quality",a.once(e.videoQualityControl.fetchAvailableQualities)),e.el.on("destroy.quality",e.videoQualityControl.destroy)}function o(){this.videoQualityControl.el.removeClass("is-hidden")}function d(){var e=this.videoPlayer.player.getAvailableQualityLevels();this.config.availableHDQualities=a.intersection(e,["highres","hd1080","hd720"]),this.config.availableHDQualities.length>0&&(this.trigger("videoQualityControl.showQualityControl"),this.trigger("videoQualityControl.onQualityChange",this.videoQualityControl.quality)),this.trigger("videoPlayer.handlePlaybackQualityChange",this.videoQualityControl.quality)}function l(e){var t;this.videoQualityControl.quality=e,a.contains(this.config.availableHDQualities,e)?(t=gettext("on"),this.videoQualityControl.el.addClass("active").find(".control-text").text(t)):(t=gettext("off"),this.videoQualityControl.el.removeClass("active").find(".control-text").text(t))}function u(e){var t,n=this.videoQualityControl.quality,i=a.contains(this.config.availableHDQualities,n);e.preventDefault(),t=i?"large":"highres",this.trigger("videoPlayer.handlePlaybackQualityChange",t)}var c=e.interpolateHtml(e.HTML(['<button class="control quality-control is-hidden" aria-disabled="false" title="',"{highDefinition}",'">','<span class="icon icon-hd" aria-hidden="true">HD</span>','<span class="sr text-translation">',"{highDefinition}","</span>&nbsp;",'<span class="sr control-text">',"{off}","</span>","</button>"].join("")),{highDefinition:gettext("High Definition"),off:gettext("off")});return function(e){var n=i.Deferred();if("youtube"===e.videoType)return e.videoQualityControl={},t(e),r(e),s(e),n.resolve(),n.promise()}}.apply(t,r))&&(e.exports=s)}).call(t,n(0),n(1))},"./common/lib/xmodule/xmodule/js/src/video/06_video_progress_slider.js":function(e,t,n){(function(n,i){var a,r;a=[],void 0!==(r=function(){function e(e){var n={destroy:t,buildSlider:o,getRangeParams:l,onSlide:u,onStop:c,updatePlayTime:h,updateStartEndTimeRegion:d,notifyThroughHandleEnd:m,getTimeDescription:f,focusSlider:_};e.bindTo(n,e.videoProgressSlider,e)}function t(){this.videoProgressSlider.el.removeAttr("tabindex").slider("destroy"),this.el.off("destroy",this.videoProgressSlider.destroy),delete this.videoProgressSlider}function a(e){e.videoProgressSlider.el.on("keypress",p.bind(e)),e.el.on("destroy",e.videoProgressSlider.destroy)}function r(e){e.videoProgressSlider.el=n(g),e.el.find(".video-controls").prepend(e.videoProgressSlider.el),e.videoProgressSlider.buildSlider(),s(e),a(e)}function s(e){e.videoProgressSlider.handle=e.videoProgressSlider.el.find(".ui-slider-handle"),e.videoProgressSlider.el.attr({tabindex:-1}),e.videoProgressSlider.handle.attr({role:"slider","aria-disabled":!1,"aria-valuetext":f(e.videoProgressSlider.slider.slider("option","value")),"aria-valuemax":e.videoPlayer.duration(),"aria-valuemin":"0","aria-valuenow":e.videoPlayer.currentTime,tabindex:"0","aria-label":gettext("Video position. Press space to toggle playback")})}function o(){var e=i.joinHtml(i.HTML('<div class="ui-slider-handle progress-handle"></div>'));this.videoProgressSlider.el.append(e.text),this.videoProgressSlider.slider=this.videoProgressSlider.el.slider({range:"min",min:this.config.startTime,max:this.config.endTime,slide:this.videoProgressSlider.onSlide,stop:this.videoProgressSlider.onStop,step:5}),this.videoProgressSlider.sliderProgress=this.videoProgressSlider.slider.find(".ui-slider-range.ui-widget-header.ui-slider-range-min")}function d(e){var t,n,i;e.duration&&(i=e.duration,t=this.config.startTime,n=this.config.endTime,t>i?t=0:this.isFlashMode()&&(t/=Number(this.speed)),null===n||n>i?n=i:this.isFlashMode()&&(n/=Number(this.speed)),0===t&&n===i||l(t,n,i))}function l(e,t,n){var i=100/n,a=e*i;return{left:a+"%",width:t*i-a+"%"}}function u(e,t){var n=t.value,i=this.videoPlayer.duration();this.config.endTime&&(i=Math.min(this.config.endTime,i)),this.videoProgressSlider.frozen=!0,this.videoProgressSlider.lastSeekValue=n,this.trigger("videoControl.updateVcrVidTime",{time:n,duration:i}),this.trigger("videoPlayer.onSlideSeek",{type:"onSlideSeek",time:n}),this.videoProgressSlider.handle.attr("aria-valuetext",f(this.videoPlayer.currentTime))}function c(e,t){var n=this;this.videoProgressSlider.frozen=!0,this.videoProgressSlider.lastSeekValue!==t.value&&this.trigger("videoPlayer.onSlideSeek",{type:"onSlideSeek",time:t.value}),this.videoProgressSlider.handle.attr("aria-valuetext",f(this.videoPlayer.currentTime)),setTimeout(function(){n.videoProgressSlider.frozen=!1},200)}function h(e){var t=Math.floor(e.time),n=Math.floor(e.duration);null!==this.config.endTime&&(n=Math.min(this.config.endTime,n)),this.videoProgressSlider.slider&&!this.videoProgressSlider.frozen&&this.videoProgressSlider.slider.slider("option","max",n).slider("option","value",t),this.videoProgressSlider.handle.attr({"aria-valuemax":n,"aria-valuenow":t})}function m(e){e.end?this.videoProgressSlider.handle.attr("title",gettext("Video ended")).focus():this.videoProgressSlider.handle.attr("title",gettext("Video position"))}function f(e){var t=Math.floor(e),n=Math.floor(t/60),i=Math.floor(n/60),a=function(e,t){var n;switch(t){case"hour":n=ngettext("%(value)s hour","%(value)s hours",e);break;case"minute":n=ngettext("%(value)s minute","%(value)s minutes",e);break;case"second":n=ngettext("%(value)s second","%(value)s seconds",e)}return interpolate(n,{value:e},!0)};return t%=60,n%=60,i?a(i,"hour")+" "+a(n,"minute")+" "+a(t,"second"):n?a(n,"minute")+" "+a(t,"second"):a(t,"second")}function _(){this.videoProgressSlider.handle.attr("aria-valuetext",f(this.videoPlayer.currentTime)),this.videoProgressSlider.el.trigger("focus")}function p(e){32===e.which&&(e.preventDefault(),this.videoCommands.execute("togglePlayback"))}var g=['<div class="slider" role="application" title="',gettext("Video position. Press space to toggle playback"),'"></div>'].join("");return function(t){var i=n.Deferred();return t.videoProgressSlider={},e(t),r(t),i.resolve(),i.promise()}}.apply(t,a))&&(e.exports=r)}).call(t,n(0),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"))},"./common/lib/xmodule/xmodule/js/src/video/07_video_volume_control.js":function(e,t,n){"use strict";(function(i,a){var r,s;r=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(s=function(e){var t=function e(t,n){return this instanceof e?(i.bindAll(this,"keyDownHandler","updateVolumeSilently","onVolumeChangeHandler","openMenu","closeMenu","toggleMuteHandler","keyDownButtonHandler","destroy"),this.state=t,this.state.videoVolumeControl=this,this.i18n=n,this.initialize(),a.Deferred().resolve().promise()):new e(t,n)};t.prototype={min:0,max:100,step:20,videoVolumeControlHtml:e.interpolateHtml(e.HTML(['<div class="volume" role="application">','<p class="sr instructions">',"{volumeInstructions}","</p>",'<button class="control" aria-disabled="false"','" aria-expanded="false" title="',"{adjustVideoVolume}",'" aria-label="',"{adjustVideoVolume}",'">','<span class="icon fa fa-volume-up" aria-hidden="true"></span>',"</button>",'<div class="volume-slider-container" aria-hidden="true" title="',"{adjustVideoVolume}",'">','<div class="volume-slider" ','role="slider"','aria-orientation="vertical" ','aria-valuemin="0" ','aria-valuemax="100" ','aria-valuenow="" ','aria-label="',"{volumeText}",'"></div>',"</div>","</div>"].join("")),{volumeInstructions:gettext("Click on this button to mute or unmute this video or press UP or DOWN buttons to increase or decrease volume level."),adjustVideoVolume:gettext("Adjust video volume"),volumeText:gettext("Volume")}),destroy:function(){this.volumeSlider.slider("destroy"),this.state.el.find("iframe").removeAttr("tabindex"),this.a11y.destroy(),this.cookie=this.a11y=null,this.closeMenu(),this.state.el.off("play.volume").off({keydown:this.keyDownHandler,volumechange:this.onVolumeChangeHandler}),this.el.off({mouseenter:this.openMenu,mouseleave:this.closeMenu}),this.button.off({mousedown:this.toggleMuteHandler,keydown:this.keyDownButtonHandler,focus:this.openMenu,blur:this.closeMenu}),this.el.remove(),delete this.state.videoVolumeControl},initialize:function(){var e;if(this.state.isTouch)return!1;this.el=a(this.videoVolumeControlHtml.toString()),this.state.el.find("iframe").attr("tabindex",-1),this.button=this.el.children(".control"),this.cookie=new r(this.min,this.max),this.a11y=new n(this.button,this.min,this.max,this.i18n),e=this.cookie.getVolume(),this.storedVolume=this.max,this.render(),this.bindHandlers(),this.setVolume(e,!0,!1),this.checkMuteButtonStatus(e)},render:function(){var t=this.el.find(".volume-slider"),n="volume-instructions-"+this.state.id;e.append(t,e.HTML('<div class="ui-slider-handle volume-handle"></div>')),this.volumeSlider=t.slider({orientation:"vertical",range:"min",min:this.min,max:this.max,slide:this.onSlideHandler.bind(this)}),t.find(".volume-handle").attr("tabindex",-1),this.state.el.find(".secondary-controls").append(this.el),this.el.find(".instructions").attr("id",n),this.button.attr("aria-describedby",n)},bindHandlers:function(){this.state.el.on({"play.volume":i.once(this.updateVolumeSilently),volumechange:this.onVolumeChangeHandler}),this.state.el.find(".volume").on({mouseenter:this.openMenu,mouseleave:this.closeMenu}),this.button.on({keydown:this.keyDownHandler,click:!1,mousedown:this.toggleMuteHandler,focus:this.openMenu,blur:this.closeMenu}),this.state.el.on("destroy",this.destroy)},updateVolumeSilently:function(){this.state.el.trigger("volumechange:silent",[this.getVolume()])},getVolume:function(){return this.volume},setVolume:function(e,t,n){if(e===this.getVolume())return!1;this.volume=e,this.a11y.update(this.getVolume()),n||this.updateSliderView(this.getVolume()),t||(this.cookie.setVolume(this.getVolume()),this.state.el.trigger("volumechange",[this.getVolume()]))},increaseVolume:function(){var e=Math.min(this.getVolume()+this.step,this.max);this.setVolume(e,!1,!1),this.el.find(".volume-slider").attr("aria-valuenow",e)},decreaseVolume:function(){var e=Math.max(this.getVolume()-this.step,this.min);this.setVolume(e,!1,!1),this.el.find(".volume-slider").attr("aria-valuenow",e)},updateSliderView:function(e){this.volumeSlider.slider("value",e),this.el.find(".volume-slider").attr("aria-valuenow",e)},mute:function(e){var t;this.updateMuteButtonView(e),e&&(this.storedVolume=this.getVolume()||this.max),t=e?0:this.storedVolume,this.setVolume(t,!1,!1),this.el.find(".volume-slider").attr("aria-valuenow",t)},getMuteStatus:function(){return 0===this.getVolume()},updateMuteButtonView:function(e){var t=e?"addClass":"removeClass";this.el[t]("is-muted"),e?this.el.find(".control .icon").removeClass("fa-volume-up").addClass("fa-volume-off"):this.el.find(".control .icon").removeClass("fa-volume-off").addClass("fa-volume-up")},toggleMute:function(){this.mute(!this.getMuteStatus())},checkMuteButtonStatus:function(e){e<=this.min&&(this.updateMuteButtonView(!0),this.state.el.off("volumechange.is-muted"),this.state.el.on("volumechange.is-muted",i.once(function(){this.updateMuteButtonView(!1)}.bind(this))))},openMenu:function(){this.el.addClass("is-opened"),this.button.attr("aria-expanded","true")},closeMenu:function(){this.el.removeClass("is-opened"),this.button.attr("aria-expanded","false")},keyDownHandler:function(e){if(e.altKey)return!0;if(a(e.target).hasClass("ui-slider-handle"))return!0;var t=a.ui.keyCode;switch(e.keyCode){case t.UP:return!!e.shiftKey||(this.increaseVolume(),!1);case t.DOWN:return!!e.shiftKey||(this.decreaseVolume(),!1);case t.SPACE:case t.ENTER:return!!e.shiftKey||(this.toggleMute(),!1)}return!0},keyDownButtonHandler:function(e){if(e.altKey)return!0;var t=a.ui.keyCode;switch(e.keyCode){case t.ENTER:case t.SPACE:return this.toggleMute(),!1}return!0},onSlideHandler:function(e,t){this.setVolume(t.value,!1,!0),this.el.find(".volume-slider").attr("aria-valuenow",t.volume)},toggleMuteHandler:function(e){this.toggleMute(),e.preventDefault()},onVolumeChangeHandler:function(e,t){this.checkMuteButtonStatus(t)}};var n=function(e,t,n,i){this.min=t,this.max=n,this.button=e,this.i18n=i,this.initialize()};n.prototype={destroy:function(){this.liveRegion.remove()},initialize:function(){this.liveRegion=a("<div />",{class:"sr video-live-region","aria-hidden":"false","aria-live":"polite"}),this.button.after(e.HTML(this.liveRegion).toString())},update:function(e){this.liveRegion.text([this.getVolumeDescription(e),this.i18n.Volume+"."].join(" ")),a(this.button).parent().find(".volume-slider").attr("aria-valuenow",e)},getVolumeDescription:function(e){return 0===e?this.i18n.Muted:e<=20?this.i18n["Very low"]:e<=40?this.i18n.Low:e<=60?this.i18n.Average:e<=80?this.i18n.Loud:e<=99?this.i18n["Very loud"]:this.i18n.Maximum}};var r=function(e,t){this.min=e,this.max=t,this.cookieName="video_player_volume_level"};return r.prototype={getVolume:function(){var e=parseInt(a.cookie(this.cookieName),10);return i.isFinite(e)?(e=Math.max(e,this.min),e=Math.min(e,this.max)):e=this.max,e},setVolume:function(e){a.cookie(this.cookieName,e,{expires:3650,path:"/"})}},t}.apply(t,r))&&(e.exports=s)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/08_video_auto_advance_control.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n(1)],void 0!==(r=function(e,t){var n=function e(n){return this instanceof e?(t.bindAll(this,"onClick","destroy","autoPlay","autoAdvance"),this.state=n,this.state.videoAutoAdvanceControl=this,this.initialize(),i.Deferred().resolve().promise()):new e(n)};return n.prototype={template:e.interpolateHtml(e.HTML(['<button class="control auto-advance" aria-disabled="false" title="',"{autoAdvanceText}",'">','<span class="label" aria-hidden="true">',"{autoAdvanceText}","</span>","</button>"].join("")),{autoAdvanceText:gettext("Auto-advance")}).toString(),destroy:function(){this.el.off({click:this.onClick}),this.el.remove(),this.state.el.off({ready:this.autoPlay,ended:this.autoAdvance,destroy:this.destroy}),delete this.state.videoAutoAdvanceControl},initialize:function(){var e=this.state;return this.el=i(this.template),this.render(),this.setAutoAdvance(e.auto_advance),this.bindHandlers(),!0},render:function(){this.state.el.find(".secondary-controls").prepend(this.el)},bindHandlers:function(){this.el.on({click:this.onClick}),this.state.el.on({ready:this.autoPlay,ended:this.autoAdvance,destroy:this.destroy})},onClick:function(e){var t=!this.state.auto_advance;e.preventDefault(),this.setAutoAdvance(t),this.el.trigger("autoadvancechange",[t])},setAutoAdvance:function(e){e?this.el.addClass("active"):this.el.removeClass("active")},autoPlay:function(){var e=1===this.state.el.parents(".vert-0").length;this.state.auto_advance&&e&&this.state.videoCommands.execute("play")},autoAdvance:function(){this.state.auto_advance&&i(".sequence-nav-button.button-next").first().click()}},n}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/08_video_speed_control.js":function(e,t,n){"use strict";(function(i,a){var r,s;r=[n("./common/lib/xmodule/xmodule/js/src/video/00_iterator.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(s=function(e,t){var n=function e(t){return this instanceof e?(i.bindAll(this,"onSetSpeed","onRenderSpeed","clickLinkHandler","keyDownLinkHandler","mouseEnterHandler","mouseLeaveHandler","clickMenuHandler","keyDownMenuHandler","destroy"),this.state=t,this.state.videoSpeedControl=this,this.initialize(),a.Deferred().resolve().promise()):new e(t)};return n.prototype={template:['<div class="speeds menu-container" role="application">','<p class="sr instructions">',gettext("Press UP to enter the speed menu then use the UP and DOWN arrow keys to navigate the different speeds, then press ENTER to change to the selected speed."),"</p>",'<button class="control speed-button" aria-disabled="false" aria-expanded="false"','title="',gettext("Adjust video speed"),'">',"<span>",'<span class="icon fa fa-caret-right" aria-hidden="true"></span>',"</span>",'<span class="label">',gettext("Speed")," </span>",'<span class="value"></span>',"</button>",'<ol class="video-speeds menu"></ol>',"</div>"].join(""),destroy:function(){this.el.off({mouseenter:this.mouseEnterHandler,mouseleave:this.mouseLeaveHandler,click:this.clickMenuHandler,keydown:this.keyDownMenuHandler}),this.state.el.off({"speed:set":this.onSetSpeed,"speed:render":this.onRenderSpeed}),this.closeMenu(!0),this.speedsContainer.remove(),this.el.remove(),delete this.state.videoSpeedControl},initialize:function(){var e=this.state;return this.isPlaybackRatesSupported(e)?(this.el=a(this.template),this.speedsContainer=this.el.find(".video-speeds"),this.speedButton=this.el.find(".speed-button"),this.render(e.speeds,e.speed),this.setSpeed(e.speed,!0,!0),this.bindHandlers(),!0):(console.log("[Video info]: playbackRate is not supported."),!1)},render:function(n,i){var r=this.speedsContainer,s=n.concat().reverse(),o="speed-instructions-"+this.state.id,d=a.map(s,function(e){return t.interpolateHtml(t.HTML(['<li data-speed="{speed}">','<button class="control speed-option" tabindex="-1" aria-pressed="false">',"{speed}x","</button>","</li>"].join("")),{speed:e}).toString()});t.setHtml(r,t.HTML(d)),this.speedLinks=new e(r.find(".speed-option")),t.prepend(this.state.el.find(".secondary-controls"),t.HTML(this.el)),this.setActiveSpeed(i),this.el.find(".instructions").attr("id",o),this.speedButton.attr("aria-describedby",o)},bindHandlers:function(){this.el.on({mouseenter:this.mouseEnterHandler,mouseleave:this.mouseLeaveHandler,click:this.openMenu,keydown:this.keyDownMenuHandler}),this.speedsContainer.on({click:this.clickLinkHandler,keydown:this.keyDownLinkHandler},".speed-option"),this.state.el.on({"speed:set":this.onSetSpeed,"speed:render":this.onRenderSpeed}),this.state.el.on("destroy",this.destroy)},onSetSpeed:function(e,t){this.setSpeed(t,!0)},onRenderSpeed:function(e,t,n){this.render(t,n)},isPlaybackRatesSupported:function(e){var t="html5"===e.videoType,n=e.isTouch,i=document.createElement("video");return!n||t&&!Boolean(i.playbackRate)},openMenu:function(e){e&&a(window).on("click.speedMenu",this.clickMenuHandler),this.el.addClass("is-opened"),this.speedButton.attr("tabindex",-1).attr("aria-expanded","true")},closeMenu:function(e){e&&a(window).off("click.speedMenu"),this.el.removeClass("is-opened"),this.speedButton.attr("tabindex",0).attr("aria-expanded","false")},setSpeed:function(e,t,n){var i=this.state.speedToString(e);(i!==this.currentSpeed||n)&&(this.speedsContainer.find("li").siblings("li[data-speed='"+i+"']"),this.speedButton.find(".value").text(i+"x"),this.currentSpeed=i,t||this.el.trigger("speedchange",[i,this.state.speed])),this.resetActiveSpeed(),this.setActiveSpeed(i)},resetActiveSpeed:function(){var e=this.speedsContainer.find("li");a(e).each(function(e,t){a(t).removeClass("is-active").find(".speed-option").attr("aria-pressed","false")})},setActiveSpeed:function(e){this.speedsContainer.find('li[data-speed="'+this.state.speedToString(e)+'"]').addClass("is-active").find(".speed-option").attr("aria-pressed","true"),this.speedButton.attr("title",gettext("Video speed: ")+this.state.speedToString(e)+"x")},clickMenuHandler:function(){return this.closeMenu(),!1},clickLinkHandler:function(e){var t=a(e.currentTarget).parent(),n=a(t).data("speed");return this.resetActiveSpeed(),this.setActiveSpeed(n),this.state.videoCommands.execute("speed",n),this.closeMenu(!0),!1},mouseEnterHandler:function(){return this.openMenu(),!1},mouseLeaveHandler:function(){return this.speedLinks.list.is(":focus")||this.closeMenu(),!1},keyDownMenuHandler:function(e){var t=a.ui.keyCode;switch(e.keyCode){case t.ENTER:case t.SPACE:case t.UP:this.openMenu(!0),this.speedLinks.last().focus();break;case t.ESCAPE:this.closeMenu(!0)}return e.keyCode===t.TAB},keyDownLinkHandler:function(e){if(e.altKey)return!0;var t=a.ui.keyCode,n=this,i=a(e.currentTarget).parent(),r=i.index(),s=i.data("speed");switch(e.keyCode){case t.TAB:return setTimeout(function(){n.closeMenu(!0)},25),!0;case t.ESCAPE:return this.closeMenu(!0),this.speedButton.focus(),!1;case t.UP:return!!e.shiftKey||(this.speedLinks.prev(r).focus(),!1);case t.DOWN:return!!e.shiftKey||(this.speedLinks.next(r).focus(),!1);case t.ENTER:case t.SPACE:return this.closeMenu(!0),this.speedButton.focus(),this.setSpeed(this.state.speedToString(s)),!1}return!0}},n}.apply(t,r))&&(e.exports=s)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/095_video_context_menu.js":function(e,t,n){"use strict";(function(i,a){var r,s;r=[n("./common/lib/xmodule/xmodule/js/src/video/00_component.js")],void 0!==(s=function(e){var t,n,r,s,o,d;return t=e.extend({initialize:function(e){this.options=i.extend(!0,{label:"",prefix:"edx-",dataAttrs:{menu:this},attrs:{},items:[],callback:i.noop,initialize:i.noop},e),this.id=a.uniqueId(),this.element=this.createElement(),this.element.attr(this.options.attrs).data(this.options.dataAttrs),this.children=[],this.delegateEvents(),this.options.initialize.call(this,this)},destroy:function(){a.invoke(this.getChildren(),"destroy"),this.undelegateEvents(),this.getElement().remove()},open:function(){return this.getElement().addClass("is-opened"),this},close:function(){},closeSiblings:function(){return a.invoke(this.getSiblings(),"close"),this},getElement:function(){return this.element},addChild:function(e){var t=null,n=null;return this.hasChildren()&&(n=this.getLastChild(),n.next=e,t=this.getFirstChild(),t.prev=e),e.parent=this,e.next=t,e.prev=n,this.children.push(e),this},getChildren:function(){return this.children.concat()},hasChildren:function(){return this.getChildren().length>0},getFirstChild:function(){return a.first(this.children)},getLastChild:function(){return a.last(this.children)},bindEvent:function(e,t,n){return i(e).on(this.addNamespace(t),n),this},getNext:function(){for(var e=this.next;e.isHidden()&&this.id!==e.id;)e=e.next;return e},getPrev:function(){for(var e=this.prev;e.isHidden()&&this.id!==e.id;)e=e.prev;return e},createElement:function(){return null},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},populateElement:function(){},focus:function(){return this.getElement().focus(),this.closeSiblings(),this},isHidden:function(){return this.getElement().is(":hidden")},getSiblings:function(){for(var e=[],t=this;t.next&&t.next.id!==this.id;)t=t.next,e.push(t);return e},select:function(){},unselect:function(){},setLabel:function(){},itemHandler:function(){},keyDownHandler:function(){},delegateEvents:function(){},undelegateEvents:function(){this.getElement().off("."+this.id)},addNamespace:function(e){return a.map(e.split(/\s+/),function(e){return e+"."+this.id},this).join(" ")}}),n=t.extend({delegateEvents:function(){return this.bindEvent(this.getElement(),"keydown mouseleave mouseover",this.itemHandler.bind(this)).bindEvent(this.getElement(),"contextmenu",function(e){e.preventDefault()}),this},populateElement:function(){var e=document.createDocumentFragment();return a.each(this.getChildren(),function(t){e.appendChild(t.populateElement()[0])},this),this.appendContent([e]),this.isRendered=!0,this.getElement()},close:function(){return this.closeChildren(),this.getElement().removeClass("is-opened"),this},closeChildren:function(){return a.invoke(this.getChildren(),"close"),this},itemHandler:function(e){e.preventDefault();var t=i(e.target).data("menu");switch(e.type){case"keydown":this.keyDownHandler.call(this,e,t);break;case"mouseover":this.mouseOverHandler.call(this,e,t);break;case"mouseleave":this.mouseLeaveHandler.call(this,e,t)}},keyDownHandler:function(){},mouseOverHandler:function(){},mouseLeaveHandler:function(){}}),r=n.extend({initialize:function(e,t,a){this.contextmenuElement=i(t),this.container=i(a),this.overlay=this.getOverlay(),n.prototype.initialize.apply(this,arguments),this.build(this,this.options.items)},createElement:function(){return i("<ol />",{class:["contextmenu",this.options.prefix+"contextmenu"].join(" "),role:"menu",tabindex:-1})},delegateEvents:function(){return n.prototype.delegateEvents.call(this),this.bindEvent(this.contextmenuElement,"contextmenu",this.contextmenuHandler.bind(this)).bindEvent(window,"resize",a.debounce(this.close.bind(this),100)),this},destroy:function(){return n.prototype.destroy.call(this),this.overlay.destroy(),this.contextmenuElement.removeData("contextmenu"),this},undelegateEvents:function(){return n.prototype.undelegateEvents.call(this),this.contextmenuElement.off(this.addNamespace("contextmenu")),this.overlay.undelegateEvents(),this},appendContent:function(e){var t=i(e);return this.getElement().append(t),this},addChild:function(){return n.prototype.addChild.apply(this,arguments),this.next=this.getFirstChild(),this.prev=this.getLastChild(),this},build:function(e,t){return a.each(t,function(t){var n;n=a.has(t,"items")?this.build(new o(t,this.contextmenuElement),t.items):new d(t),e.addChild(n)},this),e},focus:function(){return this.getElement().focus(),this},open:function(){var e=this.isRendered?this.getElement():this.populateElement();return this.container.append(e),t.prototype.open.call(this),this.overlay.show(this.container),this},close:function(){return n.prototype.close.call(this),this.getElement().detach(),this.overlay.hide(),this},position:function(e){return this.getElement().position({my:"left top",of:e,collision:"flipfit flipfit",within:this.contextmenuElement}),this},pointInContainerBox:function(e,t){var n=this.contextmenuElement.offset(),i={x0:n.left,y0:n.top,x1:n.left+this.contextmenuElement.outerWidth(),y1:n.top+this.contextmenuElement.outerHeight()};return i.x0<=e&&e<=i.x1&&i.y0<=t&&t<=i.y1},getOverlay:function(){return new s(this.close.bind(this),function(e){e.preventDefault(),this.pointInContainerBox(e.pageX,e.pageY)?(this.position(e).focus(),this.closeChildren()):this.close()}.bind(this))},contextmenuHandler:function(e){e.preventDefault(),e.stopPropagation(),this.open().position(e).focus()},keyDownHandler:function(e,t){var n=i.ui.keyCode;switch(e.keyCode){case n.UP:t.getPrev().focus(),e.stopPropagation();break;case n.DOWN:t.getNext().focus(),e.stopPropagation();break;case n.TAB:e.stopPropagation();break;case n.ESCAPE:this.close()}return!1}}),s=e.extend({ns:".overlay",initialize:function(e,t){this.element=i("<div />",{class:"overlay"}),this.clickHandler=e,this.contextmenuHandler=t},destroy:function(){this.getElement().remove(),this.undelegateEvents()},getElement:function(){return this.element},hide:function(){return this.getElement().detach(),this.undelegateEvents(),this},show:function(e){var t=i(this.getElement());return i(e).append(t),this.delegateEvents(),this},delegateEvents:function(){var e=this;return i(document).on("click"+this.ns,function(){a.isFunction(e.clickHandler)&&e.clickHandler.apply(this,arguments),e.hide()}).on("contextmenu"+this.ns,function(){a.isFunction(e.contextmenuHandler)&&e.contextmenuHandler.apply(this,arguments)}),this},undelegateEvents:function(){return i(document).off(this.ns),this}}),o=n.extend({initialize:function(e,t){this.contextmenuElement=t,n.prototype.initialize.apply(this,arguments)},createElement:function(){var e,t,n=i("<li />",{class:["submenu-item","menu-item",this.options.prefix+"submenu-item"].join(" "),"aria-expanded":"false","aria-haspopup":"true","aria-labelledby":"submenu-item-label-"+this.id,role:"menuitem",tabindex:-1});return e=i("<span />",{id:"submenu-item-label-"+this.id,text:this.options.label}),this.label=e.appendTo(n),t=i("<ol />",{class:["submenu",this.options.prefix+"submenu"].join(" "),role:"menu"}),this.list=t.appendTo(n),n},appendContent:function(e){var t=i(e);return this.list.append(t),this},setLabel:function(e){return this.label.text(e),this},openKeyboard:function(){return this.hasChildren()&&(this.open(),this.getFirstChild().focus()),this},keyDownHandler:function(e){var t=i.ui.keyCode;switch(e.keyCode){case t.LEFT:this.close().focus(),e.stopPropagation();break;case t.RIGHT:case t.ENTER:case t.SPACE:this.openKeyboard(),e.stopPropagation()}return!1},open:function(){return n.prototype.open.call(this),this.getElement().attr({"aria-expanded":"true"}),this.position(),this},close:function(){return n.prototype.close.call(this),this.getElement().attr({"aria-expanded":"false"}),this},position:function(){return this.list.position({my:"left top",at:"right top",of:this.getElement(),collision:"flipfit flipfit",within:this.contextmenuElement}),this},mouseOverHandler:function(){clearTimeout(this.timer),this.timer=setTimeout(this.open.bind(this),200),this.focus()},mouseLeaveHandler:function(){clearTimeout(this.timer),this.timer=setTimeout(this.close.bind(this),200),this.focus()}}),d=t.extend({createElement:function(){var e=["menu-item",this.options.prefix+"menu-item",this.options.isSelected?"is-selected":""].join(" ");return i("<li />",{class:e,"aria-selected":this.options.isSelected?"true":"false",role:"menuitem",tabindex:-1,text:this.options.label})},populateElement:function(){return this.getElement()},delegateEvents:function(){return this.bindEvent(this.getElement(),"click keydown contextmenu mouseover",this.itemHandler.bind(this)),this},setLabel:function(e){return this.getElement().text(e),this},select:function(e){return this.options.callback.call(this,e,this,this.options),this.getElement().addClass("is-selected").attr({"aria-selected":"true"}),a.invoke(this.getSiblings(),"unselect"),this.getRoot().close(),this},unselect:function(){return this.getElement().removeClass("is-selected").attr({"aria-selected":"false"}),this},itemHandler:function(e){switch(e.preventDefault(),e.type){case"contextmenu":case"click":this.select();break;case"mouseover":this.focus(),e.stopPropagation();break;case"keydown":this.keyDownHandler.call(this,e,this)}},keyDownHandler:function(e){var t=i.ui.keyCode;switch(e.keyCode){case t.RIGHT:e.stopPropagation();break;case t.ENTER:case t.SPACE:this.select(),e.stopPropagation()}return!1}}),function(e,t){var n=function(t,n,i){var a=parseFloat(i.label);e.videoCommands.execute("speed",a)},s={items:[{label:t.Play,callback:function(){e.videoCommands.execute("togglePlayback")},initialize:function(n){e.el.on({play:function(){n.setLabel(t.Pause)},pause:function(){n.setLabel(t.Play)}})}},{label:e.videoVolumeControl.getMuteStatus()?t.Unmute:t.Mute,callback:function(){e.videoCommands.execute("toggleMute")},initialize:function(n){e.el.on({volumechange:function(){e.videoVolumeControl.getMuteStatus()?n.setLabel(t.Unmute):n.setLabel(t.Mute)}})}},{label:t["Fill browser"],callback:function(){e.videoCommands.execute("toggleFullScreen")},initialize:function(n){e.el.on({fullscreen:function(e,i){i?n.setLabel(t["Exit full browser"]):n.setLabel(t["Fill browser"])}})}},{label:t.Speed,items:a.map(e.speeds,function(t){var i=parseFloat(t)===e.speed;return{label:t+"x",callback:n,speed:t,isSelected:i}}),initialize:function(t){e.el.on({speedchange:function(e,n){var i=t.getChildren().filter(function(e){return e.options.speed===n})[0];i&&i.select()}})}}]};return i.fn.contextmenu=function(e,t){return this.each(function(){i(this).data("contextmenu",new r(t,this,e))})},e.isYoutubeType()||(e.el.find("video").contextmenu(e.el,s),e.el.on("destroy",function(){var e=i(this).find("video").data("contextmenu");e&&e.destroy()})),i.Deferred().resolve().promise()}}.apply(t,r))&&(e.exports=s)}).call(t,n(0),n(1))},"./common/lib/xmodule/xmodule/js/src/video/09_bumper.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a){if(!(this instanceof e))return new e(t,a);n.bindAll(this,"showMainVideoHandler","destroy","skipByDuration","destroyAndResolve"),this.dfd=i.Deferred(),this.element=a.el,this.element.addClass("is-bumper"),this.player=t,this.state=a,this.doNotShowAgain=!1,this.state.videoBumper=this,this.bindHandlers(),this.initialize(),this.maxBumperDuration=35};return e.prototype={initialize:function(){this.player()},getPromise:function(){return this.dfd.promise()},showMainVideoHandler:function(){this.state.storage.setItem("isBumperShown",!0),setTimeout(function(){this.saveState(),this.showMainVideo()}.bind(this),20)},destroyAndResolve:function(){this.destroy(),this.dfd.resolve()},showMainVideo:function(){this.state.videoPlayer?this.destroyAndResolve():this.state.el.on("initialize",this.destroyAndResolve)},skip:function(){this.element.trigger("skip",[this.doNotShowAgain]),this.showMainVideoHandler()},skipAndDoNotShowAgain:function(){this.doNotShowAgain=!0,this.skip()},skipByDuration:function(e,t){t>this.maxBumperDuration&&this.element.trigger("ended")},bindHandlers:function(){var e=["ended","error"].join(" ");this.element.on(e,this.showMainVideoHandler),this.element.on("timeupdate",this.skipByDuration)},saveState:function(){var e={bumper_last_view_date:!0};this.doNotShowAgain&&n.extend(e,{bumper_do_not_show_again:!0}),this.state.videoSaveStatePlugin&&this.state.videoSaveStatePlugin.saveState(!0,e)},destroy:function(){var e=["ended","error"].join(" ");this.element.off(e,this.showMainVideoHandler),this.element.off({timeupdate:this.skipByDuration,initialize:this.destroyAndResolve}),this.element.removeClass("is-bumper"),n.isFunction(this.state.videoPlayer.destroy)&&this.state.videoPlayer.destroy(),delete this.state.videoBumper}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_completion.js":function(e,t,n){"use strict";(function(n){var i,a;i=[],void 0!==(a=function(){var e=function e(t){return this instanceof e?(this.state=t,this.state.completionHandler=this,this.initialize(),n.Deferred().resolve().promise()):new e(t)};return e.prototype={destroy:function(){this.el.remove(),this.el.off("timeupdate.completion"),this.el.off("ended.completion"),delete this.state.completionHandler},initialize:function(){this.lastSentTime=void 0,this.isComplete=!1,this.completionPercentage=this.state.config.completionPercentage,this.startTime=this.state.config.startTime,this.endTime=this.state.config.endTime,this.isEnabled=this.state.config.completionEnabled,this.endTime&&(this.completeAfterTime=this.calculateCompleteAfterTime(this.startTime,this.endTime)),this.isEnabled&&this.bindHandlers()},bindHandlers:function(){var e=this;this.state.el.on("ended.completion",function(){e.handleEnded()}),this.state.el.on("timeupdate.completion",function(t,n){e.handleTimeUpdate(n)}),this.state.el.off("destroy",this.destroy)},handleEnded:function(){this.isComplete||this.markCompletion()},handleTimeUpdate:function(e){var t;if(!(this.isComplete||void 0!==this.lastSentTime&&e-this.lastSentTime<this.repostDelaySeconds())){if(void 0===this.completeAfterTime){if(!(t=this.state.videoPlayer.duration()))return;this.completeAfterTime=this.calculateCompleteAfterTime(this.startTime,t)}e>this.completeAfterTime&&this.markCompletion(e)}},markCompletion:function(e){var t,i=this;this.isComplete=!0,this.lastSentTime=e,this.state.config.publishCompletionUrl?n.ajax({type:"POST",url:this.state.config.publishCompletionUrl,contentType:"application/json",dataType:"json",data:JSON.stringify({completion:1}),success:function(){i.state.el.off("timeupdate.completion"),i.state.el.off("ended.completion")},error:function(e){i.complete=!1,t="Failed to submit completion",void 0!==e.responseJSON&&(t+=": "+e.responseJSON.error),console.warn(t)}}):console.warn("publishCompletionUrl not defined")},calculateCompleteAfterTime:function(e,t){return e+(t-e)*this.completionPercentage},repostDelaySeconds:function(){return 3}},e}.apply(t,i))&&(e.exports=a)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_events_bumper_plugin.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a,r){return this instanceof e?(n.bindAll(this,"onReady","onPlay","onEnded","onShowLanguageMenu","onHideLanguageMenu","onSkip","onShowCaptions","onHideCaptions","destroy"),this.state=t,this.options=n.extend({},r),this.state.videoEventsBumperPlugin=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a,r)};return e.moduleName="EventsBumperPlugin",e.prototype={destroy:function(){this.state.el.off(this.events),delete this.state.videoEventsBumperPlugin},initialize:function(){this.events={ready:this.onReady,play:this.onPlay,"ended stop":this.onEnded,skip:this.onSkip,"language_menu:show":this.onShowLanguageMenu,"language_menu:hide":this.onHideLanguageMenu,"captions:show":this.onShowCaptions,"captions:hide":this.onHideCaptions,destroy:this.destroy},this.bindHandlers()},bindHandlers:function(){this.state.el.on(this.events)},onReady:function(){this.log("edx.video.bumper.loaded")},onPlay:function(){this.log("edx.video.bumper.played",{currentTime:this.getCurrentTime()})},onEnded:function(){this.log("edx.video.bumper.stopped",{currentTime:this.getCurrentTime()})},onSkip:function(e,t){var n={currentTime:this.getCurrentTime()},i="edx.video.bumper."+(t?"dismissed":"skipped");this.log(i,n)},onShowLanguageMenu:function(){this.log("edx.video.bumper.transcript.menu.shown")},onHideLanguageMenu:function(){this.log("edx.video.bumper.transcript.menu.hidden")},onShowCaptions:function(){this.log("edx.video.bumper.transcript.shown",{currentTime:this.getCurrentTime()})},onHideCaptions:function(){this.log("edx.video.bumper.transcript.hidden",{currentTime:this.getCurrentTime()})},getCurrentTime:function(){var e=this.state.videoPlayer;return e?e.currentTime:0},getDuration:function(){var e=this.state.videoPlayer;return e?e.duration():0},log:function(e,t){var i=n.extend({host_component_id:this.state.id,bumper_id:this.state.config.sources[0]||"",duration:this.getDuration(),code:"html5"},t,this.options.data);Logger.log(e,i)}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_events_plugin.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a,r){return this instanceof e?(n.bindAll(this,"onReady","onPlay","onPause","onEnded","onSeek","onSpeedChange","onAutoAdvanceChange","onShowLanguageMenu","onHideLanguageMenu","onSkip","onShowTranscript","onHideTranscript","onShowCaptions","onHideCaptions","destroy"),this.state=t,this.options=n.extend({},r),this.state.videoEventsPlugin=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a,r)};return e.moduleName="EventsPlugin",e.prototype={destroy:function(){this.state.el.off(this.events),delete this.state.videoEventsPlugin},initialize:function(){this.events={ready:this.onReady,play:this.onPlay,pause:this.onPause,"ended stop":this.onEnded,seek:this.onSeek,skip:this.onSkip,speedchange:this.onSpeedChange,autoadvancechange:this.onAutoAdvanceChange,"language_menu:show":this.onShowLanguageMenu,"language_menu:hide":this.onHideLanguageMenu,"transcript:show":this.onShowTranscript,"transcript:hide":this.onHideTranscript,"captions:show":this.onShowCaptions,"captions:hide":this.onHideCaptions,destroy:this.destroy},this.bindHandlers(),this.emitPlayVideoEvent=!0},bindHandlers:function(){this.state.el.on(this.events)},onReady:function(){this.log("load_video")},onPlay:function(){this.emitPlayVideoEvent&&(this.log("play_video",{currentTime:this.getCurrentTime()}),this.emitPlayVideoEvent=!1)},onPause:function(){this.log("pause_video",{currentTime:this.getCurrentTime()}),this.emitPlayVideoEvent=!0},onEnded:function(){this.log("stop_video",{currentTime:this.getCurrentTime()}),this.emitPlayVideoEvent=!0},onSkip:function(e,t){var n={currentTime:this.getCurrentTime()},i=t?"do_not_show_again_video":"skip_video";this.log(i,n)},onSeek:function(e,t,n,i){this.log("seek_video",{old_time:n,new_time:t,type:i}),this.emitPlayVideoEvent=!0},onSpeedChange:function(e,t,n){this.log("speed_change_video",{current_time:this.getCurrentTime(),old_speed:this.state.speedToString(n),new_speed:this.state.speedToString(t)})},onAutoAdvanceChange:function(e,t){this.log("auto_advance_change_video",{enabled:t})},onShowLanguageMenu:function(){this.log("edx.video.language_menu.shown")},onHideLanguageMenu:function(){this.log("edx.video.language_menu.hidden",{language:this.getCurrentLanguage()})},onShowTranscript:function(){this.log("show_transcript",{current_time:this.getCurrentTime()})},onHideTranscript:function(){this.log("hide_transcript",{current_time:this.getCurrentTime()})},onShowCaptions:function(){this.log("edx.video.closed_captions.shown",{current_time:this.getCurrentTime()})},onHideCaptions:function(){this.log("edx.video.closed_captions.hidden",{current_time:this.getCurrentTime()})},getCurrentTime:function(){var e=this.state.videoPlayer;return e?e.currentTime:0},getCurrentLanguage:function(){return this.state.lang},log:function(e,t){var i=n.extend({id:this.state.id,code:this.state.isYoutubeType()?this.state.youtubeId():this.state.canPlayHLS?"hls":"html5",duration:this.state.duration},t,this.options.data);Logger.log(e,i)}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_play_pause_control.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a){return this instanceof e?(n.bindAll(this,"play","pause","onClick","destroy"),this.state=t,this.state.videoPlayPauseControl=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a)};return e.prototype={template:['<button class="control video_control play" aria-disabled="false" aria-label="',gettext("Play"),'">','<span class="icon fa fa-play" aria-hidden="true"></span>',"</button>"].join(""),destroy:function(){this.el.remove(),this.state.el.off("destroy",this.destroy),delete this.state.videoPlayPauseControl},initialize:function(){this.el=i(this.template),this.render(),this.bindHandlers()},render:function(){this.state.el.find(".vcr").prepend(this.el)},bindHandlers:function(){this.el.on({click:this.onClick}),this.state.el.on({play:this.play,"pause ended":this.pause,destroy:this.destroy})},onClick:function(e){e.preventDefault(),this.state.videoCommands.execute("togglePlayback")},play:function(){this.el.addClass("pause").removeClass("play").attr({title:gettext("Pause"),"aria-label":gettext("Pause")}).find(".icon").removeClass("fa-play").addClass("fa-pause")},pause:function(){this.el.removeClass("pause").addClass("play").attr({title:gettext("Play"),"aria-label":gettext("Play")}).find(".icon").removeClass("fa-pause").addClass("fa-play")}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_play_placeholder.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a){return this instanceof e?(n.bindAll(this,"onClick","hide","show","destroy"),this.state=t,this.state.videoPlayPlaceholder=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a)};return e.prototype={destroy:function(){this.el.off("click",this.onClick),this.state.el.on({destroy:this.destroy,play:this.hide,"ended pause":this.show}),this.hide(),delete this.state.videoPlayPlaceholder},shouldBeShown:function(){return/iPad|Android/i.test(this.state.isTouch[0])&&!this.state.isYoutubeType()},initialize:function(){if(!this.shouldBeShown())return!1;this.el=this.state.el.find(".btn-play"),this.bindHandlers(),this.show()},bindHandlers:function(){this.el.on("click",this.onClick),this.state.el.on({destroy:this.destroy,play:this.hide,"ended pause":this.show})},onClick:function(){this.state.videoCommands.execute("play")},hide:function(){this.el.addClass("is-hidden").attr({"aria-hidden":"true",tabindex:-1})},show:function(){this.el.removeClass("is-hidden").attr({"aria-hidden":"false",tabindex:0})}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_play_skip_control.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a){return this instanceof e?(n.bindAll(this,"play","onClick","destroy"),this.state=t,this.state.videoPlaySkipControl=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a)};return e.prototype={template:['<button class="control video_control play play-skip-control" title="',gettext("Play"),'">','<span class="icon fa fa-play" aria-hidden="true"></span>',"</button>"].join(""),destroy:function(){this.el.remove(),this.state.el.off("destroy",this.destroy),delete this.state.videoPlaySkipControl},initialize:function(){this.el=i(this.template),this.render(),this.bindHandlers()},render:function(){this.state.el.find(".vcr").prepend(this.el)},bindHandlers:function(){this.el.on("click",this.onClick),this.state.el.on({play:this.play,destroy:this.destroy})},onClick:function(e){e.preventDefault(),this.state.videoPlayer.isPlaying()?this.state.videoCommands.execute("skip"):this.state.videoCommands.execute("play")},play:function(){this.el.removeClass("play").addClass("skip").attr("title",gettext("Skip")).find(".icon").removeClass("fa-play").addClass("fa-step-forward"),this.state.el.find("video").off("click")}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_poster.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,i){if(!(this instanceof e))return new e(t,i);n.bindAll(this,"onClick","destroy"),this.element=t,this.container=t.find(".video-player"),this.options=i||{},this.initialize()};return e.moduleName="Poster",e.prototype={template:n.template(['<div class="video-pre-roll is-<%= type %> poster" ','style="background-image: url(<%= url %>)">','<button class="btn-play btn-pre-roll">','<img src="/static/images/play.png" alt="">','<span class="sr">',gettext("Play video"),"</span>","</button>","</div>"].join("")),initialize:function(){this.el=i(this.template({url:this.options.poster.url,type:this.options.poster.type})),this.element.addClass("is-pre-roll"),this.render(),this.bindHandlers()},bindHandlers:function(){this.el.on("click",this.onClick),this.element.on("destroy",this.destroy)},render:function(){this.container.append(this.el)},onClick:function(){n.isFunction(this.options.onClick)&&this.options.onClick(),this.destroy()},destroy:function(){this.element.off("destroy",this.destroy).removeClass("is-pre-roll"),this.el.remove()}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_save_state_plugin.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n(1),n("./common/lib/xmodule/xmodule/js/src/time.js")],void 0!==(r=function(e,t){var n=function t(n,a,r){return this instanceof t?(e.bindAll(this,"onSpeedChange","onAutoAdvanceChange","saveStateHandler","bindUnloadHandler","onUnload","onYoutubeAvailability","onLanguageChange","destroy"),this.state=n,this.options=e.extend({events:[]},r),this.state.videoSaveStatePlugin=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new t(n,a,r)};return n.moduleName="SaveStatePlugin",n.prototype={destroy:function(){this.state.el.off(this.events).off("destroy",this.destroy),i(window).off("unload",this.onUnload),delete this.state.videoSaveStatePlugin},initialize:function(){this.events={speedchange:this.onSpeedChange,autoadvancechange:this.onAutoAdvanceChange,play:this.bindUnloadHandler,"pause destroy":this.saveStateHandler,"language_menu:change":this.onLanguageChange,youtube_availability:this.onYoutubeAvailability},this.bindHandlers()},bindHandlers:function(){this.options.events.length?e.each(this.options.events,function(t){var n;e.has(this.events,t)&&(n=this.events[t],this.state.el.on(t,n))},this):this.state.el.on(this.events),this.state.el.on("destroy",this.destroy)},bindUnloadHandler:e.once(function(){i(window).on("unload.video",this.onUnload)}),onSpeedChange:function(e,t){this.saveState(!0,{speed:t}),this.state.storage.setItem("speed",t,!0),this.state.storage.setItem("general_speed",t)},onAutoAdvanceChange:function(e,t){this.saveState(!0,{auto_advance:t}),this.state.storage.setItem("auto_advance",t)},saveStateHandler:function(){this.saveState(!0)},onUnload:function(){this.saveState()},onLanguageChange:function(e,t){this.state.storage.setItem("language",t)},onYoutubeAvailability:function(e,t){t!==this.state.config.recordedYoutubeIsAvailable&&this.saveState(!0,{youtube_is_available:t})},saveState:function(n,a){this.state.config.saveStateEnabled&&(i.isPlainObject(a)||(a={saved_video_position:this.state.videoPlayer.currentTime}),a.speed&&this.state.storage.setItem("speed",a.speed,!0),e.has(a,"saved_video_position")&&(this.state.storage.setItem("savedVideoPosition",a.saved_video_position,!0),a.saved_video_position=t.formatFull(a.saved_video_position)),i.ajax({url:this.state.config.saveStateUrl,type:"POST",async:!!n,dataType:"json",data:a}))}},n}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_skip_control.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e=function e(t,a){return this instanceof e?(n.bindAll(this,"onClick","render","destroy"),this.state=t,this.state.videoSkipControl=this,this.i18n=a,this.initialize(),i.Deferred().resolve().promise()):new e(t,a)};return e.prototype={template:['<button class="control video_control skip skip-control" aria-disabled="false" title="',gettext("Do not show again"),'">','<span class="icon fa fa-step-forward" aria-hidden="true"></span>',"</button>"].join(""),destroy:function(){this.el.remove(),this.state.el.off(".skip"),delete this.state.videoSkipControl},initialize:function(){this.el=i(this.template),this.bindHandlers()},render:function(){this.state.el.find(".vcr .control").after(this.el)},bindHandlers:function(){this.el.on("click",this.onClick),this.state.el.on({"play.skip":n.once(this.render),"destroy.skip":this.destroy})},onClick:function(e){e.preventDefault(),this.state.videoCommands.execute("skip",!0)}},e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/lib/xmodule/xmodule/js/src/video/09_video_caption.js":function(e,t,n){"use strict";(function(i){var a,r;a=[n("./common/lib/xmodule/xmodule/js/src/video/00_sjson.js"),n("./common/lib/xmodule/xmodule/js/src/video/00_async_process.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./common/static/js/vendor/draggabilly.js"),n("./common/lib/xmodule/xmodule/js/src/time.js"),n(1)],void 0!==(r=function(e,t,n,a,r,s){var o=function e(t){return this instanceof e?(s.bindAll(this,"toggleTranscript","onMouseEnter","onMouseLeave","onMovement","onContainerMouseEnter","onContainerMouseLeave","fetchCaption","onResize","pause","play","onCaptionUpdate","onCaptionHandler","destroy","handleKeypress","handleKeypressLink","openLanguageMenu","closeLanguageMenu","previousLanguageMenuItem","nextLanguageMenuItem","handleCaptionToggle","showClosedCaptions","hideClosedCaptions","toggleClosedCaptions","updateCaptioningCookie","handleCaptioningCookie","handleTranscriptToggle","listenForDragDrop","setTranscriptVisibility","updateTranscriptCookie"),this.state=t,this.state.videoCaption=this,this.renderElements(),this.handleCaptioningCookie(),this.setTranscriptVisibility(),this.listenForDragDrop(),i.Deferred().resolve().promise()):new e(t)};return o.prototype={destroy:function(){this.state.el.off({"caption:fetch":this.fetchCaption,"caption:resize":this.onResize,"caption:update":this.onCaptionUpdate,ended:this.pause,fullscreen:this.onResize,pause:this.pause,play:this.play,destroy:this.destroy}).removeClass("is-captions-rendered"),this.fetchXHR&&this.fetchXHR.abort&&this.fetchXHR.abort(),this.availableTranslationsXHR&&this.availableTranslationsXHR.abort&&this.availableTranslationsXHR.abort(),this.subtitlesEl.remove(),this.container.remove(),delete this.state.videoCaption},renderElements:function(){var e=this.state.config.transcriptLanguages,t=n.interpolateHtml(n.HTML(['<div class="grouped-controls">','<button class="control toggle-captions" aria-disabled="false">','<span class="icon fa fa-cc" aria-hidden="true"></span>',"</button>",'<button class="control toggle-transcript" aria-disabled="false">','<span class="icon fa fa-quote-left" aria-hidden="true"></span>',"</button>",'<div class="lang menu-container" role="application">','<p class="sr instructions" id="lang-instructions-{courseId}"></p>','<button class="control language-menu" aria-disabled="false"','aria-describedby="lang-instructions-{courseId}" ','title="{langTitle}">','<span class="icon fa fa-caret-left" aria-hidden="true"></span>',"</button>","</div>","</div>"].join("")),{langTitle:gettext("Open language menu"),courseId:this.state.id}),a=n.interpolateHtml(n.HTML(['<div class="subtitles" role="region" id="transcript-{courseId}">','<h3 id="transcript-label-{courseId}" class="transcript-title sr"></h3>','<ol id="transcript-captions-{courseId}" class="subtitles-menu" lang="{courseLang}"></ol>',"</div>"].join("")),{courseId:this.state.id,courseLang:this.state.lang});this.loaded=!1,this.subtitlesEl=i(n.ensureHtml(a).toString()),this.subtitlesMenuEl=this.subtitlesEl.find(".subtitles-menu"),this.container=i(n.ensureHtml(t).toString()),this.captionControlEl=this.container.find(".toggle-captions"),this.captionDisplayEl=this.state.el.find(".closed-captions"),this.transcriptControlEl=this.container.find(".toggle-transcript"),this.languageChooserEl=this.container.find(".lang"),this.menuChooserEl=this.languageChooserEl.parent(),s.keys(e).length&&(this.renderLanguageMenu(e),this.fetchCaption())},bindHandlers:function(){var e=this.state,t=["mouseover","mouseout","mousedown","click","focus","blur","keydown"].join(" ");this.captionControlEl.on({click:this.toggleClosedCaptions,keydown:this.handleCaptionToggle}),this.transcriptControlEl.on({click:this.toggleTranscript,keydown:this.handleTranscriptToggle}),this.subtitlesMenuEl.on({mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,mousemove:this.onMovement,mousewheel:this.onMovement,DOMMouseScroll:this.onMovement}).on(t,"span[data-index]",this.onCaptionHandler),this.container.on({mouseenter:this.onContainerMouseEnter,mouseleave:this.onContainerMouseLeave}),this.showLanguageMenu&&(this.languageChooserEl.on({keydown:this.handleKeypress},".language-menu"),this.languageChooserEl.on({keydown:this.handleKeypressLink},".control-lang")),e.el.on({"caption:fetch":this.fetchCaption,"caption:resize":this.onResize,"caption:update":this.onCaptionUpdate,ended:this.pause,fullscreen:this.onResize,pause:this.pause,play:this.play,destroy:this.destroy}),"html5"===e.videoType&&e.config.autohideHtml5&&this.subtitlesMenuEl.on("scroll",e.videoControl.showControls)},onCaptionUpdate:function(e,t){this.updatePlayTime(t)},handleCaptionToggle:function(e){var t=i.ui.keyCode;switch(e.keyCode){case t.SPACE:case t.ENTER:e.preventDefault(),this.toggleClosedCaptions(e)}},handleTranscriptToggle:function(e){var t=i.ui.keyCode;switch(e.keyCode){case t.SPACE:case t.ENTER:e.preventDefault(),this.toggleTranscript(e)}},handleKeypressLink:function(e){var t,n,a,r=i.ui.keyCode,s=e.keyCode;switch(s){case r.UP:e.preventDefault(),t=i(":focus").parent(),n=this.languageChooserEl.find("li").index(t),a=this.languageChooserEl.find("li").size()-1,this.previousLanguageMenuItem(e,n);break;case r.DOWN:e.preventDefault(),t=i(":focus").parent(),n=this.languageChooserEl.find("li").index(t),a=this.languageChooserEl.find("li").size()-1,this.nextLanguageMenuItem(e,n,a);break;case r.ESCAPE:this.closeLanguageMenu(e);break;case r.ENTER:case r.SPACE:return!0}return!0},handleKeypress:function(e){var t=i.ui.keyCode;switch(e.keyCode){case t.ENTER:case t.SPACE:case t.UP:e.preventDefault(),this.openLanguageMenu(e);break;case t.ESCAPE:this.closeLanguageMenu(e)}return e.keyCode===t.TAB},nextLanguageMenuItem:function(e,t,n){return e.preventDefault(),!(!e.altKey&&!e.shiftKey)||(t===n?this.languageChooserEl.find(".control-lang").first().focus():this.languageChooserEl.find("li:eq("+t+")").next().find(".control-lang").focus(),!1)},previousLanguageMenuItem:function(e,t){return e.preventDefault(),!(!e.altKey&&!e.shiftKey)||(0===t?this.languageChooserEl.find(".control-lang").last().focus():this.languageChooserEl.find("li:eq("+t+")").prev().find(".control-lang").focus(),!1)},openLanguageMenu:function(e){var t=this.languageChooserEl,n=t.parent().find(".menu");e.preventDefault(),t.addClass("is-opened"),n.find(".control-lang").last().focus()},closeLanguageMenu:function(e){var t=this.languageChooserEl;e.preventDefault(),t.removeClass("is-opened").find(".language-menu").focus()},onCaptionHandler:function(e){switch(e.type){case"mouseover":case"mouseout":this.captionMouseOverOut(e);break;case"mousedown":this.captionMouseDown(e);break;case"click":this.captionClick(e);break;case"focusin":this.captionFocus(e);break;case"focusout":this.captionBlur(e);break;case"keydown":this.captionKeyDown(e)}},onContainerMouseEnter:function(e){e.preventDefault(),i(e.currentTarget).find(".lang").addClass("is-opened"),i(e.currentTarget).find(".lang").length&&this.state.el.trigger("language_menu:show")},onContainerMouseLeave:function(e){e.preventDefault(),i(e.currentTarget).find(".lang").removeClass("is-opened"),i(e.currentTarget).find(".lang").length&&this.state.el.trigger("language_menu:hide")},onMouseEnter:function(){this.frozen&&clearTimeout(this.frozen),this.frozen=setTimeout(this.onMouseLeave,this.state.config.captionsFreezeTime)},onMouseLeave:function(){this.frozen&&clearTimeout(this.frozen),this.frozen=null,this.playing&&this.scrollCaption()},onMovement:function(){this.onMouseEnter()},getStartEndTimes:function(){var e=this.state.config;return[1e3*e.startTime,null!==e.endTime?1e3*e.endTime:null]},getBoundedCaptions:function(){var e=this.getStartEndTimes(),t=this.sjson.filter.apply(this.sjson,e);return{start:t.start,captions:t.captions}},fetchCaption:function(t){var a,r,o=this,d=this.state,l=d.getCurrentLanguage(),u=d.config.transcriptTranslationUrl.replace("__lang__",l);if(this.loaded&&this.hideCaptions(!1),this.fetchXHR&&this.fetchXHR.abort&&this.fetchXHR.abort(),"youtube"===d.videoType||t){try{r=d.youtubeId("1.0")}catch(e){r=null}if(!r)return!1;a={videoId:r}}return d.el.removeClass("is-captions-rendered"),this.fetchXHR=i.ajaxWithPrefix({url:u,notifyOnError:!1,data:a,success:function(t){var i,a,r;o.sjson=new e(t),i=o.getBoundedCaptions(),a=i.start,r=i.captions,o.loaded?o.rendered&&(o.renderCaption(a,r),o.updatePlayTime(d.videoPlayer.currentTime)):(d.isTouch?n.setHtml(o.subtitlesEl.find(".subtitles-menu"),n.joinHtml(n.HTML("<li>"),gettext("Transcript will be displayed when you start playing the video."),n.HTML("</li>"))):o.renderCaption(a,r),o.hideCaptions(o.hideCaptionsOnLoad),n.append(o.state.el.find(".video-wrapper").parent(),n.HTML(o.subtitlesEl)),n.append(o.state.el.find(".secondary-controls"),n.HTML(o.container)),o.bindHandlers()),o.loaded=!0},error:function(e,n,i){var a;console.log("[Video info]: ERROR while fetching captions."),console.log("[Video info]: STATUS:",n+", MESSAGE:",""+i),s.keys(d.config.transcriptLanguages).length>1?o.fetchAvailableTranslations():t||"html5"!==d.videoType?(o.hideCaptions(!0),o.languageChooserEl.hide()):(a=o.fetchCaption(!0),a?console.log("[Video info]: Html5 mode fetching caption with youtubeId."):(o.hideCaptions(!0),o.languageChooserEl.hide()))}}),!0},fetchAvailableTranslations:function(){var e=this,t=this.state;return this.availableTranslationsXHR=i.ajaxWithPrefix({url:t.config.transcriptAvailableTranslationsUrl,notifyOnError:!1,success:function(n){var i=t.config.transcriptLanguages,a=s.pick(i,n);t.config.transcriptLanguages=a,e.container.find(".langs-list").remove(),s.keys(a).length&&e.renderLanguageMenu(a)},error:function(){e.hideCaptions(!0),e.languageChooserEl.hide()}}),this.availableTranslationsXHR},onResize:function(){this.subtitlesEl.find(".spacing").first().height(this.topSpacingHeight()),this.subtitlesEl.find(".spacing").last().height(this.bottomSpacingHeight()),this.scrollCaption(),this.setSubtitlesHeight()},renderLanguageMenu:function(e){var t,a,r,o=this,d=this.state,l=i('<ol class="langs-list menu">'),u=d.getCurrentLanguage();if(s.keys(e).length<2)return void o.container.find(".lang").remove();this.showLanguageMenu=!0,i.each(e,function(e,s){t=i("<li />",{"data-lang-code":e}),r=n.joinHtml(n.HTML('<button class="control control-lang">'),s,n.HTML("</button>")),a=i(r.toString()),u===e&&(t.addClass("is-active"),a.attr("aria-pressed","true")),t.append(a),l.append(t)}),n.append(this.languageChooserEl,n.HTML(l)),l.on("click",".control-lang",function(e){var t=i(e.currentTarget).parent(),n=o.state,a=t.data("lang-code");n.lang!==a&&(n.lang=a,t.addClass("is-active").siblings("li").removeClass("is-active").find(".control-lang").attr("aria-pressed","false"),i(e.currentTarget).attr("aria-pressed","true"),n.el.trigger("language_menu:change",[a]),o.fetchCaption(),o.captionDisplayEl.attr("lang",a),o.subtitlesMenuEl.attr("lang",a),o.closeLanguageMenu(e))})},buildCaptions:function(e,a,r){var s=function(e,t){var r=i("<span>",{role:"link","data-index":t,"data-start":a[t],tabindex:0});return n.setHtml(i(r),n.HTML(e.toString())),r.wrap("<li>").parent()[0]};return t.array(r,s).done(function(t){n.append(e,n.HTML(t))})},renderCaption:function(e,t){var n=this,a=function(){n.addPaddings(),n.autoScrolling=!0,n.currentCaptionIndex=-1,n.isMouseFocus=!1,n.rendered=!0,n.state.el.addClass("is-captions-rendered"),n.subtitlesEl.attr("aria-label",gettext("Activating a link in this group will skip to the corresponding point in the video.")),n.subtitlesEl.find(".transcript-title").text(gettext("Video transcript")),n.subtitlesEl.find(".transcript-start").text(gettext("Start of transcript. Skip to the end.")).attr("lang",i("html").attr("lang")),n.subtitlesEl.find(".transcript-end").text(gettext("End of transcript. Skip to the start.")).attr("lang",i("html").attr("lang")),n.container.find(".menu-container .instructions").text(gettext("Press the UP arrow key to enter the language menu then use UP and DOWN arrow keys to navigate language options. Press ENTER to change to the selected language."))};this.rendered=!1,this.subtitlesMenuEl.empty(),this.setSubtitlesHeight(),this.buildCaptions(this.subtitlesMenuEl,e,t).done(a)},addPaddings:function(){var e=n.interpolateHtml(n.HTML(['<li class="spacing" style="height: {height}px">','<a href="#transcript-end-{id}" id="transcript-start-{id}" class="transcript-start"></a>',"</li>"].join("")),{id:this.state.id,height:this.topSpacingHeight()}),t=n.interpolateHtml(n.HTML(['<li class="spacing" style="height: {height}px">','<a href="#transcript-start-{id}" id="transcript-end-{id}" class="transcript-end"></a>',"</li>"].join("")),{id:this.state.id,height:this.bottomSpacingHeight()});n.prepend(this.subtitlesMenuEl,e),n.append(this.subtitlesMenuEl,t)},captionMouseOverOut:function(e){var t=i(e.target);parseInt(t.attr("data-index"),10)===this.currentCaptionIndex&&("mouseover"===e.type?t.removeClass("focused"):t.addClass("focused"))},captionMouseDown:function(e){var t=i(e.target);this.isMouseFocus=!0,this.autoScrolling=!0,t.removeClass("focused"),this.currentCaptionIndex=-1},captionClick:function(e){this.seekPlayer(e)},captionFocus:function(e){var t=i(e.target),n=t.parent(),a=parseInt(t.attr("data-index"),10);this.isMouseFocus?(this.autoScrolling=!0,n.removeClass("focused"),this.currentCaptionIndex=-1):(this.currentCaptionIndex=a,n.addClass("focused"),(a<=1||a>=this.sjson.getSize()-2)&&(this.autoScrolling=!1))},captionBlur:function(e){var t=i(e.target),n=t.parent(),a=parseInt(t.attr("data-index"),10);n.removeClass("focused"),0!==a&&a!==this.sjson.getSize()-1||(this.autoScrolling=!0)},captionKeyDown:function(e){this.isMouseFocus=!1,13===e.which&&this.seekPlayer(e)},scrollCaption:function(){var e=this.subtitlesEl.find(".current:first");!this.frozen&&e.length&&this.autoScrolling&&this.subtitlesEl.scrollTo(e,{offset:-1*this.calculateOffset(e)})},play:function(){var e,t,n;this.loaded&&(this.rendered||(t=this.getBoundedCaptions(),n=t.start,e=t.captions,this.renderCaption(n,e)),this.playing=!0)},pause:function(){this.loaded&&(this.playing=!1)},updatePlayTime:function(e){var t,n,i,a=this.state;this.loaded&&(a.isFlashMode()&&(e=r.convert(e,a.speed,"1.0")),e=Math.round(1e3*e+100),i=this.getStartEndTimes(),t=[e].concat(i),void 0!==(n=this.sjson.search.apply(this.sjson,t))&&-1!==n&&this.currentIndex!==n&&(void 0!==this.currentIndex&&this.subtitlesEl.find("li.current").removeClass("current"),this.subtitlesEl.find("span[data-index='"+n+"']").parent().addClass("current"),this.currentIndex=n,this.captionDisplayEl.text(this.subtitlesEl.find("span[data-index='"+n+"']").text()),this.scrollCaption()))},seekPlayer:function(e){var t=this.state,n=parseInt(i(e.target).data("start"),10);t.isFlashMode()&&(n=Math.round(r.convert(n,"1.0",t.speed))),t.trigger("videoPlayer.onCaptionSeek",{type:"onCaptionSeek",time:n/1e3}),e.preventDefault()},calculateOffset:function(e){return this.captionHeight()/2-e.height()/2},topSpacingHeight:function(){return this.calculateOffset(this.subtitlesEl.find("li:not(.spacing)").first())},bottomSpacingHeight:function(){return this.calculateOffset(this.subtitlesEl.find("li:not(.spacing)").last())},handleCaptioningCookie:function(){"true"===i.cookie("show_closed_captions")?(this.state.showClosedCaptions=!0,this.showClosedCaptions(),i.cookie("show_closed_captions","true",{expires:3650,path:"/"})):this.hideClosedCaptions()},toggleClosedCaptions:function(e){e.preventDefault(),this.state.el.hasClass("has-captions")?(this.state.showClosedCaptions=!1,this.updateCaptioningCookie(!1),this.hideClosedCaptions()):(this.state.showClosedCaptions=!0,this.updateCaptioningCookie(!0),this.showClosedCaptions())},showClosedCaptions:function(){var e=gettext("Hide closed captions");this.state.el.addClass("has-captions"),this.captionDisplayEl.show().addClass("is-visible").attr("lang",this.state.lang),this.captionControlEl.addClass("is-active").attr("title",e).attr("aria-label",e),this.subtitlesEl.find(".current").text()?this.captionDisplayEl.text(this.subtitlesEl.find(".current").text()):this.captionDisplayEl.text(gettext("(Caption will be displayed when you start playing the video.)")),this.state.el.trigger("captions:show")},hideClosedCaptions:function(){var e=gettext("Turn on closed captioning");this.state.el.removeClass("has-captions"),this.captionDisplayEl.hide().removeClass("is-visible"),this.captionControlEl.removeClass("is-active").attr("title",e).attr("aria-label",e),this.state.el.trigger("captions:hide")},updateCaptioningCookie:function(e){e?i.cookie("show_closed_captions","true",{expires:3650,path:"/"}):i.cookie("show_closed_captions",null,{path:"/"})},setTranscriptVisibility:function(){var e=!this.state.config.showCaptions;"true"===i.cookie("show_transcript")?(this.hideCaptionsOnLoad=!1,this.updateTranscriptCookie(!0)):"false"===i.cookie("show_transcript")?(e=!0,this.hideCaptionsOnLoad=!0):this.hideCaptionsOnLoad=!this.state.config.showCaptions,e&&this.state.el.addClass("closed")},toggleTranscript:function(e){e.preventDefault(),this.state.el.hasClass("closed")?(this.hideCaptions(!1,!0),this.updateTranscriptCookie(!0)):(this.hideCaptions(!0,!0),this.updateTranscriptCookie(!1))},updateTranscriptCookie:function(e){e?i.cookie("show_transcript","true",{expires:3650,path:"/"}):i.cookie("show_transcript","false",{path:"/"})},listenForDragDrop:function(){var e=this.captionDisplayEl[0];"function"==typeof a?new a(e,{containment:!0}):console.log("Closed captioning available but not draggable")},hideCaptions:function(e,t){var n,i=this.transcriptControlEl,a=this.state;e?(a.captionsHidden=!0,a.el.addClass("closed"),n=gettext("Turn on transcripts"),t&&this.state.el.trigger("transcript:hide"),i.removeClass("is-active").attr("title",gettext(n)).attr("aria-label",n)):(a.captionsHidden=!1,a.el.removeClass("closed"),this.scrollCaption(),n=gettext("Turn off transcripts"),t&&this.state.el.trigger("transcript:show"),i.addClass("is-active").attr("title",gettext(n)).attr("aria-label",n)),a.resizer&&(a.isFullScreen?a.resizer.setMode("both"):a.resizer.alignByWidthOnly()),this.setSubtitlesHeight()},captionHeight:function(){var e=this.state;return e.isFullScreen?e.container.height()-e.videoFullScreen.height:e.container.height()},setSubtitlesHeight:function(){var e=0,t=this.state;(void 0===t.captionsHidden&&this.hideCaptionsOnLoad||!0===t.captionsHidden)&&(e=t.el.find(".video-controls").height()+.5*t.el.find(".slider").height()),this.subtitlesEl.css({maxHeight:this.captionHeight()-e})}},o}.apply(t,a))&&(e.exports=r)}).call(t,n(0))},"./common/lib/xmodule/xmodule/js/src/video/10_commands.js":function(e,t,n){"use strict";(function(n,i){var a,r;a=[],void 0!==(r=function(){var e,t,a,r,s,o,d,l,u;return e=function(t,a){return this instanceof e?(n.bindAll(this,"destroy"),this.state=t,this.state.videoCommands=this,this.i18n=a,this.commands=[],this.initialize(),i.Deferred().resolve().promise()):new e(t,a)},e.prototype={destroy:function(){this.state.el.off("destroy",this.destroy),delete this.state.videoCommands},initialize:function(){this.commands=this.getCommands(),this.state.el.on("destroy",this.destroy)},execute:function(e){var t=[].slice.call(arguments,1)||[];n.has(this.commands,e)?this.commands[e].execute.apply(this,[this.state].concat(t)):console.log('Command "'+e+'" is not available.')},getCommands:function(){var e={},t=[a,r,s,o,d,l,u];return n.each(t,function(t){e[t.name]=t},this),e}},t=function(e,t){this.name=e,this.execute=t},a=new t("play",function(e){e.videoPlayer.play()}),r=new t("pause",function(e){e.videoPlayer.pause()}),s=new t("togglePlayback",function(e){e.videoPlayer.isPlaying()?r.execute(e):a.execute(e)}),o=new t("toggleMute",function(e){e.videoVolumeControl.toggleMute()}),d=new t("toggleFullScreen",function(e){e.videoFullScreen.toggle()}),l=new t("speed",function(e,t){e.videoSpeedControl.setSpeed(e.speedToString(t))}),u=new t("skip",function(e,t){t?e.videoBumper.skipAndDoNotShowAgain():e.videoBumper.skip()}),e}.apply(t,a))&&(e.exports=r)}).call(t,n(1),n(0))},"./common/static/js/vendor/draggabilly.js":function(e,t,n){var i,a,r,s,o,d,a,l,a,i,u,c,h,m,a,f,a,_,a,p,a,r,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * Draggabilly PACKAGED v1.2.4
 * Make that shiz draggable
 * http://draggabilly.desandro.com
 * MIT license
 */
!function(s){function o(){}function d(e){function t(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function n(t,n){e.fn[t]=function(a){if("string"==typeof a){for(var r=l.call(arguments,1),s=0,o=this.length;s<o;s++){var d=this[s],u=e.data(d,t);if(u)if(e.isFunction(u[a])&&"_"!==a.charAt(0)){var c=u[a].apply(u,r);if(void 0!==c)return c}else i("no such method '"+a+"' for "+t+" instance");else i("cannot call methods on "+t+" prior to initialization; attempted to call '"+a+"'")}return this}return this.each(function(){var i=e.data(this,t);i?(i.option(a),i._init()):(i=new n(this,a),e.data(this,t,i))})}}if(e){var i="undefined"==typeof console?o:function(e){console.error(e)};return e.bridget=function(e,i){t(i),n(e,i)},e.bridget}}var l=Array.prototype.slice;a=[n(0)],i=d,void 0!==(r="function"==typeof i?i.apply(t,a):i)&&(e.exports=r)}(window),/*!
 * classie v1.0.1
 * class helper functions
 * from bonzo https://github.com/ded/bonzo
 * MIT license
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
function(e){function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){(a(e,t)?l:r)(e,t)}var a,r,l;"classList"in document.documentElement?(a=function(e,t){return e.classList.contains(t)},r=function(e,t){e.classList.add(t)},l=function(e,t){e.classList.remove(t)}):(a=function(e,n){return t(n).test(e.className)},r=function(e,t){a(e,t)||(e.className=e.className+" "+t)},l=function(e,n){e.className=e.className.replace(t(n)," ")});var u={hasClass:a,addClass:r,removeClass:l,toggleClass:i,has:a,add:r,remove:l,toggle:i};o=u,d={id:"classie/classie",exports:{},loaded:!1},s="function"==typeof o?o.call(d.exports,n,d.exports,d):o,d.loaded=!0,void 0===s&&(s=d.exports)}(window),/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */
function(e){function n(e){if(e){if("string"==typeof r[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,n=0,a=i.length;n<a;n++)if(t=i[n]+e,"string"==typeof r[t])return t}}var i="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;a=[],l=function(){return n}.apply(t,a)}(window),/*!
 * getSize v1.2.2
 * measure size of elements
 * MIT license
 */
function(e,n){function r(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function s(){}function o(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=h.length;t<n;t++){e[h[t]]=0}return e}function d(t){function n(){if(!u){u=!0;var n=e.getComputedStyle;if(s=function(){var e=n?function(e){return n(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||c("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),d=t("boxSizing")){var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style[d]="border-box";var a=document.body||document.documentElement;a.appendChild(i);var o=s(i);l=200===r(o.width),a.removeChild(i)}}}function i(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"===(void 0===e?"undefined":g(e))&&e.nodeType){var t=s(e);if("none"===t.display)return o();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var u=i.isBorderBox=!(!d||!t[d]||"border-box"!==t[d]),c=0,m=h.length;c<m;c++){var f=h[c],_=t[f];_=a(e,_);var p=parseFloat(_);i[f]=isNaN(p)?0:p}var y=i.paddingLeft+i.paddingRight,v=i.paddingTop+i.paddingBottom,M=i.marginLeft+i.marginRight,L=i.marginTop+i.marginBottom,T=i.borderLeftWidth+i.borderRightWidth,b=i.borderTopWidth+i.borderBottomWidth,k=u&&l,S=r(t.width);!1!==S&&(i.width=S+(k?0:y+T));var D=r(t.height);return!1!==D&&(i.height=D+(k?0:v+b)),i.innerWidth=i.width-(y+T),i.innerHeight=i.height-(v+b),i.outerWidth=i.width+M,i.outerHeight=i.height+L,i}}function a(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var i=t.style,a=i.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=a,s&&(r.left=s),n}var s,d,l,u=!1;return i}var c="undefined"==typeof console?s:function(e){console.error(e)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];a=[l],i=d,u="function"==typeof i?i.apply(t,a):i}(window),/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var i=document.documentElement,a=function(){};i.addEventListener?a=function(e,t,n){e.addEventListener(t,n,!1)}:i.attachEvent&&(a=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};i.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:i.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var s={bind:a,unbind:r};h=s,m={id:"eventie/eventie",exports:{},loaded:!1},c="function"==typeof h?h.call(m.exports,n,m.exports,m):h,m.loaded=!0,void 0===c&&(c=m.exports)}(window),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,s=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,a=this.getListenersAsObject(e),r="object"===(void 0===n?"undefined":g(n));for(i in a)a.hasOwnProperty(i)&&-1===t(a[i],n)&&a[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,a,r=this.getListenersAsObject(e);for(a in r)r.hasOwnProperty(a)&&-1!==(i=t(r[a],n))&&r[a].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,a,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!==(void 0===t?"undefined":g(t))||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(a=t[i])&&("function"==typeof a?r.call(this,i,a):s.call(this,i,a));return this},i.removeEvent=function(e){var t,n=void 0===e?"undefined":g(e),i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,a,r=this.getListenersAsObject(e);for(a in r)if(r.hasOwnProperty(a))for(i=r[a].length;i--;)n=r[a][i],!0===n.once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=s,e},a=[],f=function(){return e}.apply(r,a)}.call(this),/*!
 * Unipointer v1.1.0
 * base class for doing one thing with pointer event
 * MIT license
 */
function(e,n){a=[f,c],_=function(t,i){return n(e,t,i)}.apply(t,a)}(window,function(e,t,n){function i(){}function a(){}a.prototype=new t,a.prototype.bindStartEvent=function(e){this._bindStartEvent(e,!0)},a.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},a.prototype._bindStartEvent=function(t,i){i=void 0===i||!!i;var a=i?"bind":"unbind";e.navigator.pointerEnabled?n[a](t,"pointerdown",this):e.navigator.msPointerEnabled?n[a](t,"MSPointerDown",this):(n[a](t,"mousedown",this),n[a](t,"touchstart",this))},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getTouch=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.identifier==this.pointerIdentifier)return i}},a.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},a.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},a.prototype.onMSPointerDown=a.prototype.onpointerdown=function(e){this._pointerDown(e,e)},a.prototype._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},a.prototype.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return a.prototype._bindPostStartEvents=function(t){if(t){for(var i=r[t.type],a=t.preventDefault?e:document,s=0,o=i.length;s<o;s++){var d=i[s];n.bind(a,d,this)}this._boundPointerEvents={events:i,node:a}}},a.prototype._unbindPostStartEvents=function(){var e=this._boundPointerEvents;if(e&&e.events){for(var t=0,i=e.events.length;t<i;t++){var a=e.events[t];n.unbind(e.node,a,this)}delete this._boundPointerEvents}},a.prototype.onmousemove=function(e){this._pointerMove(e,e)},a.prototype.onMSPointerMove=a.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},a.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},a.prototype._pointerMove=function(e,t){this.pointerMove(e,t)},a.prototype.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},a.prototype.onmouseup=function(e){this._pointerUp(e,e)},a.prototype.onMSPointerUp=a.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},a.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},a.prototype._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},a.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},a.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},a.prototype.pointerDone=i,a.prototype.onMSPointerCancel=a.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},a.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},a.prototype._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},a.prototype.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},a.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},a}),/*!
 * Unidragger v1.1.0
 * Draggable base class
 * MIT license
 */
function(e,n){a=[c,_],p=function(t,i){return n(e,t,i)}.apply(t,a)}(window,function(e,t,n){function i(){}function a(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function r(e){for(;e!=document.body;)if(e=e.parentNode,"A"==e.nodeName)return e}function s(){}function o(){return!1}s.prototype=new n,s.prototype.bindHandles=function(){this._bindHandles(!0)},s.prototype.unbindHandles=function(){this._bindHandles(!1)};var d=e.navigator;s.prototype._bindHandles=function(e){e=void 0===e||!!e;var n;n=d.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:d.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:function(){e&&u(s)};for(var i=e?"bind":"unbind",a=0,r=this.handles.length;a<r;a++){var s=this.handles[a];this._bindStartEvent(s,e),n(s),t[i](s,"click",this)}};var l="attachEvent"in document.documentElement,u=l?function(e){"IMG"==e.nodeName&&(e.ondragstart=o);for(var t=e.querySelectorAll("img"),n=0,i=t.length;n<i;n++){t[n].ondragstart=o}}:i,c=s.allowTouchstartNodes={INPUT:!0,A:!0,BUTTON:!0,SELECT:!0};return s.prototype.pointerDown=function(e,t){this._dragPointerDown(e,t);var n=document.activeElement;n&&n.blur&&n.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},s.prototype._dragPointerDown=function(e,t){this.pointerDownPoint=n.getPointerPoint(t);var i=e.target.nodeName;"touchstart"==e.type&&(c[i]||r(e.target))||"SELECT"==i||a(e)},s.prototype.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},s.prototype._dragPointerMove=function(e,t){var i=n.getPointerPoint(t),a={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(a)&&this._dragStart(e,t),a},s.prototype.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},s.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},s.prototype._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},s.prototype._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=s.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},s.prototype.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},s.prototype._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},s.prototype.dragMove=function(e,t,n){this.emitEvent("dragMove",[e,t,n])},s.prototype._dragEnd=function(e,t){this.isDragging=!1;var n=this;setTimeout(function(){delete n.isPreventingClicks}),this.dragEnd(e,t)},s.prototype.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},s.prototype.onclick=function(e){this.isPreventingClicks&&a(e)},s.prototype._staticClick=function(e,t){"INPUT"==e.target.nodeName&&"text"==e.target.type&&e.target.focus(),this.staticClick(e,t)},s.prototype.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},s.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},s.getPointerPoint=n.getPointerPoint,s}),/*!
 * Draggabilly v1.2.4
 * Make that shiz draggable
 * http://draggabilly.desandro.com
 * MIT license
 */
function(n,i){a=[s,l,u,p],void 0!==(r=function(e,t,a,r){return i(n,e,t,a,r)}.apply(t,a))&&(e.exports=r)}(window,function(e,t,n,i,a){function r(){}function s(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){this.element="string"==typeof e?u.querySelector(e):e,T&&(this.$element=T(this.element)),this.options=s({},this.constructor.defaults),this.option(t),this._create()}function d(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}for(var l,u=e.document,c=u.defaultView,h=c&&c.getComputedStyle?function(e){return c.getComputedStyle(e,null)}:function(e){return e.currentStyle},m="object"==("undefined"==typeof HTMLElement?"undefined":g(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==(void 0===e?"undefined":g(e))&&1==e.nodeType&&"string"==typeof e.nodeName},f=0,_="webkit moz ms o".split(" "),p=e.requestAnimationFrame,y=e.cancelAnimationFrame,v=0;v<_.length&&(!p||!y);v++)l=_[v],p=p||e[l+"RequestAnimationFrame"],y=y||e[l+"CancelAnimationFrame"]||e[l+"CancelRequestAnimationFrame"];p&&y||(p=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-f)),a=e.setTimeout(function(){t(n+i)},i);return f=n+i,a},y=function(t){e.clearTimeout(t)});var M=n("transform"),L=!!n("perspective"),T=e.jQuery;s(o.prototype,a.prototype),o.defaults={},o.prototype.option=function(e){s(this.options,e)},o.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=s({},this.position);var e=h(this.element);"relative"!=e.position&&"absolute"!=e.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},o.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},o.prototype.dispatchEvent=function(t,n,i){var a=[n].concat(i);this.emitEvent(t,a);var r=e.jQuery;if(r&&this.$element)if(n){var s=r.Event(n);s.type=t,this.$element.trigger(s,i)}else this.$element.trigger(t,i)},o.prototype._getPosition=function(){var e=h(this.element),t=parseInt(e.left,10),n=parseInt(e.top,10);this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},o.prototype._addTransformPosition=function(e){if(M){var t=e[M];if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,a=parseInt(n[i],10),r=parseInt(n[i+1],10);this.position.x+=a,this.position.y+=r}}},o.prototype.pointerDown=function(e,n){this._dragPointerDown(e,n);var i=u.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(e),t.add(this.element,"is-pointer-down"),this.dispatchEvent("pointerDown",e,[n])},o.prototype.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,n]),this._dragMove(e,t,n)},o.prototype.dragStart=function(e,n){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.isDragging=!0,t.add(this.element,"is-dragging"),this.dispatchEvent("dragStart",e,[n]),this.animate())},o.prototype.measureContainment=function(){var e=this.options.containment;if(e){this.size=i(this.element);var t=this.element.getBoundingClientRect(),n=m(e)?e:"string"==typeof e?u.querySelector(e):this.element.parentNode;this.containerSize=i(n);var a=n.getBoundingClientRect();this.relativeStartPosition={x:t.left-a.left,y:t.top-a.top}}},o.prototype.dragMove=function(e,t,n){if(this.isEnabled){var i=n.x,a=n.y,r=this.options.grid,s=r&&r[0],o=r&&r[1];i=d(i,s),a=d(a,o),i=this.containDrag("x",i,s),a=this.containDrag("y",a,o),i="y"==this.options.axis?0:i,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+a,this.dragPoint.x=i,this.dragPoint.y=a,this.dispatchEvent("dragMove",e,[t,n])}},o.prototype.containDrag=function(e,t,n){if(!this.options.containment)return t;var i="x"==e?"width":"height",a=this.relativeStartPosition[e],r=d(-a,n,"ceil"),s=this.containerSize[i]-a-this.size[i];return s=d(s,n,"floor"),Math.min(s,Math.max(r,t))},o.prototype.pointerUp=function(e,n){t.remove(this.element,"is-pointer-down"),this.dispatchEvent("pointerUp",e,[n]),this._dragPointerUp(e,n)},o.prototype.dragEnd=function(e,n){this.isEnabled&&(this.isDragging=!1,M&&(this.element.style[M]="",this.setLeftTop()),t.remove(this.element,"is-dragging"),this.dispatchEvent("dragEnd",e,[n]))},o.prototype.animate=function(){if(this.isDragging){this.positionDrag();var e=this;p(function(){e.animate()})}};var b=L?function(e,t){return"translate3d( "+e+"px, "+t+"px, 0)"}:function(e,t){return"translate( "+e+"px, "+t+"px)"};return o.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},o.prototype.positionDrag=M?function(){this.element.style[M]=b(this.dragPoint.x,this.dragPoint.y)}:o.prototype.setLeftTop,o.prototype.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},o.prototype.enable=function(){this.isEnabled=!0},o.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},o.prototype.destroy=function(){this.disable(),M&&(this.element.style[M]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},o.prototype._init=r,T&&T.bridget&&T.bridget("draggabilly",o),o})},"./common/static/xmodule/modules/js/001-e45ae357eab0e4e2784fa6d04d4e16c1.js":function(e,t,n){(function(i,a){var r,s;(function(){r=[n("./common/lib/xmodule/xmodule/js/src/video/00_video_storage.js"),n("./common/lib/xmodule/xmodule/js/src/video/01_initialize.js"),n("./common/lib/xmodule/xmodule/js/src/video/025_focus_grabber.js"),n("./common/lib/xmodule/xmodule/js/src/video/035_video_accessible_menu.js"),n("./common/lib/xmodule/xmodule/js/src/video/04_video_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/04_video_full_screen.js"),n("./common/lib/xmodule/xmodule/js/src/video/05_video_quality_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/06_video_progress_slider.js"),n("./common/lib/xmodule/xmodule/js/src/video/07_video_volume_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/08_video_speed_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/08_video_auto_advance_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_video_caption.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_play_placeholder.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_play_pause_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_play_skip_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_skip_control.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_bumper.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_save_state_plugin.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_events_plugin.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_events_bumper_plugin.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_poster.js"),n("./common/lib/xmodule/xmodule/js/src/video/09_completion.js"),n("./common/lib/xmodule/xmodule/js/src/video/10_commands.js"),n("./common/lib/xmodule/xmodule/js/src/video/095_video_context_menu.js")],void 0!==(s=function(e,t,n,r,s,o,d,l,u,c,h,m,f,_,p,g,y,v,M,L,T,b,k,S){var D=null;window.Video=function(w){var E,Y=i(w).find(".video"),x=Y.attr("id").replace(/video_/,""),P=e("VideoState",x),A=Y.data("bumper-metadata"),j="True"===Y.data("autoadvance-enabled"),C=[n,s,f,_,l,c,u,d,o,m,k,S,v,M,b].concat(j?[h]:[]),R=[s,p,g,u,m,k,v,L,b],O={el:Y,id:x,metadata:Y.data("metadata"),storage:P,options:{},youtubeXhr:D,modules:C},H=function(e){var t=i.extend(!0,{el:Y,id:x,storage:P,options:{},youtubeXhr:D},{metadata:e});return t.modules=R,t.options={SaveStatePlugin:{events:["language_menu:change"]}},t},I=function(e){return function(){a.extend(e.metadata,{autoplay:!0,focusFirstControl:!0}),t(e,w)}};return r(Y,{storage:P,saveStateUrl:O.metadata.saveStateUrl}),A?T(Y,{poster:Y.data("poster"),onClick:a.once(function(){var e,t,n=I(O);P.getItem("isBumperShown")?n():(t=H(A),e=new y(I(t),t),O.bumperState=t,e.getPromise().done(function(){delete O.bumperState,n()}))})}):t(O,w),D||(D=O.youtubeXhr),Y.data("video-player-state",O),E=function(){O&&O.videoPlayer&&O.videoPlayer.destroy(),i(".sequence").off("sequence:change",E)},i(".sequence").on("sequence:change",E),O},window.Video.clearYoutubeXhr=function(){D=null},window.Video.loadYouTubeIFrameAPI=t.prototype.loadYouTubeIFrameAPI}.apply(t,r))&&(e.exports=s)}).call(window)}).call(t,n(0),n(1))},"./node_modules/hls.js/dist/hls.js":function(e,t){"undefined"!=typeof window&&function(n,i){"object"==typeof t&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof t?t.Hls=i():n.Hls=i()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(i,a,function(t){return e[t]}.bind(null,a));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,n){"use strict";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(e,t,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,r),o=l?l+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function o(){this._events=new i,this._eventsCount=0}var d=Object.prototype.hasOwnProperty,l="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(l=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)d.call(e,t)&&n.push(l?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=l?l+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,r=new Array(a);i<a;i++)r[i]=n[i].fn;return r},o.prototype.listenerCount=function(e){var t=l?l+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,r){var s=l?l+e:e;if(!this._events[s])return!1;var o,d,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,r),!0}for(d=1,o=new Array(c-1);d<c;d++)o[d-1]=arguments[d];u.fn.apply(u.context,o)}else{var h,m=u.length;for(d=0;d<m;d++)switch(u[d].once&&this.removeListener(e,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,t);break;case 3:u[d].fn.call(u[d].context,t,n);break;case 4:u[d].fn.call(u[d].context,t,n,i);break;default:if(!o)for(h=1,o=new Array(c-1);h<c;h++)o[h-1]=arguments[h];u[d].fn.apply(u[d].context,o)}}return!0},o.prototype.on=function(e,t,n){return r(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return r(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,n,i){var a=l?l+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var r=this._events[a];if(r.fn)r.fn!==t||i&&!r.once||n&&r.context!==n||s(this,a);else{for(var o=0,d=[],u=r.length;o<u;o++)(r[o].fn!==t||i&&!r[o].once||n&&r[o].context!==n)&&d.push(r[o]);d.length?this._events[a]=1===d.length?d[0]:d:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=l?l+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=l,o.EventEmitter=o,e.exports=o},"./node_modules/url-toolkit/src/url-toolkit.js":/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,n){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var d=i.exec(o.path);o.netLoc=d[1],o.path=d[2]}o.netLoc&&!o.path&&(o.path="/");var l={scheme:o.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(l.netLoc=o.netLoc,"/"!==r.path[0]))if(r.path){var u=o.path,c=u.substring(0,u.lastIndexOf("/")+1)+r.path;l.path=s.normalizePath(c)}else l.path=o.path,r.params||(l.params=o.params,r.query||(l.query=o.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}()},"./node_modules/webworkify-webpack/index.js":/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,n){function i(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var i=t(t.s=ENTRY_MODULE);return i.default||i}function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(e){return!isNaN(1*e)}function s(e,t,i){var s={};s[i]=[];var o=t.toString(),d=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!d)return s;for(var c,h=d[1],m=new RegExp("(\\\\n|\\W)"+a(h)+u,"g");c=m.exec(o);)"dll-reference"!==c[3]&&s[i].push(c[3]);for(m=new RegExp("\\("+a(h)+'\\("(dll-reference\\s('+l+'))"\\)\\)'+u,"g");c=m.exec(o);)e[c[2]]||(s[i].push(c[1]),e[c[2]]=n(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var f=Object.keys(s),_=0;_<f.length;_++)for(var p=0;p<s[f[_]].length;p++)r(s[f[_]][p])&&(s[f[_]][p]=1*s[f[_]][p]);return s}function o(e){return Object.keys(e).reduce(function(t,n){return t||e[n].length>0},!1)}function d(e,t){for(var n={main:[t]},i={main:[]},a={main:{}};o(n);)for(var r=Object.keys(n),d=0;d<r.length;d++){var l=r[d],u=n[l],c=u.pop();if(a[l]=a[l]||{},!a[l][c]&&e[l][c]){a[l][c]=!0,i[l]=i[l]||[],i[l].push(c);for(var h=s(e,e[l][c],l),m=Object.keys(h),f=0;f<m.length;f++)n[m[f]]=n[m[f]]||[],n[m[f]]=n[m[f]].concat(h[m[f]])}}return i}var l="[\\.|\\-|\\+|\\w|/|@]+",u="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+l+").*?\\)";e.exports=function(e,t){t=t||{};var a={main:n.m},r=t.all?{main:Object.keys(a.main)}:d(a,e),s="";Object.keys(r).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;r[e][t];)t++;r[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r[e].map(function(t){return JSON.stringify(t)+": "+a[e][t].toString()}).join(",")+"});\n"}),s=s+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r.main.map(function(e){return JSON.stringify(e)+": "+a.main[e].toString()}).join(",")+"}))(self);";var o=new window.Blob([s],{type:"text/javascript"});if(t.bare)return o;var l=window.URL||window.webkitURL||window.mozURL||window.msURL,u=l.createObjectURL(o),c=new window.Worker(u);return c.objectURL=u,c}},"./src/crypt/decrypter.js":/*!********************************************!*\
  !*** ./src/crypt/decrypter.js + 3 modules ***!
  \********************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */
function(e,t,n){"use strict";function i(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}n.r(t);var a=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),r=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),s=r,o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),i=0;i<4;i++)n[i]=t.getUint32(4*i);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,i=n[0],a=n[1],r=n[2],s=n[3],o=this.invSubMix,d=o[0],l=o[1],u=o[2],c=o[3],h=new Uint32Array(256),m=0,f=0,_=0;for(_=0;_<256;_++)h[_]=_<128?_<<1:_<<1^283;for(_=0;_<256;_++){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^255&p^99,e[m]=p,t[p]=m;var g=h[m],y=h[g],v=h[y],M=257*h[p]^16843008*p;i[m]=M<<24|M>>>8,a[m]=M<<16|M>>>16,r[m]=M<<8|M>>>24,s[m]=M,M=16843009*v^65537*y^257*g^16843008*m,d[p]=M<<24|M>>>8,l[p]=M<<16|M>>>16,u[p]=M<<8|M>>>24,c[p]=M,m?(m=g^h[h[h[v^g]]],f^=h[h[f]]):m=f=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,i=0;i<t.length&&n;)n=t[i]===this.key[i],i++;if(!n){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var r,s,o,d,l=this.ksRows=4*(a+6+1),u=this.keySchedule=new Uint32Array(l),c=this.invKeySchedule=new Uint32Array(l),h=this.sBox,m=this.rcon,f=this.invSubMix,_=f[0],p=f[1],g=f[2],y=f[3];for(r=0;r<l;r++)r<a?o=u[r]=t[r]:(d=o,r%a==0?(d=d<<8|d>>>24,d=h[d>>>24]<<24|h[d>>>16&255]<<16|h[d>>>8&255]<<8|h[255&d],d^=m[r/a|0]<<24):a>6&&r%a==4&&(d=h[d>>>24]<<24|h[d>>>16&255]<<16|h[d>>>8&255]<<8|h[255&d]),u[r]=o=(u[r-a]^d)>>>0);for(s=0;s<l;s++)r=l-s,d=3&s?u[r]:u[r-4],c[s]=s<4||r<=4?d:_[h[d>>>24]]^p[h[d>>>16&255]]^g[h[d>>>8&255]]^y[h[255&d]],c[s]=c[s]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n,a){for(var r,s,o,d,l,u,c,h,m,f,_,p,g,y,v=this.keySize+6,M=this.invKeySchedule,L=this.invSBox,T=this.invSubMix,b=T[0],k=T[1],S=T[2],D=T[3],w=this.uint8ArrayToUint32Array_(n),E=w[0],Y=w[1],x=w[2],P=w[3],A=new Int32Array(e),j=new Int32Array(A.length),C=this.networkToHostOrderSwap;t<A.length;){for(m=C(A[t]),f=C(A[t+1]),_=C(A[t+2]),p=C(A[t+3]),l=m^M[0],u=p^M[1],c=_^M[2],h=f^M[3],g=4,y=1;y<v;y++)r=b[l>>>24]^k[u>>16&255]^S[c>>8&255]^D[255&h]^M[g],s=b[u>>>24]^k[c>>16&255]^S[h>>8&255]^D[255&l]^M[g+1],o=b[c>>>24]^k[h>>16&255]^S[l>>8&255]^D[255&u]^M[g+2],d=b[h>>>24]^k[l>>16&255]^S[u>>8&255]^D[255&c]^M[g+3],l=r,u=s,c=o,h=d,g+=4;r=L[l>>>24]<<24^L[u>>16&255]<<16^L[c>>8&255]<<8^L[255&h]^M[g],s=L[u>>>24]<<24^L[c>>16&255]<<16^L[h>>8&255]<<8^L[255&l]^M[g+1],o=L[c>>>24]<<24^L[h>>16&255]<<16^L[l>>8&255]<<8^L[255&u]^M[g+2],d=L[h>>>24]<<24^L[l>>16&255]<<16^L[u>>8&255]<<8^L[255&c]^M[g+3],g+=3,j[t]=C(r^E),j[t+1]=C(d^Y),j[t+2]=C(o^x),j[t+3]=C(s^P),E=m,Y=f,x=_,P=p,t+=4}return a?i(j.buffer):j.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),d=o,l=n("./src/errors.ts"),u=n("./src/utils/logger.js"),c=n("./src/events.js"),h=n("./src/utils/get-self-scope.js"),m=Object(h.getSelfScope)(),f=function(){function e(e,t,n){var i=void 0===n?{}:n,a=i.removePKCS7Padding,r=void 0===a||a;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=r,r)try{var s=m.crypto;s&&(this.subtle=s.subtle||s.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,n,i){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.logger.log("JS AES decrypt"),this.logEnabled=!1);var o=this.decryptor;o||(this.decryptor=o=new d),o.expandKey(t),i(o.decrypt(e,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(u.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var l=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new s(l,t)),this.fastAesKey.expandKey().then(function(s){new a(l,n).decrypt(e,s).catch(function(a){r.onWebCryptoError(a,e,t,n,i)}).then(function(e){i(e)})}).catch(function(a){r.onWebCryptoError(a,e,t,n,i)})}},t.onWebCryptoError=function(e,t,n,i,a){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,i,a)):(u.logger.error("decrypting error : "+e.message),this.observer.trigger(c.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=f},"./src/demux/demuxer-inline.js":/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 12 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */
function(e,t,n){"use strict";function i(e,t,n,i){var a,r,s,o,d,l=navigator.userAgent.toLowerCase(),u=i,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=1+((192&t[n+2])>>>6),(r=(60&t[n+2])>>>2)>c.length-1?void e.trigger(y.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+r}):(o=(1&t[n+2])<<2,o|=(192&t[n+3])>>>6,T.logger.log("manifest codec:"+i+",ADTS data:type:"+a+",sampleingIndex:"+r+"["+c[r]+"Hz],channelConfig:"+o),/firefox/i.test(l)?r>=6?(a=5,d=new Array(4),s=r-3):(a=2,d=new Array(2),s=r):-1!==l.indexOf("android")?(a=2,d=new Array(2),s=r):(a=5,d=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&r>=6?s=r-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(r>=6&&1===o||/vivaldi/i.test(l))||!i&&1===o)&&(a=2,d=new Array(2)),s=r)),d[0]=a<<3,d[0]|=(14&r)>>1,d[1]|=(1&r)<<7,d[1]|=o<<3,5===a&&(d[1]|=(14&s)>>1,d[2]=(1&s)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:c[r],channelCount:o,codec:"mp4a.40."+a,manifestCodec:u})}function a(e,t){return 255===e[t]&&240==(246&e[t+1])}function r(e,t){return 1&e[t+1]?7:9}function s(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function o(e,t){return!!(t+1<e.length&&a(e,t))}function d(e,t){if(o(e,t)){var n=r(e,t);if(t+n>=e.length)return!1;var i=s(e,t);if(i<=n)return!1;var d=t+i;if(d===e.length||d+1<e.length&&a(e,d))return!0}return!1}function l(e,t,n,a,r){if(!e.samplerate){var s=i(t,n,a,r);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,T.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}}function u(e){return 9216e4/e}function c(e,t,n,i,a){var o,d,l,u=e.length;if(o=r(e,t),d=s(e,t),(d-=o)>0&&t+o+d<=u)return l=n+i*a,{headerLength:o,frameLength:d,stamp:l}}function h(e,t,n,i,a){var r=u(e.samplerate),s=c(t,n,i,a,r);if(s){var o=s.stamp,d=s.headerLength,l=s.frameLength,h={unit:t.subarray(n+d,n+d+l),pts:o,dts:o};return e.samples.push(h),{sample:h,length:l+d}}}function m(e,t,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var a=e*t*n;return i?Math.round(a):a}function f(e,t){return void 0===t&&(t=!1),m(e,1e3,1/G,t)}function _(e,t){return void 0===t&&(t=1),m(e,G,1/t)}function p(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}n.r(t);var g,y=n("./src/events.js"),v=n("./src/errors.ts"),M=n("./src/crypt/decrypter.js"),L=n("./src/polyfills/number.js"),T=n("./src/utils/logger.js"),b=n("./src/utils/get-self-scope.js"),k=n("./src/demux/id3.js"),S=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=k.default.getID3Data(e,0)||[],n=t.length,i=e.length;n<i;n++)if(d(e,n))return T.logger.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,n,i){for(var a=this._audioTrack,r=k.default.getID3Data(e,0)||[],s=k.default.getTimeStamp(r),d=Object(L.isFiniteNumber)(s)?90*s:9e4*t,u=0,c=d,m=e.length,f=r.length,_=[{pts:c,dts:c,data:r}];f<m-1;)if(o(e,f)&&f+5<m){l(a,this.observer,e,f,a.manifestCodec);var p=h(a,e,f,d,u);if(!p){T.logger.log("Unable to parse AAC frame");break}f+=p.length,c=p.sample.pts,u++}else k.default.isHeader(e,f)?(r=k.default.getID3Data(e,f),_.push({pts:c,dts:c,data:r}),f+=r.length):f++;this.remuxer.remux(a,{samples:[]},{samples:_,inputTimeScale:9e4},{samples:[]},t,n,i)},t.destroy=function(){},e}(),D=S,w=n("./src/demux/mp4demuxer.js"),E={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,i,a){if(!(n+24>t.length)){var r=this.parseHeader(t,n);if(r&&n+r.frameLength<=t.length){var s=9e4*r.samplesPerFrame/r.sampleRate,o=i+a*s,d={unit:t.subarray(n,n+r.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=r.channelCount,e.samplerate=r.sampleRate,e.samples.push(d),{sample:d,length:r.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,a=e[t+2]>>4&15,r=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==n&&0!==a&&15!==a&&3!==r){var o=3===n?3-i:3===i?3:4,d=1e3*E.BitratesMap[14*o+a-1],l=3===n?0:2===n?1:2,u=E.SamplingRateMap[3*l+r],c=e[t+3]>>6==3?1:2,h=E.SamplesCoefficients[n][i],m=E.BytesInSlot[i],f=8*h*m;return{sampleRate:u,channelCount:c,frameLength:parseInt(h*d/u+s,10)*m,samplesPerFrame:f}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),i=4;n&&n.frameLength&&(i=n.frameLength);var a=t+i;if(a===e.length||a+1<e.length&&this.isHeaderPattern(e,a))return!0}return!1}},Y=E,x=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&T.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,n,i=8,a=8;for(t=0;t<e;t++)0!==a&&(n=this.readEG(),a=(i+n+256)%256),i=0===a?i:a},t.readSPS=function(){var e,t,n,i,a,r,s,o=0,d=0,l=0,u=0,c=this.readUByte.bind(this),h=this.readBits.bind(this),m=this.readUEG.bind(this),f=this.readBoolean.bind(this),_=this.skipBits.bind(this),p=this.skipEG.bind(this),g=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(c(),e=c(),h(5),_(3),c(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=m();if(3===v&&_(1),g(),g(),_(1),f())for(r=3!==v?8:12,s=0;s<r;s++)f()&&y(s<6?16:64)}g();var M=m();if(0===M)m();else if(1===M)for(_(1),p(),p(),t=m(),s=0;s<t;s++)p();g(),_(1),n=m(),i=m(),a=h(1),0===a&&_(1),_(1),f()&&(o=m(),d=m(),l=m(),u=m());var L=[1,1];if(f()&&f()){switch(c()){case 1:L=[1,1];break;case 2:L=[12,11];break;case 3:L=[10,11];break;case 4:L=[16,11];break;case 5:L=[40,33];break;case 6:L=[24,11];break;case 7:L=[20,11];break;case 8:L=[32,11];break;case 9:L=[80,33];break;case 10:L=[18,11];break;case 11:L=[15,11];break;case 12:L=[64,33];break;case 13:L=[160,99];break;case 14:L=[4,3];break;case 15:L=[3,2];break;case 16:L=[2,1];break;case 255:L=[c()<<8|c(),c()<<8|c()]}}return{width:Math.ceil(16*(n+1)-2*o-2*d),height:(2-a)*(i+1)*16-(a?2:4)*(l+u),pixelRatio:L}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),P=x,A=function(){function e(e,t,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new M.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,n,i){var a=e[t].unit,r=a.subarray(16,a.length-a.length%16),s=r.buffer.slice(r.byteOffset,r.byteOffset+r.length),o=this;this.decryptBuffer(s,function(r){r=new Uint8Array(r),a.set(r,16),i||o.decryptAacSamples(e,t+1,n)})},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,i),!i)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),i=0,a=32;a<=e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,i=32;i<=e.length-16;i+=160,n+=16)e.set(t.subarray(n,n+16),i);return e},t.decryptAvcSample=function(e,t,n,i,a,r){var s=this.discardEPB(a.data),o=this.getAvcEncryptedData(s),d=this;this.decryptBuffer(o.buffer,function(o){a.data=d.getAvcDecryptedUnit(s,o),r||d.decryptAvcSamples(e,t,n+1,i)})},t.decryptAvcSamples=function(e,t,n,i){for(;;t++,n=0){if(t>=e.length)return void i();for(var a=e[t].units;!(n>=a.length);n++){var r=a[n];if(!(r.data.length<=48||1!==r.type&&5!==r.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,i,r,s),!s)return}}}},e}(),j=A,C={video:1,audio:2,id3:3,text:4},R=function(){function e(e,t,n,i){this.observer=e,this.config=n,this.typeSupported=i,this.remuxer=t,this.sampleAes=null,this.pmtUnknownTypes={}}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new j(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0)&&(n&&T.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:C[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,n,i,a){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=e.createTrack("video",a),this._audioTrack=e.createTrack("audio",a),this._id3Track=e.createTrack("id3",a),this._txtTrack=e.createTrack("text",a),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=a},t.resetTimeStamp=function(){},t.append=function(t,n,i,a){var r,s,o,d,l,u=t.length,c=!1;this.pmtUnknownTypes={},this.contiguous=i;var h=this.pmtParsed,m=this._avcTrack,f=this._audioTrack,_=this._id3Track,p=m.pid,g=f.pid,M=_.pid,L=this._pmtId,b=m.pesData,k=f.pesData,S=_.pesData,D=this._parsePAT,w=this._parsePMT.bind(this),E=this._parsePES,Y=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),A=this._parseID3PES.bind(this),j=e._syncOffset(t);for(u-=(u+j)%188,r=j;r<u;r+=188)if(71===t[r]){if(s=!!(64&t[r+1]),o=((31&t[r+1])<<8)+t[r+2],(48&t[r+3])>>4>1){if((d=r+5+t[r+4])===r+188)continue}else d=r+4;switch(o){case p:s&&(b&&(l=E(b))&&Y(l,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(d,r+188)),b.size+=r+188-d);break;case g:s&&(k&&(l=E(k))&&(f.isAAC?x(l):P(l)),k={data:[],size:0}),k&&(k.data.push(t.subarray(d,r+188)),k.size+=r+188-d);break;case M:s&&(S&&(l=E(S))&&A(l),S={data:[],size:0}),S&&(S.data.push(t.subarray(d,r+188)),S.size+=r+188-d);break;case 0:s&&(d+=t[d]+1),L=this._pmtId=D(t,d);break;case L:s&&(d+=t[d]+1);var C=w(t,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);p=C.avc,p>0&&(m.pid=p),g=C.audio,g>0&&(f.pid=g,f.isAAC=C.isAAC),M=C.id3,M>0&&(_.pid=M),c&&!h&&(T.logger.log("reparse from beginning"),c=!1,r=j-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:c=!0}}else this.observer.trigger(y.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=E(b))?(Y(l,!0),m.pesData=null):m.pesData=b,k&&(l=E(k))?(f.isAAC?x(l):P(l),f.pesData=null):(k&&k.size&&T.logger.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=k),S&&(l=E(S))?(A(l),_.pesData=null):_.pesData=S,null==this.sampleAes?this.remuxer.remux(f,m,_,this._txtTrack,n,i,a):this.decryptAndRemux(f,m,_,this._txtTrack,n,i,a)},t.decryptAndRemux=function(e,t,n,i,a,r,s){if(e.samples&&e.isAAC){var o=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){o.decryptAndRemuxAvc(e,t,n,i,a,r,s)})}else this.decryptAndRemuxAvc(e,t,n,i,a,r,s)},t.decryptAndRemuxAvc=function(e,t,n,i,a,r,s){if(t.samples){var o=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){o.remuxer.remux(e,t,n,i,a,r,s)})}else this.remuxer.remux(e,t,n,i,a,r,s)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._trackUnknownPmt=function(e,t,n){var i=this.pmtUnknownTypes[e]||0;return 0===i&&(this.pmtUnknownTypes[e]=0,t.call(T.logger,n)),this.pmtUnknownTypes[e]++,i},t._parsePMT=function(e,t,n,i){var a,r,s,o,d={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=(15&e[t+1])<<8|e[t+2],r=t+3+a-4,s=(15&e[t+10])<<8|e[t+11],t+=12+s;t<r;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){this._trackUnknownPmt(e[t],T.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===d.audio&&(d.audio=o);break;case 21:-1===d.id3&&(d.id3=o);break;case 219:if(!i){this._trackUnknownPmt(e[t],T.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===d.avc&&(d.avc=o);break;case 3:case 4:n?-1===d.audio&&(d.audio=o,d.isAAC=!1):this._trackUnknownPmt(e[t],T.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(e[t],T.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(e[t],T.logger.log,"Unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return d},t._parsePES=function(e){var t,n,i,a,r,s,o,d,l=0,u=e.data;if(!e||0===e.size)return null;for(;u[0].length<19&&u.length>1;){var c=new Uint8Array(u[0].length+u[1].length);c.set(u[0]),c.set(u[1],u[0].length),u[0]=c,u.splice(1,1)}if(t=u[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;if(n=t[7],192&n&&(s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&n?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,s-o>54e5&&(T.logger.warn(Math.round((s-o)/9e4)+"s delta between PTS and DTS, align them"),s=o)):o=s),a=t[8],d=a+9,e.size<=d)return null;e.size-=d,r=new Uint8Array(e.size);for(var h=0,m=u.length;h<m;h++){t=u[h];var f=t.byteLength;if(d){if(d>f){d-=f;continue}t=t.subarray(d),f-=d,d=0}r.set(t,l),l+=f}return i&&(i-=a+3),{data:r,pts:s,dts:o,len:i}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,i=n.length;if(isNaN(e.pts)){if(!i)return void t.dropped++;var a=n[i-1];e.pts=a.pts,e.dts=a.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,n.push(e)):t.dropped++}e.debug.length&&T.logger.log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var n,i,a,r=this,s=this._avcTrack,o=this._parseAVCNALu(e.data),d=this.avcSample,l=!1,u=this.pushAccesUnit.bind(this),c=function(e,t,n,i){return{key:e,pts:t,dts:n,units:[],debug:i}};e.data=null,d&&o.length&&!s.audFound&&(u(d,s),d=this.avcSample=c(!1,e.pts,e.dts,"")),o.forEach(function(t){switch(t.type){case 1:i=!0,d||(d=r.avcSample=c(!0,e.pts,e.dts,"")),d.frame=!0;var o=t.data;if(l&&o.length>4){var h=new P(o).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(d.key=!0)}break;case 5:i=!0,d||(d=r.avcSample=c(!0,e.pts,e.dts,"")),d.key=!0,d.frame=!0;break;case 6:i=!0,n=new P(r.discardEPB(t.data)),n.readUByte();for(var m=0,f=0,_=!1,p=0;!_&&n.bytesAvailable>1;){m=0;do{p=n.readUByte(),m+=p}while(255===p);f=0;do{p=n.readUByte(),f+=p}while(255===p);if(4===m&&0!==n.bytesAvailable){_=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var g=n.readUByte(),y=n.readUByte(),v=31&g,M=[g,y];for(a=0;a<v;a++)M.push(n.readUByte()),M.push(n.readUByte()),M.push(n.readUByte());r._insertSampleInOrder(r._txtTrack.samples,{type:3,pts:e.pts,bytes:M})}}}}}else if(5===m&&0!==n.bytesAvailable){if(_=!0,f>16){var L=[];for(a=0;a<16;a++)L.push(n.readUByte().toString(16)),3!==a&&5!==a&&7!==a&&9!==a||L.push("-");var T=f-16,b=new Uint8Array(T);for(a=0;a<T;a++)b[a]=n.readUByte();r._insertSampleInOrder(r._txtTrack.samples,{pts:e.pts,payloadType:m,uuid:L.join(""),userDataBytes:b,userData:Object(k.utf8ArrayToStr)(b.buffer)})}}else if(f<n.bytesAvailable)for(a=0;a<f;a++)n.readUByte()}break;case 7:if(i=!0,l=!0,!s.sps){n=new P(t.data);var S=n.readSPS();s.width=S.width,s.height=S.height,s.pixelRatio=S.pixelRatio,s.sps=[t.data],s.duration=r._duration;var D=t.data.subarray(1,4),w="avc1.";for(a=0;a<3;a++){var E=D[a].toString(16);E.length<2&&(E="0"+E),w+=E}s.codec=w}break;case 8:i=!0,s.pps||(s.pps=[t.data]);break;case 9:i=!1,s.audFound=!0,d&&u(d,s),d=r.avcSample=c(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,d&&(d.debug+="unknown NAL "+t.type+" ")}if(d&&i){d.units.push(t)}}),t&&d&&(u(d,s),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var i=n-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var n=this._avcTrack,i=n.samples;t=i[i.length-1]}if(t){var a=t.units;e=a[a.length-1]}return e},t._parseAVCNALu=function(e){var t,n,i,a,r,s=0,o=e.byteLength,d=this._avcTrack,l=d.naluState||0,u=l,c=[],h=-1;for(-1===l&&(h=0,r=31&e[0],l=0,s=1);s<o;)if(t=e[s++],l)if(1!==l)if(t)if(1===t){if(h>=0)i={data:e.subarray(h,s-l-1),type:r},c.push(i);else{var m=this._getLastNalUnit();if(m&&(u&&s<=4-u&&m.state&&(m.data=m.data.subarray(0,m.data.byteLength-u)),(n=s-l-1)>0)){var f=new Uint8Array(m.data.byteLength+n);f.set(m.data,0),f.set(e.subarray(0,n),m.data.byteLength),m.data=f}}s<o?(a=31&e[s],h=s,r=a,l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(h>=0&&l>=0&&(i={data:e.subarray(h,o),type:r,state:l},c.push(i)),0===c.length){var _=this._getLastNalUnit();if(_){var p=new Uint8Array(_.data.byteLength+e.byteLength);p.set(_.data,0),p.set(e,_.data.byteLength),_.data=p}}return d.naluState=l,c},t.discardEPB=function(e){for(var t,n,i=e.byteLength,a=[],r=1;r<i-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(a.push(r+2),r+=2):r++;if(0===a.length)return e;t=i-a.length,n=new Uint8Array(t);var s=0;for(r=0;r<t;s++,r++)s===a[0]&&(s++,a.shift()),n[r]=e[s];return n},t._parseAACPES=function(e){var t,n,i,a,r,s=this._audioTrack,d=e.data,c=e.pts,m=this.aacOverFlow,f=this.aacLastPTS;if(m){var _=new Uint8Array(m.byteLength+d.byteLength);_.set(m,0),_.set(d,m.byteLength),d=_}for(i=0,r=d.length;i<r-1&&!o(d,i);i++);if(i){var p,g;if(i<r-1?(p="AAC PES did not start with ADTS header,offset:"+i,g=!1):(p="no ADTS header found in AAC PES",g=!0),T.logger.warn("parsing error:"+p),this.observer.trigger(y.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:g,reason:p}),g)return}if(l(s,this.observer,d,i,this.audioCodec),n=0,t=u(s.samplerate),m&&f){var M=f+t;Math.abs(M-c)>1&&(T.logger.log("AAC: align PTS for overlapping frames by "+Math.round((M-c)/90)),c=M)}for(;i<r;){if(o(d,i)){if(i+5<r){var L=h(s,d,i,c,n);if(L){i+=L.length,a=L.sample.pts,n++;continue}}break}i++}m=i<r?d.subarray(i,r):null,this.aacOverFlow=m,this.aacLastPTS=a},t._parseMPEGPES=function(e){for(var t=e.data,n=t.length,i=0,a=0,r=e.pts;a<n;)if(Y.isHeader(t,a)){var s=Y.appendFrame(this._audioTrack,t,a,r,i);if(!s)break;a+=s.length,i++}else a++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),O=R,H=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,n,i=k.default.getID3Data(e,0);if(i&&void 0!==k.default.getTimeStamp(i))for(t=i.length,n=Math.min(e.length-1,t+100);t<n;t++)if(Y.probe(e,t))return T.logger.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,n,i){for(var a=k.default.getID3Data(e,0)||[],r=k.default.getTimeStamp(a),s=void 0!==r?90*r:9e4*t,o=a.length,d=e.length,l=0,u=0,c=this._audioTrack,h=[{pts:s,dts:s,data:a}];o<d;)if(Y.isHeader(e,o)){var m=Y.appendFrame(c,e,o,s,l);if(!m)break;o+=m.length,u=m.sample.pts,l++}else k.default.isHeader(e,o)?(a=k.default.getID3Data(e,o),h.push({pts:u,dts:u,data:a}),o+=a.length):o++;this.remuxer.remux(c,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,n,i)},t.destroy=function(){},e}(),I=H,F=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),N=F,U=Math.pow(2,32)-1,B=function(){function e(){}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=r,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),d=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,d,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))},e.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=8,a=n.length,r=a;a--;)i+=n[a].byteLength;for(t=new Uint8Array(i),t[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<r;a++)t.set(n[a],i),i+=n[a].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(U+1)),a=Math.floor(n%(U+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,n))},e.moov=function(t){for(var n=t.length,i=[];n--;)i[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,i=[];n--;)i[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(U+1)),a=Math.floor(n%(U+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,r)},e.sdtp=function(t){var n,i,a=t.samples||[],r=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)n=a[i].flags,r[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,r)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,i,a,r=[],s=[];for(n=0;n<t.sps.length;n++)i=t.sps[n],a=i.byteLength,r.push(a>>>8&255),r.push(255&a),r=r.concat(Array.prototype.slice.call(i));for(n=0;n<t.pps.length;n++)i=t.pps[n],a=i.byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(s))),d=t.width,l=t.height,u=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,255&d,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,c>>24,c>>16&255,c>>8&255,255&c])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,a=t.width,r=t.height,s=Math.floor(i/(U+1)),o=Math.floor(i%(U+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,r>>8&255,255&r,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),a=t.id,r=Math.floor(n/(U+1)),s=Math.floor(n%(U+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var i,a,r,s,o,d,l=t.samples||[],u=l.length,c=12+16*u,h=new Uint8Array(c);for(n+=8+c,h.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)a=l[i],r=a.duration,s=a.size,o=a.flags,d=a.cts,h.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*i);return e.box(e.types.trun,h)},e.initSegment=function(t){e.types||e.init();var n,i=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+i.byteLength),n.set(e.FTYP),n.set(i,e.FTYP.byteLength),n},e}(),W=B,G=9e4,z=_(10),V=_(.2),K=null,J=function(){function e(e,t,n,i){if(this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===K){var a=navigator.userAgent.match(/Chrome\/(\d+)/i);K=a?parseInt(a[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce(function(e,n){var i=n.pts-e;return i<-4294967296?(t=!0,p(e,n.pts)):i>0?e:n.pts},e[0].pts);return t&&T.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,i,a,r,s){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var o=e.samples.length,d=t.samples.length,l=a,u=a;if(o&&d){var c=this.getVideoStartPts(t.samples),h=p(e.samples[0].pts,c)-c,m=h/t.inputTimeScale;l+=Math.max(0,m),u+=Math.max(0,-m)}if(o){e.timescale||(T.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var f=this.remuxAudio(e,l,r,s);if(d){var _;f&&(_=f.endPTS-f.startPTS),t.timescale||(T.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,u,r,_)}}else if(d){var g=this.remuxVideo(t,u,r,0,s);g&&e.codec&&this.remuxEmptyAudio(e,l,r,g)}}n.samples.length&&this.remuxID3(n,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(y.default.FRAG_PARSED)},t.generateIS=function(e,t,n){var i,a,r=this.observer,s=e.samples,o=t.samples,d=this.typeSupported,l="audio/mp4",u={},c={tracks:u},h=void 0===this._initPTS;if(h&&(i=a=1/0),e.config&&s.length&&(e.timescale=e.samplerate,T.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(l="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),u.audio={container:l,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:W.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(i=a=s[0].pts-Math.round(e.inputTimeScale*n))),t.sps&&t.pps&&o.length){var m=t.inputTimeScale;if(t.timescale=m,u.video={container:"video/mp4",codec:t.codec,initSegment:W.initSegment([t]),metadata:{width:t.width,height:t.height}},h){var f=this.getVideoStartPts(o),_=Math.round(m*n);a=Math.min(a,p(o[0].dts,f)-_),i=Math.min(i,f-_),this.observer.trigger(y.default.INIT_PTS_FOUND,{initPTS:i})}}else h&&u.audio&&this.observer.trigger(y.default.INIT_PTS_FOUND,{initPTS:i});Object.keys(u).length?(r.trigger(y.default.FRAG_PARSING_INIT_SEGMENT,c),this.ISGenerated=!0,h&&(this._initPTS=i,this._initDTS=a)):r.trigger(y.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,n,i){var a,r,s,o,d,l=e.timescale,u=e.samples,c=[],h=u.length,m=this._initPTS,_=8,g=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,L=0,b=!1,k=this.nextAvcDts;if(0!==h){if(!n){k=t*l-(u[0].pts-p(u[0].dts,u[0].pts))}for(var S=0;S<h;S++){var D=u[S];D.pts=p(D.pts-m,k),D.dts=p(D.dts-m,k),D.dts>D.pts&&(L=Math.max(Math.min(L,D.pts-D.dts),-1*V)),D.dts<u[S>0?S-1:S].dts&&(b=!0)}b&&u.sort(function(e,t){var n=e.dts-t.dts,i=e.pts-t.pts;return n||i||e.id-t.id}),o=u[0].dts,d=u[h-1].dts;var w=Math.round((d-o)/(h-1));if(L<0){if(L<-2*w){T.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+f(-w,!0)+" ms");for(var E=L,Y=0;Y<h;Y++)u[Y].dts=E=Math.max(E,u[Y].pts-w),u[Y].pts=Math.max(E,u[Y].pts)}else{T.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+f(L,!0)+" ms to overcome this issue");for(var x=0;x<h;x++)u[x].dts=u[x].dts+L}o=u[0].dts,d=u[h-1].dts}if(n){var P=o-k,A=P>w,j=P<-1;if(A||j){A?T.logger.warn("AVC: "+f(P,!0)+" ms ("+P+"dts) hole between fragments detected, filling it"):T.logger.warn("AVC: "+f(-P,!0)+" ms ("+P+"dts) overlapping between fragments detected"),o=k;var C=u[0].pts-P;u[0].dts=o,u[0].pts=C,T.logger.log("Video: First PTS/DTS adjusted: "+f(C,!0)+"/"+f(o,!0)+", delta: "+f(P,!0)+" ms")}}K&&K<75&&(o=Math.max(0,o));for(var R=0,O=0,H=0;H<h;H++){for(var I=u[H],F=I.units,N=F.length,U=0,B=0;B<N;B++)U+=F[B].data.length;O+=U,R+=N,I.length=U,I.dts=Math.max(I.dts,o),I.pts=Math.max(I.pts,I.dts,0),g=Math.min(I.pts,g),M=Math.max(I.pts,M)}d=u[h-1].dts;var G=O+4*R+8;try{r=new Uint8Array(G)}catch(e){return void this.observer.trigger(y.default.ERROR,{type:v.ErrorTypes.MUX_ERROR,details:v.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating video mdat "+G})}var z=new DataView(r.buffer);z.setUint32(0,G),r.set(W.types.mdat,4);for(var J=0;J<h;J++){for(var q=u[J],X=q.units,Q=0,$=void 0,Z=0,ee=X.length;Z<ee;Z++){var te=X[Z],ne=te.data,ie=te.data.byteLength;z.setUint32(_,ie),_+=4,r.set(ne,_),_+=ie,Q+=4+ie}if(J<h-1)a=u[J+1].dts-q.dts;else{var ae=this.config,re=q.dts-u[J>0?J-1:J].dts;if(ae.stretchShortVideoTrack){var se=ae.maxBufferHole,oe=Math.floor(se*l),de=(i?g+i*l:this.nextAudioPts)-q.pts;de>oe?(a=de-re,a<0&&(a=re),T.logger.log("It is approximately "+f(de,!1)+" ms to the next segment; using duration "+f(a,!1)+" ms for the last video frame.")):a=re}else a=re}$=Math.round(q.pts-q.dts),c.push({size:Q,duration:a,cts:$,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:q.key?2:1,isNonSync:q.key?0:1}})}this.nextAvcDts=d+a;var le=e.dropped;if(e.nbNalu=0,e.dropped=0,c.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ue=c[0].flags;ue.dependsOn=2,ue.isNonSync=0}e.samples=c,s=W.moof(e.sequenceNumber++,o,e),e.samples=[];var ce={data1:s,data2:r,startPTS:g/l,endPTS:(M+a)/l,startDTS:o/l,endDTS:this.nextAvcDts/l,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:le};return this.observer.trigger(y.default.FRAG_PARSING_DATA,ce),ce}},t.remuxAudio=function(e,t,n,i){var a,r,s,o,d,l,u=e.inputTimeScale,c=e.timescale,h=u/c,m=e.isAAC?1024:1152,_=m*h,g=this._initPTS,M=!e.isAAC&&this.typeSupported.mpeg,L=M?0:8,b=e.samples,k=[],S=this.nextAudioPts;if(n|=b.length&&S&&(i&&Math.abs(t-S/u)<.1||Math.abs(b[0].pts-S-g)<20*_),b.forEach(function(e){e.pts=e.dts=p(e.pts-g,t*u)}),b=b.filter(function(e){return e.pts>=0}),0!==b.length){if(n||(S=i?Math.max(0,t*u):b[0].pts),e.isAAC)for(var D=this.config.maxAudioFramesDrift,w=0,E=S;w<b.length;){var Y=b[w],x=Y.pts,P=x-E;if(P<=-D*_)n||w>0?(T.logger.warn("Dropping 1 audio frame @ "+f(E,!0)/1e3+"s due to "+f(P,!0)+" ms overlap."),b.splice(w,1)):(T.logger.warn("Audio frame @ "+f(x,!0)/1e3+"s overlaps nextAudioPts by "+f(P,!0)+" ms."),E=x+_,w++);else if(P>=D*_&&P<z&&E){var A=Math.round(P/_);T.logger.warn("Injecting "+A+" audio frames @ "+f(E,!0)/1e3+"s due to "+f(P,!0)+" ms gap.");for(var j=0;j<A;j++){var C=Math.max(E,0);r=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),r||(T.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),r=Y.unit.subarray()),b.splice(w,0,{unit:r,pts:C,dts:C}),E+=_,w++}Y.pts=Y.dts=E,E+=_,w++}else Math.abs(P),Y.pts=Y.dts=E,E+=_,w++}for(var R=b.length,O=0;R--;)O+=b[R].unit.byteLength;for(var H=0,I=b.length;H<I;H++){var F=b[H],U=F.unit,B=F.pts;if(void 0!==l&&a)a.duration=Math.round((B-l)/h);else{var G=B-S,V=0;if(n&&e.isAAC&&G){if(G>0&&G<z)V=Math.round((B-S)/_),T.logger.log(f(G,!0)+" ms hole between AAC samples detected,filling it"),V>0&&(r=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),r||(r=U.subarray()),O+=V*r.length);else if(G<-12){T.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+f(S,!0)+" ms / "+f(B,!0)+" ms / "+f(-G,!0)+" ms"),O-=U.byteLength;continue}B=S}if(d=B,!(O>0))return;O+=L;try{s=new Uint8Array(O)}catch(e){return void this.observer.trigger(y.default.ERROR,{type:v.ErrorTypes.MUX_ERROR,details:v.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:O,reason:"fail allocating audio mdat "+O})}if(!M){new DataView(s.buffer).setUint32(0,O),s.set(W.types.mdat,4)}for(var K=0;K<V;K++)r=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),r||(T.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),r=U.subarray()),s.set(r,L),L+=r.byteLength,a={size:r.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},k.push(a)}s.set(U,L);var J=U.byteLength;L+=J,a={size:J,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},k.push(a),l=B}var q=0;if(R=k.length,R>=2&&(q=k[R-2].duration,a.duration=q),R){this.nextAudioPts=S=l+h*q,e.samples=k,o=M?new Uint8Array:W.moof(e.sequenceNumber++,d/h,e),e.samples=[];var X=d/u,Q=S/u,$={data1:o,data2:s,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:R};return this.observer.trigger(y.default.FRAG_PARSING_DATA,$),$}return null}},t.remuxEmptyAudio=function(e,t,n,i){var a=e.inputTimeScale,r=e.samplerate?e.samplerate:a,s=a/r,o=this.nextAudioPts,d=(void 0!==o?o:i.startDTS*a)+this._initDTS,l=i.endDTS*a+this._initDTS,u=1024*s,c=Math.ceil((l-d)/u),h=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(T.logger.warn("remux empty Audio"),!h)return void T.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var m=[],f=0;f<c;f++){var _=d+f*u;m.push({unit:h,pts:_,dts:_})}e.samples=m,this.remuxAudio(e,t,n)},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var i=e.inputTimeScale,a=this._initPTS,r=this._initDTS,s=0;s<n;s++){var o=e.samples[s];o.pts=p(o.pts-a,t*i)/i,o.dts=p(o.dts-r,t*i)/i}this.observer.trigger(y.default.FRAG_PARSING_METADATA,{samples:e.samples}),e.samples=[]}},t.remuxText=function(e,t){var n=e.samples.length,i=e.inputTimeScale,a=this._initPTS;if(n){for(var r=0;r<n;r++){var s=e.samples[r];s.pts=p(s.pts-a,t*i)/i}e.samples.sort(function(e,t){return e.pts-t.pts}),this.observer.trigger(y.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e}(),q=J,X=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,n,i,a,r,s,o){var d=this.observer,l="";e&&(l+="audio"),t&&(l+="video"),d.trigger(y.default.FRAG_PARSING_DATA,{data1:o,startPTS:a,startDTS:a,type:l,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),d.trigger(y.default.FRAG_PARSED)},e}(),Q=X,$=Object(b.getSelfScope)();try{g=$.performance.now.bind($.performance)}catch(e){T.logger.debug("Unable to use Performance API on this environment"),g=$.Date.now}var Z=function(){function e(e,t,n,i){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=i}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,n,i,a,r,s,o,d,l,u,c){var h=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var m=this.decrypter;null==m&&(m=this.decrypter=new M.default(this.observer,this.config));var f=g();m.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var m=g();h.observer.trigger(y.default.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:m}}),h.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,a,r,s,o,d,l,u,c)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,a,r,s,o,d,l,u,c)},t.pushDecrypted=function(e,t,n,i,a,r,s,o,d,l,u,c){var h=this.demuxer,m=this.remuxer;if(!h||s||o){for(var f,_=this.observer,p=this.typeSupported,g=this.config,M=[{demux:O,remux:q},{demux:w.default,remux:Q},{demux:D,remux:q},{demux:I,remux:q}],L=0,T=M.length;L<T&&(f=M[L],!f.demux.probe(e));L++);if(!f)return void _.trigger(y.default.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});m&&m instanceof f.remux||(m=new f.remux(_,g,p,this.vendor)),h&&h instanceof f.demux||(h=new f.demux(_,m,g,p),this.probe=f.demux.probe),this.demuxer=h,this.remuxer=m}(s||o)&&(h.resetInitSegment(n,i,a,l),m.resetInitSegment()),s&&(h.resetTimeStamp(c),m.resetTimeStamp(c)),"function"==typeof h.setDecryptData&&h.setDecryptData(t),h.append(e,r,d,u)},e}();t.default=Z},"./src/demux/demuxer-worker.js":/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */
function(e,t,n){"use strict";n.r(t);var i=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),a=n(/*! ../events */"./src/events.js"),r=n(/*! ../utils/logger */"./src/utils/logger.js"),s=n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),o=function(e){var t=new s.EventEmitter;t.trigger=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.removeListener.apply(t,[e].concat(i))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(a){var s=a.data;switch(s.cmd){case"init":var o=JSON.parse(s.config);e.demuxer=new i.default(t,s.typeSupported,o,s.vendor),Object(r.enableLogs)(o.debug),n("init",null);break;case"demux":e.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}}),t.on(a.default.FRAG_DECRYPTED,n),t.on(a.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(a.default.FRAG_PARSED,n),t.on(a.default.ERROR,n),t.on(a.default.FRAG_PARSING_METADATA,n),t.on(a.default.FRAG_PARSING_USERDATA,n),t.on(a.default.INIT_PTS_FOUND,n),t.on(a.default.FRAG_PARSING_DATA,function(t,n){var i=[],a={event:t,data:n};n.data1&&(a.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(a.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),e.postMessage(a,i)})};t.default=o},"./src/demux/id3.js":/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */
function(e,t,n){"use strict";function i(){var e=Object(r.getSelfScope)();return a||void 0===e.TextDecoder||(a=new e.TextDecoder("utf-8")),a}n.r(t),n.d(t,"utf8ArrayToStr",function(){return o});var a,r=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),s=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){for(var i=n,a=0;e.isHeader(t,n);){a+=10;a+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(a+=10),n+=a}if(a>0)return t.subarray(i,i+a)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),i=0;i<n.length;i++){var a=n[i];if(e.isTimeStampFrame(a))return e._readTimeStamp(a)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:n,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var n=0,i=[];e.isHeader(t,n);){var a=e._readSize(t,n+6);n+=10;for(var r=n+a;n+8<r;){var s=e._getFrameData(t.subarray(n)),o=e._decodeFrame(s);o&&i.push(o),n+=s.size+10}e.isFooter(t,n)&&(n+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):e._decodeTextFrame(t)},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,i=e._utf8ArrayToStr(t.data.subarray(n),!0);n+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:a}}var r=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:r}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,i=e._utf8ArrayToStr(t.data.subarray(n),!0);n+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:a}}var r=e._utf8ArrayToStr(t.data);return{key:t.type,data:r}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var n=i();if(n){var a=n.decode(e);if(t){var r=a.indexOf("\0");return-1!==r?a.substring(0,r):a}return a.replace(/\0/g,"")}for(var s,o,d,l=e.length,u="",c=0;c<l;){if(0===(s=e[c++])&&t)return u;if(0!==s&&3!==s)switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(s);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&s)<<6|63&o);break;case 14:o=e[c++],d=e[c++],u+=String.fromCharCode((15&s)<<12|(63&o)<<6|(63&d)<<0)}}return u},e}(),o=s._utf8ArrayToStr;t.default=s},"./src/demux/mp4demuxer.js":/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t);var i=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! ../events */"./src/events.js"),r=Math.pow(2,32)-1,s=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,n,i,r){if(t&&t.byteLength){var s=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};s.audio&&s.video?o.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:r?t:null}:(s.audio&&(o.audio={container:"audio/mp4",codec:n,initSegment:r?t:null}),s.video&&(o.video={container:"video/mp4",codec:i,initSegment:r?t:null})),this.observer.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var i,a,r,s,o,d,l,u=[];if(t.data?(d=t.start,s=t.end,t=t.data):(d=0,s=t.byteLength),!n.length)return null;for(i=d;i<s;)a=e.readUint32(t,i),r=e.bin2str(t.subarray(i+4,i+8)),l=a>1?i+a:s,r===n[0]&&(1===n.length?u.push({data:t,start:i+8,end:l}):(o=e.findBox({data:t,start:i+8,end:l},n.slice(1)),o.length&&(u=u.concat(o)))),i=l;return u},e.parseSegmentIndex=function(t){var n,i=e.findBox(t,["moov"])[0],a=i?i.end:null,r=0,s=e.findBox(t,["sidx"]);if(!s||!s[0])return null;n=[],s=s[0];var o=s.data[0];r=0===o?8:16;var d=e.readUint32(s,r);r+=4;r+=0===o?8:16,r+=2;var l=s.end+0,u=e.readUint16(s,r);r+=2;for(var c=0;c<u;c++){var h=r,m=e.readUint32(s,h);h+=4;var f=2147483647&m;if(1===(2147483648&m)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var _=e.readUint32(s,h);h+=4,n.push({referenceSize:f,subsegmentDuration:_,info:{duration:_/d,start:l,end:l+f-1}}),l+=f,h+=4,r=h}return{earliestPresentationTime:0,timescale:d,version:o,referencesCount:u,references:n,moovEndOffset:a}},e.parseInitSegment=function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var a=e.findBox(t,["tkhd"])[0];if(a){var r=a.data[a.start],s=0===r?12:20,o=e.readUint32(a,s),d=e.findBox(t,["mdia","mdhd"])[0];if(d){r=d.data[d.start],s=0===r?12:20;var l=e.readUint32(d,s),u=e.findBox(t,["mdia","hdlr"])[0];if(u){var c=e.bin2str(u.data.subarray(u.start+8,u.start+12)),h={soun:"audio",vide:"video"}[c];if(h){var m=e.findBox(t,["mdia","minf","stbl","stsd"]);if(m.length){m=m[0];var f=e.bin2str(m.data.subarray(m.start+12,m.start+16));i.logger.log("MP4Demuxer:"+h+":"+f+" found")}n[o]={timescale:l,type:h},n[h]={timescale:l,id:o}}}}}}),n},e.getStartDTS=function(t,n){var i,a,r;return i=e.findBox(n,["moof","traf"]),a=[].concat.apply([],i.map(function(n){return e.findBox(n,["tfhd"]).map(function(i){var a,r;return a=e.readUint32(i,4),r=t[a].timescale||9e4,e.findBox(n,["tfdt"]).map(function(t){var n,i;return n=t.data[t.start],i=e.readUint32(t,4),1===n&&(i*=Math.pow(2,32),i+=e.readUint32(t,8)),i})[0]/r})})),r=Math.min.apply(null,a),isFinite(r)?r:0},e.offsetStartDTS=function(t,n,i){e.findBox(n,["moof","traf"]).map(function(n){return e.findBox(n,["tfhd"]).map(function(a){var s=e.readUint32(a,4),o=t[s].timescale||9e4;e.findBox(n,["tfdt"]).map(function(t){var n=t.data[t.start],a=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,a-i*o);else{a*=Math.pow(2,32),a+=e.readUint32(t,8),a-=i*o,a=Math.max(a,0);var s=Math.floor(a/(r+1)),d=Math.floor(a%(r+1));e.writeUint32(t,4,s),e.writeUint32(t,8,d)}})})})},t.append=function(t,n,i,r){var s=this.initData;s||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),s=this.initData);var o,d=this.initPTS;if(void 0===d){var l=e.getStartDTS(s,t);this.initPTS=d=l-n,this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:d})}e.offsetStartDTS(s,t,d),o=e.getStartDTS(s,t),this.remuxer.remux(s.audio,s.video,null,null,o,i,r,t)},t.destroy=function(){},e}();t.default=s},"./src/errors.ts":/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */
function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorTypes",function(){return i}),n.d(t,"ErrorDetails",function(){return a});var i;!function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(i||(i={}));var a;!function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException"}(a||(a={}))},"./src/events.js":/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */
function(e,t,n){"use strict";n.r(t);var i={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};t.default=i},"./src/hls.ts":/*!*********************************!*\
  !*** ./src/hls.ts + 50 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */
function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){var n=_t[t];return!!n&&!0===n[e.slice(0,4)]}function u(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}function c(e,t){for(var n=e[t],i=t-1;i>=0;i--){var a=e[i];a.programDateTime=n.programDateTime-1e3*a.duration,n=a}}function h(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):(null===t||void 0===t?void 0:t.programDateTime)&&(e.programDateTime=t.endProgramDateTime),Object($e.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function g(){return window.MediaSource||window.WebKitMediaSource}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function v(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function M(e,t,n){var i=e[t],a=e[n],r=a.startPTS;if(Object($e.isFiniteNumber)(r))n>t?(i.duration=r-i.start,i.duration<0&&et.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(a.duration=i.start-r,a.duration<0&&et.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!"));else if(n>t){var s=i.cc===a.cc;a.start=i.start+(s&&i.minEndPTS?i.minEndPTS-i.start:i.duration)}else a.start=Math.max(i.start-a.duration,0)}function L(e,t,n,i,a,r){var s=n,o=i;if(Object($e.isFiniteNumber)(t.startPTS)){var d=Math.abs(t.startPTS-n);Object($e.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(d,t.deltaPTS):t.deltaPTS=d,s=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),o=Math.min(i,t.endPTS),i=Math.max(i,t.endPTS),a=Math.min(a,t.startDTS),r=Math.max(r,t.endDTS)}var l=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=s,t.endPTS=i,t.minEndPTS=o,t.startDTS=a,t.endDTS=r,t.duration=i-n;var u=t.sn;if(!e||u<e.startSN||u>e.endSN)return 0;var c,h,m;for(c=u-e.startSN,h=e.fragments,h[c]=t,m=c;m>0;m--)M(h,m,m-1);for(m=c;m<h.length-1;m++)M(h,m,m+1);return e.PTSKnown=!0,l}function T(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var n,i=0;if(k(e,t,function(e,a){i=e.cc-a.cc,Object($e.isFiniteNumber)(e.startPTS)&&(a.start=a.startPTS=e.startPTS,a.endPTS=e.endPTS,a.duration=e.duration,a.backtracked=e.backtracked,a.dropped=e.dropped,n=a),t.PTSKnown=!0}),t.PTSKnown){if(i){et.logger.log("discontinuity sliding from playlist, take drift into account");for(var a=t.fragments,r=0;r<a.length;r++)a[r].cc+=i}n?L(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):S(e,t),t.PTSKnown=e.PTSKnown}}function b(e,t,n){void 0===n&&(n=0);var i=-1;k(e,t,function(e,t,n){t.start=e.start,i=n});var a=t.fragments;if(i<0)return void a.forEach(function(e){e.start+=n});for(var r=i+1;r<a.length;r++)a[r].start=a[r-1].start+a[r-1].duration}function k(e,t,n){if(e&&t)for(var i=Math.max(e.startSN,t.startSN)-t.startSN,a=Math.min(e.endSN,t.endSN)-t.startSN,r=t.startSN-e.startSN,s=i;s<=a;s++){var o=e.fragments[r+s],d=t.fragments[s];if(!o||!d)break;n(o,d,s)}}function S(e,t){var n=t.startSN-e.startSN,i=e.fragments,a=t.fragments;if(!(n<0||n>i.length))for(var r=0;r<a.length;r++)a[r].start+=i[n].start}function D(e,t,n){var i=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),a=i/2;return e&&t.endSN===e.endSN&&(i=a),n&&(i=Math.max(a,i-(window.performance.now()-n))),Math.round(i)}function w(e,t){for(var n=null,i=0;i<e.length;i+=1){var a=e[i];if(a&&a.cc===t){n=a;break}}return n}function E(e,t){return jt.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}function Y(e,t,n){var i=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(i=!0),i}function x(e,t){var n=e.fragments,i=t.fragments;if(!i.length||!n.length)return void et.logger.log("No fragments to align");var a=w(n,i[0].cc);return!a||a&&!a.startPTS?void et.logger.log("No frag in previous level to align on"):a}function P(e,t){t.fragments.forEach(function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}),t.PTSKnown=!0}function A(e,t,n){j(e,n,t),!n.PTSKnown&&t&&C(n,t.details)}function j(e,t,n){if(Y(e,n,t)){var i=x(n.details,t);i&&(et.logger.log("Adjusting PTS using last level due to CC increase within current level"),P(i.start,t))}}function C(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var n=t.fragments[0].programDateTime,i=e.fragments[0].programDateTime,a=(i-n)/1e3+t.fragments[0].start;Object($e.isFiniteNumber)(a)&&(et.logger.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),P(a,e))}}function R(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object($e.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var a=e[i];if(I(t,n,a))return a}return null}function O(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var a=null;if(e?a=t[e.sn-t[0].sn+1]:0===n&&0===t[0].start&&(a=t[0]),a&&0===H(n,i,a))return a;var r=jt.search(t,H.bind(null,n,i));return r||a}function H(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var i=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=e?1:n.start-i>e&&n.start?-1:0}function I(e,t,n){var i=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-i>e}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function W(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function J(e,t){var n;try{n=new Event("addtrack")}catch(e){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function q(e){if(null===e||void 0===e?void 0:e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function X(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var n=0,i=e.length-1;n<=i;){var a=Math.floor((i+n)/2);if(t<e[a].endTime)i=a-1;else{if(!(t>e[a].endTime))return e[a];n=a+1}}return e[n].endTime-t<t-e[i].endTime?e[n]:e[i]}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $(){var e=g();if(!e)return!1;var t=self.SourceBuffer||self.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!i}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ae(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function re(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}function se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function de(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function le(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}function ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ce(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function he(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}function me(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function fe(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Yn,this.regionList=[]}function _e(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function pe(){this.values=Object.create(null)}function ge(e,t,n,i){var a=i?e.split(i):[e];for(var r in a)if("string"==typeof a[r]){var s=a[r].split(n);if(2===s.length){var o=s[0],d=s[1];t(o,d)}}}function ye(e,t,n){function i(){var t=_e(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}var r=e;if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),function(e,t){var i=new pe;ge(e,function(e,t){switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){i.set(e,n[a].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),s=r[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",Pn,"end"]);break;case"position":r=t.split(","),i.percent(e,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",Pn,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",Pn,"end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===xn.line&&(a=-1),t.line=a,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",Pn);var r=i.get("position","auto");"auto"===r&&50===xn.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}(e,t)}function ve(e){return e.replace(/<br(?: \/)?>/gi,"\n")}function Me(e,t,n,i){for(var a,r,s,o,d,l=[],u=window.VTTCue||TextTrackCue,c=0;c<i.rows.length;c++)if(a=i.rows[c],s=!0,o=0,d="",!a.isEmpty()){for(var h=0;h<a.chars.length;h++)a.chars[h].uchar.match(/\s/)&&s?o++:(d+=a.chars[h].uchar,s=!1);a.cueStartTime=t,t===n&&(n+=1e-4),r=new u(t,n,ve(d.trim())),o>=16?o--:o++,navigator.userAgent.match(/Firefox\//)?r.line=c+1:r.line=c>7?c-2:c+1,r.align="left",r.position=Math.max(0,Math.min(100,o/32*100)),l.push(r),e&&e.addCue(r)}return l}function Le(e,t,n){n.a=e,n.b=t}function Te(e,t,n){return n.a===e&&n.b===t}function be(){return{a:null,b:null}}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function De(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function we(e,t,n,i){return Math.min(t,i)-Math.max(e,n)}function Ee(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}}}function Ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xe(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),e}function Pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ae(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];"subtitles"===i.kind&&i.label&&t.push(e[n])}return t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oe(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),e}function He(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){Ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){We(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ve(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),e}function Ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t),n.d(t,"default",function(){return Mi});var Je={};n.r(Je),n.d(Je,"newCue",function(){return Me});var qe,Xe=n("./node_modules/url-toolkit/src/url-toolkit.js"),Qe=n("./src/errors.ts"),$e=n("./src/polyfills/number.js"),Ze=n("./src/events.js"),et=n("./src/utils/logger.js"),tt={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},nt=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(tt[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(t){et.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.OTHER_ERROR,details:Qe.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}(),it=nt;!function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(qe||(qe={}));var at;!function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(at||(at={}));var rt,st=n("./src/demux/mp4demuxer.js"),ot=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}return a(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(Xe.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}();!function(e){e.AUDIO="audio",e.VIDEO="video"}(rt||(rt={}));var dt,lt=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(e={},e[rt.AUDIO]=!1,e[rt.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t=e.prototype;return t.setByteRange=function(e,t){var n=e.split("@",2),i=[];1===n.length?i[0]=t?t.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i},t.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},t.setDecryptDataFromLevelKey=function(e,t){var n=e;return(null===e||void 0===e?void 0:e.method)&&e.uri&&!e.iv&&(n=new ot(e.baseuri,e.reluri),n.method=e.method,n.iv=this.createInitializationVector(t)),n},s(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(Xe.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&et.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object($e.isFiniteNumber)(this.programDateTime))return null;var e=Object($e.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),e}(),ut=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return d(e,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object($e.isFiniteNumber)(this.fragments[0].programDateTime))}}]),e}(),ct=/^(\d+)x(\d+)$/,ht=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,mt=function(){function e(t){"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)n[i]=parseInt(t.slice(2*i,2*i+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=ct.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(ht.lastIndex=0;null!==(t=ht.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[t[1]]=i}return n},e}(),ft=mt,_t={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},pt=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,gt=/#EXT-X-MEDIA:(.*)/g,yt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),vt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,Mt=/\.(mp4|m4s|m4v|m4a)$/i,Lt=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}},e.convertAVC1ToAVCOTI=function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return Xe.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var i=[],a={},r=!1;pt.lastIndex=0;for(var s;null!=(s=pt.exec(t));)if(s[1]){var o={},d=o.attrs=new ft(s[1]);o.url=e.resolve(s[2],n);var u=d.decimalResolution("RESOLUTION");u&&(o.width=u.width,o.height=u.height),o.bitrate=d.decimalInteger("AVERAGE-BANDWIDTH")||d.decimalInteger("BANDWIDTH"),o.name=d.NAME,function(e,t){["video","audio"].forEach(function(n){var i=e.filter(function(e){return l(e,n)});if(i.length){var a=i.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[n+"Codec"]=a.length>0?a[0]:i[0],e=e.filter(function(e){return-1===i.indexOf(e)})}}),t.unknownCodecs=e}([].concat((d.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=e.convertAVC1ToAVCOTI(o.videoCodec)),i.push(o)}else if(s[3]){var c=new ft(s[3]);c["DATA-ID"]&&(r=!0,a[c["DATA-ID"]]=c)}return{levels:i,sessionData:r?a:null}},e.parseMasterPlaylistMedia=function(t,n,i,a){void 0===a&&(a=[]);var r,s=[],o=0;for(gt.lastIndex=0;null!==(r=gt.exec(t));){var d=new ft(r[1]);if(d.TYPE===i){var l={attrs:d,id:o++,groupId:d["GROUP-ID"],instreamId:d["INSTREAM-ID"],name:d.NAME||d.LANGUAGE,type:i,default:"YES"===d.DEFAULT,autoselect:"YES"===d.AUTOSELECT,forced:"YES"===d.FORCED,lang:d.LANGUAGE};if(d.URI&&(l.url=e.resolve(d.URI,n)),a.length){var u=e.findGroup(a,l.groupId);l.audioCodec=u?u.codec:a[0].codec}s.push(l)}}return s},e.parseLevelPlaylist=function(e,t,n,i,a){var r,s,o,d=0,l=0,u=new ut(t),m=0,f=null,_=new lt,p=null;for(yt.lastIndex=0;null!==(r=yt.exec(e));){var g=r[1];if(g){_.duration=parseFloat(g);var y=(" "+r[2]).slice(1);_.title=y||null,_.tagList.push(y?["INF",g,y]:["INF",g])}else if(r[3]){if(Object($e.isFiniteNumber)(_.duration)){var v=d++;_.type=i,_.start=l,o&&(_.levelkey=o),_.sn=v,_.level=n,_.cc=m,_.urlId=a,_.baseurl=t,_.relurl=(" "+r[3]).slice(1),h(_,f),u.fragments.push(_),f=_,l+=_.duration,_=new lt}}else if(r[4]){var M=(" "+r[4]).slice(1);f?_.setByteRange(M,f):_.setByteRange(M)}else if(r[5])_.rawProgramDateTime=(" "+r[5]).slice(1),_.tagList.push(["PROGRAM-DATE-TIME",_.rawProgramDateTime]),null===p&&(p=u.fragments.length);else{if(!(r=r[0].match(vt))){et.logger.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<r.length&&void 0===r[s];s++);var L=(" "+r[s+1]).slice(1),T=(" "+r[s+2]).slice(1);switch(r[s]){case"#":_.tagList.push(T?[L,T]:[L]);break;case"PLAYLIST-TYPE":u.type=L.toUpperCase();break;case"MEDIA-SEQUENCE":d=u.startSN=parseInt(L);break;case"TARGETDURATION":u.targetduration=parseFloat(L);break;case"VERSION":u.version=parseInt(L);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":m++,_.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":m=parseInt(L);break;case"KEY":var b=L,k=new ft(b),S=k.enumeratedString("METHOD"),D=k.URI,w=k.hexadecimalInteger("IV"),E=k.KEYFORMAT||"identity";if("com.apple.streamingkeydelivery"===E){et.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}S&&(o=new ot(t,D),D&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(S)>=0&&(o.method=S,o.key=null,o.iv=w));break;case"START":var Y=new ft(L),x=Y.decimalFloatingPoint("TIME-OFFSET");Object($e.isFiniteNumber)(x)&&(u.startTimeOffset=x);break;case"MAP":var P=new ft(L);_.relurl=P.URI,P.BYTERANGE&&_.setByteRange(P.BYTERANGE),_.baseurl=t,_.level=n,_.type=i,_.sn="initSegment",u.initSegment=_,_=new lt,_.rawProgramDateTime=u.initSegment.rawProgramDateTime;break;default:et.logger.warn("line parsed but not handled: "+r)}}}return _=f,_&&!_.relurl&&(u.fragments.pop(),l-=_.duration),u.totalduration=l,u.averagetargetduration=l/u.fragments.length,u.endSN=d-1,u.startCC=u.fragments[0]?u.fragments[0].cc:0,u.endCC=m,!u.initSegment&&u.fragments.length&&u.fragments.every(function(e){return Mt.test(e.relurl)})&&(et.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),_=new lt,_.relurl=u.fragments[0].relurl,_.baseurl=t,_.level=n,_.type=i,_.sn="initSegment",u.initSegment=_,u.needSidxRanges=!0),p&&c(u.fragments,p),u},e}(),Tt=window,bt=Tt.performance,kt=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MANIFEST_LOADING,Ze.default.LEVEL_LOADING,Ze.default.AUDIO_TRACK_LOADING,Ze.default.SUBTITLE_TRACK_LOADING)||this,n.loaders={},n}m(t,e),t.canHaveQualityLevels=function(e){return e!==qe.AUDIO_TRACK&&e!==qe.SUBTITLE_TRACK},t.mapContextToLevelType=function(e){switch(e.type){case qe.AUDIO_TRACK:return at.AUDIO;case qe.SUBTITLE_TRACK:return at.SUBTITLE;default:return at.MAIN}},t.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n};var n=t.prototype;return n.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,i=t.loader,a=n||i,r=new a(t);return e.loader=r,this.loaders[e.type]=r,r},n.getInternalLoader=function(e){return this.loaders[e.type]},n.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},n.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},n.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},n.onManifestLoading=function(e){this.load({url:e.url,type:qe.MANIFEST,level:0,id:null,responseType:"text"})},n.onLevelLoading=function(e){this.load({url:e.url,type:qe.LEVEL,level:e.level,id:e.id,responseType:"text"})},n.onAudioTrackLoading=function(e){this.load({url:e.url,type:qe.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},n.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:qe.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},n.load=function(e){var t=this.hls.config;et.logger.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var n=this.getInternalLoader(e);if(n){var i=n.context;if(i&&i.url===e.url)return et.logger.trace("playlist request ongoing"),!1;et.logger.warn("aborting previous loader for type: "+e.type),n.abort()}var a,r,s,o;switch(e.type){case qe.MANIFEST:a=t.manifestLoadingMaxRetry,r=t.manifestLoadingTimeOut,s=t.manifestLoadingRetryDelay,o=t.manifestLoadingMaxRetryTimeout;break;case qe.LEVEL:a=0,o=0,s=0,r=t.levelLoadingTimeOut;break;default:a=t.levelLoadingMaxRetry,r=t.levelLoadingTimeOut,s=t.levelLoadingRetryDelay,o=t.levelLoadingMaxRetryTimeout}n=this.createInternalLoader(e);var d={timeout:r,maxRetry:a,retryDelay:s,maxRetryDelay:o},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return et.logger.debug("Calling internal loader delegate for URL: "+e.url),n.load(e,d,l),!0},n.loadsuccess=function(e,t,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,i);if(this.resetInternalLoader(n.type),"string"!=typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var a=e.data;if(t.tload=bt.now(),0!==a.indexOf("#EXTM3U"))return void this._handleManifestParsingError(e,n,"no EXTM3U delimiter",i);a.indexOf("#EXTINF:")>0||a.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,n,i):this._handleMasterPlaylist(e,t,n,i)},n.loaderror=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!1,e)},n.loadtimeout=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!0)},n._handleMasterPlaylist=function(e,n,i,a){var r=this.hls,s=e.data,o=t.getResponseUrl(e,i),d=Lt.parseMasterPlaylist(s,o),l=d.levels,u=d.sessionData;if(!l.length)return void this._handleManifestParsingError(e,i,"no level found in manifest",a);var c=l.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),h=Lt.parseMasterPlaylistMedia(s,o,"AUDIO",c),m=Lt.parseMasterPlaylistMedia(s,o,"SUBTITLES"),f=Lt.parseMasterPlaylistMedia(s,o,"CLOSED-CAPTIONS");if(h.length){var _=!1;h.forEach(function(e){e.url||(_=!0)}),!1===_&&l[0].audioCodec&&!l[0].attrs.AUDIO&&(et.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}r.trigger(Ze.default.MANIFEST_LOADED,{levels:l,audioTracks:h,subtitles:m,captions:f,url:o,stats:n,networkDetails:a,sessionData:u})},n._handleTrackOrLevelPlaylist=function(e,n,i,a){var r=this.hls,s=i.id,o=i.level,d=i.type,l=t.getResponseUrl(e,i),u=Object($e.isFiniteNumber)(s)?s:0,c=Object($e.isFiniteNumber)(o)?o:u,h=t.mapContextToLevelType(i),m=Lt.parseLevelPlaylist(e.data,l,c,h,u);if(m.tload=n.tload,!m.fragments.length)return void r.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:l,reason:"no fragments found in level",level:"number"==typeof i.level?i.level:void 0});if(d===qe.MANIFEST){var f={url:l,details:m};r.trigger(Ze.default.MANIFEST_LOADED,{levels:[f],audioTracks:[],url:l,stats:n,networkDetails:a,sessionData:null})}if(n.tparsed=bt.now(),m.needSidxRanges){var _=m.initSegment.url;return void this.load({url:_,isSidxRequest:!0,type:d,level:o,levelDetails:m,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}i.levelDetails=m,this._handlePlaylistLoaded(e,n,i,a)},n._handleSidxRequest=function(e,t){if("string"==typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var n=st.default.parseSegmentIndex(new Uint8Array(e.data));if(n){var i=n.references,a=t.levelDetails;i.forEach(function(e,t){var n=e.info;if(a){var i=a.fragments[t];0===i.byteRange.length&&i.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),a&&a.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},n._handleManifestParsingError=function(e,t,n,i){this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:i})},n._handleNetworkError=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=null),et.logger.info("A network error occured while loading a "+e.type+"-type playlist");var a,r,s=this.getInternalLoader(e);switch(e.type){case qe.MANIFEST:a=n?Qe.ErrorDetails.MANIFEST_LOAD_TIMEOUT:Qe.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case qe.LEVEL:a=n?Qe.ErrorDetails.LEVEL_LOAD_TIMEOUT:Qe.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case qe.AUDIO_TRACK:a=n?Qe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:Qe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1;break;default:r=!1}s&&(s.abort(),this.resetInternalLoader(e.type));var o={type:Qe.ErrorTypes.NETWORK_ERROR,details:a,fatal:r,url:e.url,loader:s,context:e,networkDetails:t};i&&(o.response=i),this.hls.trigger(Ze.default.ERROR,o)},n._handlePlaylistLoaded=function(e,n,i,a){var r=i.type,s=i.level,o=i.id,d=i.levelDetails;if(!d||!d.targetduration)return void this._handleManifestParsingError(e,i,"invalid target duration",a);if(t.canHaveQualityLevels(i.type))this.hls.trigger(Ze.default.LEVEL_LOADED,{details:d,level:s||0,id:o||0,stats:n,networkDetails:a});else switch(r){case qe.AUDIO_TRACK:this.hls.trigger(Ze.default.AUDIO_TRACK_LOADED,{details:d,id:o,stats:n,networkDetails:a});break;case qe.SUBTITLE_TRACK:this.hls.trigger(Ze.default.SUBTITLE_TRACK_LOADED,{details:d,id:o,stats:n,networkDetails:a})}},t}(it),St=kt,Dt=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.FRAG_LOADING)||this,n.loaders={},n}f(t,e);var n=t.prototype;return n.destroy=function(){var t=this.loaders;for(var n in t){var i=t[n];i&&i.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.onFragLoading=function(e){var t=e.frag,n=t.type,i=this.loaders,a=this.hls.config,r=a.fLoader,s=a.loader;t.loaded=0;var o=i[n];o&&(et.logger.warn("abort previous fragment loader for type: "+n),o.abort()),o=i[n]=t.loader=a.fLoader?new r(a):new s(a);var d,l,u;d={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var c=t.byteRangeStartOffset,h=t.byteRangeEndOffset;Object($e.isFiniteNumber)(c)&&Object($e.isFiniteNumber)(h)&&(d.rangeStart=c,d.rangeEnd=h),l={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},o.load(d,l,u)},n.loadsuccess=function(e,t,n,i){void 0===i&&(i=null);var a=e.data,r=n.frag;r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(Ze.default.FRAG_LOADED,{payload:a,frag:r,stats:t,networkDetails:i})},n.loaderror=function(e,t,n){void 0===n&&(n=null);var i=t.frag,a=i.loader;a&&a.abort(),this.loaders[i.type]=void 0,this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.loadtimeout=function(e,t,n){void 0===n&&(n=null);var i=t.frag,a=i.loader;a&&a.abort(),this.loaders[i.type]=void 0,this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.loadprogress=function(e,t,n,i){void 0===i&&(i=null);var a=t.frag;a.loaded=e.loaded,this.hls.trigger(Ze.default.FRAG_LOAD_PROGRESS,{frag:a,stats:e,networkDetails:i})},t}(it),wt=Dt,Et=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.KEY_LOADING)||this,n.loaders={},n.decryptkey=null,n.decrypturl=null,n}_(t,e);var n=t.prototype;return n.destroy=function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.onKeyLoading=function(e){var t=e.frag,n=t.type,i=this.loaders[n];if(!t.decryptdata)return void et.logger.warn("Missing decryption data on fragment in onKeyLoading");var a=t.decryptdata.uri;if(a!==this.decrypturl||null===this.decryptkey){var r=this.hls.config;if(i&&(et.logger.warn("abort previous key loader for type:"+n),i.abort()),!a)return void et.logger.warn("key uri is falsy");t.loader=this.loaders[n]=new r.loader(r),this.decrypturl=a,this.decryptkey=null;var s={url:a,frag:t,responseType:"arraybuffer"},o={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:r.fragLoadingRetryDelay,maxRetryDelay:r.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(s,o,d)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(Ze.default.KEY_LOADED,{frag:t}))},n.loadsuccess=function(e,t,n){var i=n.frag;if(!i.decryptdata)return void et.logger.error("after key load, decryptdata unset");this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,delete this.loaders[i.type],this.hls.trigger(Ze.default.KEY_LOADED,{frag:i})},n.loaderror=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},n.loadtimeout=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.NETWORK_ERROR,details:Qe.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(it),Yt=Et,xt={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},Pt=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.BUFFER_APPENDED,Ze.default.FRAG_BUFFERED,Ze.default.FRAG_LOADED)||this,n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=t.config,n}p(t,e);var n=t.prototype;return n.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,it.prototype.destroy.call(this),e.prototype.destroy.call(this)},n.getBufferedFrag=function(e,t){var n=this.fragments,i=Object.keys(n).filter(function(i){var a=n[i];if(a.body.type!==t)return!1;if(!a.buffered)return!1;var r=a.body;return r.startPTS<=e&&e<=r.endPTS});if(0===i.length)return null;var a=i.pop();return n[a].body},n.detectEvictedFragments=function(e,t){var n=this;Object.keys(this.fragments).forEach(function(i){var a=n.fragments[i];if(a&&a.buffered){var r=a.range[e];if(r)for(var s=r.time,o=0;o<s.length;o++){var d=s[o];if(!n.isTimeBuffered(d.startPTS,d.endPTS,t)){n.removeFragment(a.body);break}}}})},n.detectPartialFragments=function(e){var t=this,n=this.getFragmentKey(e),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(n){if(e.hasElementaryStream(n)){var a=t.timeRanges[n];i.range[n]=t.getBufferedTimes(e.startPTS,e.endPTS,a)}}))},n.getBufferedTimes=function(e,t,n){for(var i,a,r=[],s=!1,o=0;o<n.length;o++){if(i=n.start(o)-this.bufferPadding,a=n.end(o)+this.bufferPadding,e>=i&&t<=a){r.push({startPTS:Math.max(e,n.start(o)),endPTS:Math.min(t,n.end(o))});break}if(e<a&&t>i)r.push({startPTS:Math.max(e,n.start(o)),endPTS:Math.min(t,n.end(o))}),s=!0;else if(t<=i)break}return{time:r,partial:s}},n.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},n.getPartialFragment=function(e){var t,n,i,a=this,r=null,s=0;return Object.keys(this.fragments).forEach(function(o){var d=a.fragments[o];a.isPartial(d)&&(n=d.body.startPTS-a.bufferPadding,i=d.body.endPTS+a.bufferPadding,e>=n&&e<=i&&(t=Math.min(e-n,i-e),s<=t&&(r=d.body,s=t)))}),r},n.getState=function(e){var t=this.getFragmentKey(e),n=this.fragments[t],i=xt.NOT_LOADED;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?xt.PARTIAL:xt.OK:xt.APPENDING),i},n.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},n.isTimeBuffered=function(e,t,n){for(var i,a,r=0;r<n.length;r++){if(i=n.start(r)-this.bufferPadding,a=n.end(r)+this.bufferPadding,e>=i&&t<=a)return!0;if(t<=i)return!1}return!1},n.onFragLoaded=function(e){var t=e.frag;Object($e.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},n.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var n=t.timeRanges[e];t.detectEvictedFragments(e,n)})},n.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},n.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},n.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},n.removeAllFragments=function(){this.fragments=Object.create(null)},t}(it),At={search:function(e,t){for(var n=0,i=e.length-1,a=null,r=null;n<=i;){a=(n+i)/2|0,r=e[a];var s=t(r);if(s>0)n=a+1;else{if(!(s<0))return r;i=a-1}}return null}},jt=At,Ct=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,i=0;i<n.length;i++)if(t>=n.start(i)&&t<=n.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,n){try{if(e){var i,a=e.buffered,r=[];for(i=0;i<a.length;i++)r.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(r,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end});var i=[];if(n)for(var a=0;a<e.length;a++){var r=i.length;if(r){var s=i[r-1].end;e[a].start-s<n?e[a].end>s&&(i[r-1].end=e[a].end):i.push(e[a])}else i.push(e[a])}else i=e;for(var o,d=0,l=t,u=t,c=0;c<i.length;c++){var h=i[c].start,m=i[c].end;if(t+n>=h&&t<m)l=h,u=m,d=u-t;else if(t+n<h){o=h;break}}return{len:d,start:l,end:u,nextStart:o}},e}(),Rt=n("./node_modules/eventemitter3/index.js"),Ot=n("./node_modules/webworkify-webpack/index.js"),Ht=n("./src/demux/demuxer-inline.js"),It=n("./src/utils/get-self-scope.js"),Ft=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.emit.apply(this,[e,e].concat(n))},t}(Rt.EventEmitter),Nt=Object(It.getSelfScope)(),Ut=g()||{isTypeSupported:function(){return!1}},Bt=function(){function e(e,t){var n=this;this.hls=e,this.id=t;var i=this.observer=new Ft,a=e.config,r=function(t,i){i=i||{},i.frag=n.frag,i.id=n.id,e.trigger(t,i)};i.on(Ze.default.FRAG_DECRYPTED,r),i.on(Ze.default.FRAG_PARSING_INIT_SEGMENT,r),i.on(Ze.default.FRAG_PARSING_DATA,r),i.on(Ze.default.FRAG_PARSED,r),i.on(Ze.default.ERROR,r),i.on(Ze.default.FRAG_PARSING_METADATA,r),i.on(Ze.default.FRAG_PARSING_USERDATA,r),i.on(Ze.default.INIT_PTS_FOUND,r);var s={mp4:Ut.isTypeSupported("video/mp4"),mpeg:Ut.isTypeSupported("audio/mpeg"),mp3:Ut.isTypeSupported('audio/mp4; codecs="mp3"')},o=navigator.vendor;if(a.enableWorker&&"undefined"!=typeof Worker){et.logger.log("demuxing in webworker");var d;try{d=this.w=Ot("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(t){e.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.OTHER_ERROR,details:Qe.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:s,vendor:o,id:t,config:JSON.stringify(a)})}catch(e){et.logger.warn("Error in worker:",e),et.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&Nt.URL.revokeObjectURL(d.objectURL),this.demuxer=new Ht.default(i,s,a,o),this.w=void 0}}else this.demuxer=new Ht.default(i,s,a,o)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.push=function(e,t,n,i,a,r,s,o){var d=this.w,l=Object($e.isFiniteNumber)(a.startPTS)?a.startPTS:a.start,u=a.decryptdata,c=this.frag,h=!(c&&a.cc===c.cc),m=!(c&&a.level===c.level),f=c&&a.sn===c.sn+1,_=!m&&f;if(h&&et.logger.log(this.id+":discontinuity detected"),m&&et.logger.log(this.id+":switch detected"),this.frag=a,d)d.postMessage({cmd:"demux",data:e,decryptdata:u,initSegment:t,audioCodec:n,videoCodec:i,timeOffset:l,discontinuity:h,trackSwitch:m,contiguous:_,duration:r,accurateTimeOffset:s,defaultInitPTS:o},e instanceof ArrayBuffer?[e]:[]);else{var p=this.demuxer;p&&p.push(e,u,t,n,i,l,h,m,_,r,s,o)}},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":Nt.URL.revokeObjectURL(this.w.objectURL);break;case Ze.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},e}(),Wt=Bt,Gt={toString:function(e){for(var t="",n=e.length,i=0;i<n;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}},zt=Gt,Vt=function(){function e(e,t,n,i){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=i,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,n=this.media,i=this.stalled,a=n.currentTime,r=n.seeking,s=this.seeking&&!r,o=!this.seeking&&r;if(this.seeking=r,a===e){if((o||s)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var d=Ct.bufferInfo(n,a,0),l=d.len>0,u=d.nextStart||0;if(l||u){if(r){var c=d.len>2,h=!u||u-a>2&&!this.fragmentTracker.getPartialFragment(a);if(c||h)return;this.moved=!1}if(!this.moved&&this.stalled){var m=Math.max(u,d.start||0)-a;if(m>0&&m<=2)return void this._trySkipBufferHole(null)}var f=self.performance.now();if(null===i)return void(this.stalled=f);var _=f-i;!r&&_>=250&&this._reportStall(d.len);var p=Ct.bufferInfo(n,a,t.maxBufferHole);this._tryFixBufferStall(p,_)}}}else if(this.moved=!0,null!==i){if(this.stallReported){var g=self.performance.now()-i;et.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(g)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,i=this.fragmentTracker,a=this.media,r=a.currentTime,s=i.getPartialFragment(r);if(s){if(this._trySkipBufferHole(s))return}e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(et.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,et.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,i=this.media,a=i.currentTime,r=0,s=0;s<i.buffered.length;s++){var o=i.buffered.start(s);if(a+t.maxBufferHole>=r&&a<o){var d=Math.max(o+.05,i.currentTime+.1);return et.logger.warn("skipping hole, adjusting currentTime from "+a+" to "+d),this.moved=!0,this.stalled=null,i.currentTime=d,e&&n.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+a+" to "+d,frag:e}),d}r=i.buffered.end(s)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,i=n.currentTime,a=(this.nudgeRetry||0)+1;if(this.nudgeRetry=a,a<e.nudgeMaxRetry){var r=i+a*e.nudgeOffset;et.logger.warn("Nudging 'currentTime' from "+i+" to "+r),n.currentTime=r,t.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else et.logger.error("Playhead still not moving while enough data buffered @"+i+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}(),Kt=function(e){function t(t){for(var n,i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return n=e.call.apply(e,[this,t].concat(a))||this,n._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(F(n)),n}N(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},n.hasInterval=function(){return!!this._tickInterval},n.hasNextTick=function(){return!!this._tickTimer},n.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},n.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},n.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},n.tick=function(){1===++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},n.doTick=function(){},t}(it),Jt={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},qt=function(e){function t(){return e.apply(this,arguments)||this}U(t,e);var n=t.prototype;return n.doTick=function(){},n.startLoad=function(){},n.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Jt.STOPPED},n._streamEnded=function(e,t){var n=this.fragCurrent,i=this.fragmentTracker;if(!t.live&&n&&!n.backtracked&&n.sn===t.endSN&&!e.nextStart){var a=i.getState(n);return a===xt.PARTIAL||a===xt.OK}return!1},n.onMediaSeeking=function(){var e=this.config,t=this.media,n=this.mediaBuffer,i=this.state,a=t?t.currentTime:null,r=Ct.bufferInfo(n||t,a,this.config.maxBufferHole);if(et.logger.log("media seeking to "+(Object($e.isFiniteNumber)(a)?a.toFixed(3):a)),i===Jt.FRAG_LOADING){var s=this.fragCurrent;if(0===r.len&&s){var o=e.maxFragLookUpTolerance,d=s.start-o,l=s.start+s.duration+o;a<d||a>l?(s.loader&&(et.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),s.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Jt.IDLE):et.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else i===Jt.ENDED&&(0===r.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Jt.IDLE);t&&(this.lastCurrentTime=a),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=a),this.tick()},n.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},n.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},n.onHandlerDestroyed=function(){this.state=Jt.STOPPED,this.fragmentTracker=null},n.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},t}(Kt),Xt=function(e){function t(t,n){var i;return i=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHING,Ze.default.MANIFEST_LOADING,Ze.default.MANIFEST_PARSED,Ze.default.LEVEL_LOADED,Ze.default.LEVELS_UPDATED,Ze.default.KEY_LOADED,Ze.default.FRAG_LOADED,Ze.default.FRAG_LOAD_EMERGENCY_ABORTED,Ze.default.FRAG_PARSING_INIT_SEGMENT,Ze.default.FRAG_PARSING_DATA,Ze.default.FRAG_PARSED,Ze.default.ERROR,Ze.default.AUDIO_TRACK_SWITCHING,Ze.default.AUDIO_TRACK_SWITCHED,Ze.default.BUFFER_CREATED,Ze.default.BUFFER_APPENDED,Ze.default.BUFFER_FLUSHED)||this,i.fragmentTracker=n,i.config=t.config,i.audioCodecSwap=!1,i._state=Jt.STOPPED,i.stallReported=!1,i.gapController=null,i.altAudio=!1,i.audioOnly=!1,i.bitrateTest=!1,i}G(t,e);var n=t.prototype;return n.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(n.config.testBandwidth?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(et.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=Jt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=Jt.STOPPED},n.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.doTick=function(){switch(this.state){case Jt.BUFFER_FLUSHING:this.fragLoadError=0;break;case Jt.IDLE:this._doTickIdle();break;case Jt.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=Jt.IDLE);break;case Jt.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(et.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Jt.IDLE);break;case Jt.ERROR:case Jt.STOPPED:case Jt.FRAG_LOADING:case Jt.PARSING:case Jt.PARSED:case Jt.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},n._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){if(this.altAudio&&this.audioOnly)return void(this.demuxer.frag=null);var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,r=this.levels[a];if(r){var s,o=r.bitrate;s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var d=i<t.maxBufferHole?Math.max(2,t.maxBufferHole):t.maxBufferHole,l=Ct.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,d),u=l.len;if(!(u>=s)){et.logger.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=a;var c=r.details;if(!c||c.live&&this.levelLastLoaded!==a)return void(this.state=Jt.WAITING_LEVEL);if(this._streamEnded(l,c)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(Ze.default.BUFFER_EOS,h),void(this.state=Jt.ENDED)}this._fetchPayloadOrEos(i,l,c)}}}},n._fetchPayloadOrEos=function(e,t,n){var i=this.fragPrevious,a=(this.level,n.fragments),r=a.length;if(0!==r){var s,o=a[0].start,d=a[r-1].start+a[r-1].duration,l=t.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var u=this.config.initialLiveManifestSize;if(r<u)return void et.logger.warn("Can not start playback of a level, reason: not enough fragments "+r+" < "+u);if(null===(s=this._ensureFragmentAtLivePoint(n,l,o,d,i,a)))return}else l<o&&(s=a[0]);s||(s=this._findFragment(o,i,r,a,l,d,n)),s&&(s.encrypted?this._loadKey(s,n):this._loadFragment(s,n,e,l))}},n._ensureFragmentAtLivePoint=function(e,t,n,i,a,r){var s,o=this.hls.config,d=this.media,l=1/0;if(void 0!==o.liveMaxLatencyDuration?l=o.liveMaxLatencyDuration:Object($e.isFiniteNumber)(o.liveMaxLatencyDurationCount)&&(l=o.liveMaxLatencyDurationCount*e.targetduration),t<Math.max(n-o.maxFragLookUpTolerance,i-l)){var u=this.liveSyncPosition=this.computeLivePosition(n,e);t=u,d&&!d.paused&&d.readyState&&d.duration>u&&u>d.currentTime&&(et.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+u.toFixed(3)),d.currentTime=u),this.nextLoadPosition=u}if(e.PTSKnown&&t>i&&d&&d.readyState)return null;if(this.startFragRequested&&!e.PTSKnown&&a)if(e.hasProgramDateTime)et.logger.log("live playlist, switching playlist, load frag with same PDT: "+a.programDateTime),s=R(r,a.endProgramDateTime,o.maxFragLookUpTolerance);else{var c=a.sn+1;if(c>=e.startSN&&c<=e.endSN){var h=r[c-e.startSN];a.cc===h.cc&&(s=h,et.logger.log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=jt.search(r,function(e){return a.cc-e.cc}))&&et.logger.log("live playlist, switching playlist, load frag with same CC: "+s.sn)}return s},n._findFragment=function(e,t,n,i,a,r,s){var o,d=this.hls.config;if(a<r){o=O(t,i,a,a>r-d.maxFragLookUpTolerance?0:d.maxFragLookUpTolerance)}else o=i[n-1];if(o){var l=o.sn-s.startSN,u=t&&o.level===t.level,c=i[l-1],h=i[l+1];if(t&&o.sn===t.sn)if(u&&!o.backtracked)if(o.sn<s.endSN){var m=t.deltaPTS;m&&m>d.maxBufferHole&&t.dropped&&l?(o=c,et.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(o=h,this.fragmentTracker.getState(o)!==xt.OK&&et.logger.log("Re-loading fragment with SN: "+o.sn))}else o=null;else o.backtracked&&(h&&h.backtracked?(et.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+o.sn+". Loading fragment "+h.sn),o=h):(et.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),o.dropped=0,c?(o=c,o.backtracked=!0):l&&(o=null)))}return o},n._loadKey=function(e,t){et.logger.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level),this.state=Jt.KEY_LOADING,this.hls.trigger(Ze.default.KEY_LOADING,{frag:e})},n._loadFragment=function(e,t,n,i){var a=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object($e.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||a===xt.NOT_LOADED||a===xt.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,et.logger.log("Loading "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(n.toFixed(3))+", bufferEnd: "+parseFloat(i.toFixed(3))),this.hls.trigger(Ze.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new Wt(this.hls,"main")),this.state=Jt.FRAG_LOADING):a===xt.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},n.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,at.MAIN)},n.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},n._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>this.lastCurrentTime&&(this.lastCurrentTime=t),Ct.isBuffered(n,t)?e=this.getBufferedFrag(t):Ct.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(Ze.default.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(Ze.default.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}},n.immediateLevelSwitch=function(){if(et.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused)||t.pause():e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},n.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,e.currentTime>0&&Ct.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},n.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,n=this.getBufferedFrag(e.currentTime);if(n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],r=this.fragLastKbps;t=r&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*r)+1:0}var s=this.getBufferedFrag(e.currentTime+t);if(s){var o=this.followingBufferedFrag(s);if(o){var d=this.fragCurrent;d&&d.loader&&d.loader.abort(),this.fragCurrent=null;var l=Math.max(s.endPTS,o.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,o.duration));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}},n.flushMainBuffer=function(e,t){this.state=Jt.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(Ze.default.BUFFER_FLUSHING,n)},n.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new Vt(n,t,this.fragmentTracker,this.hls)},n.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(et.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object($e.isFiniteNumber)(t)&&et.logger.log("media seeked to "+t.toFixed(3)),this.tick()},n.onManifestLoading=function(){et.logger.log("trigger BUFFER_RESET"),this.hls.trigger(Ze.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.onManifestParsed=function(e){var t,n=!1,i=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&et.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},n.onLevelLoaded=function(e){var t=e.details,n=e.level,i=this.levels[this.levelLastLoaded],a=this.levels[n],r=t.totalduration,s=0;if(et.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live||a.details&&a.details.live){var o=a.details;o&&t.fragments.length>0?(T(o,t),s=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,o),t.PTSKnown&&Object($e.isFiniteNumber)(s)?et.logger.log("live playlist sliding:"+s.toFixed(3)):(et.logger.log("live playlist - outdated PTS, unknown sliding"),A(this.fragPrevious,i,t))):(et.logger.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,A(this.fragPrevious,i,t))}else t.PTSKnown=!1;if(a.details=t,this.levelLastLoaded=n,this.hls.trigger(Ze.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=t.startTimeOffset;Object($e.isFiniteNumber)(d)?(d<0&&(et.logger.log("negative start time offset "+d+", count from end of last fragment"),d=s+r+d),et.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):t.live?(this.startPosition=this.computeLivePosition(s,t),et.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Jt.WAITING_LEVEL&&(this.state=Jt.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===Jt.KEY_LOADING&&(this.state=Jt.IDLE,this.tick())},n.onFragLoaded=function(e){var t=this.fragCurrent,n=this.hls,i=this.levels,a=this.media,r=e.frag;if(this.state===Jt.FRAG_LOADING&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var s=e.stats,o=i[t.level],d=o.details;if(this.bitrateTest=!1,this.stats=s,et.logger.log("Loaded "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level),r.bitrateTest&&n.nextLoadLevel)this.state=Jt.IDLE,this.startFragRequested=!1,s.tparsed=s.tbuffered=window.performance.now(),n.trigger(Ze.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=Jt.IDLE,s.tparsed=s.tbuffered=window.performance.now(),d.initSegment.data=e.payload,n.trigger(Ze.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else{et.logger.log("Parsing "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level+", cc "+t.cc),this.state=Jt.PARSING,this.pendingBuffering=!0,this.appended=!1,r.bitrateTest&&(r.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:r}));var l=!(a&&a.seeking)&&(d.PTSKnown||!d.live),u=d.initSegment?d.initSegment.data:[],c=this._getAudioCodec(o),h=this.demuxer=this.demuxer||new Wt(this.hls,"main");h.push(e.payload,u,c,o.videoCodec,t,d.totalduration,l)}}this.fragLoadError=0},n.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Jt.PARSING){var i,a,r=e.tracks;if(this.audioOnly=r.audio&&!r.video,this.altAudio&&!this.audioOnly&&delete r.audio,a=r.audio){var s=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(et.logger.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===o.indexOf("firefox")&&(s="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==a.container&&(s="mp4a.40.2",et.logger.log("Android: force audio codec to "+s)),a.levelCodec=s,a.id=e.id}a=r.video,a&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(Ze.default.BUFFER_CODECS,r);for(i in r){a=r[i],et.logger.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var d=a.initSegment;d&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ze.default.BUFFER_APPENDING,{type:i,data:d,parent:"main",content:"initSegment"}))}this.tick()}},n.onFragParsingData=function(e){var t=this,n=this.fragCurrent,i=e.frag;if(n&&"main"===e.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===Jt.PARSING){var a=this.levels[this.level],r=n;if(Object($e.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),!0===e.hasAudio&&r.addElementaryStream(rt.AUDIO),!0===e.hasVideo&&r.addElementaryStream(rt.VIDEO),et.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped)if(r.backtracked)et.logger.warn("Already backtracked on this fragment, appending with the gap",r.sn);else{var s=a.details;if(!s||r.sn!==s.startSN)return et.logger.warn("missing video frame(s), backtracking fragment",r.sn),this.fragmentTracker.removeFragment(r),r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=Jt.IDLE,this.fragPrevious=r,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();et.logger.warn("missing video frame(s) on first frag, appending with gap",r.sn)}else r.backtracked=!1;var o=L(a.details,r,e.startPTS,e.endPTS,e.startDTS,e.endDTS),d=this.hls;d.trigger(Ze.default.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(n){n&&n.length&&t.state===Jt.PARSING&&(t.appended=!0,t.pendingBuffering=!0,d.trigger(Ze.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.tick()}},n.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Jt.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=Jt.PARSED,this._checkAppendedParsed())},n.onAudioTrackSwitching=function(e){var t=this.altAudio,n=!!e.url,i=e.id;if(!n){if(this.mediaBuffer!==this.media){et.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;a.loader&&(et.logger.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Jt.IDLE}var r=this.hls;t&&r.trigger(Ze.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(Ze.default.AUDIO_TRACK_SWITCHED,{id:i})}},n.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(et.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},n.onBufferCreated=function(e){var t,n,i=e.tracks,a=!1;for(var r in i){var s=i[r];"main"===s.id?(n=r,t=s,"video"===r&&(this.videoBuffer=i[r].buffer)):a=!0}a&&t?(et.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},n.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==Jt.PARSING&&t!==Jt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(!(this.state!==Jt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;et.logger.log("main buffered : "+zt.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(Ze.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=Jt.IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},n.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=!!this.media&&Ct.isBuffered(this.media,this.media.currentTime)&&Ct.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case Qe.ErrorDetails.FRAG_LOAD_ERROR:case Qe.ErrorDetails.FRAG_LOAD_TIMEOUT:case Qe.ErrorDetails.KEY_LOAD_ERROR:case Qe.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);et.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Jt.FRAG_LOADING_WAITING_RETRY}else et.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Jt.ERROR;break;case Qe.ErrorDetails.LEVEL_LOAD_ERROR:case Qe.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Jt.ERROR&&(e.fatal?(this.state=Jt.ERROR,et.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==Jt.WAITING_LEVEL||(this.state=Jt.IDLE));break;case Qe.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==Jt.PARSING&&this.state!==Jt.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Jt.IDLE):(et.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},n._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,et.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},n._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=this.mediaBuffer?this.mediaBuffer:e,n=t.buffered;!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,n)}},n.onFragLoadEmergencyAborted=function(){this.state=Jt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;if(e){var t=this.audioOnly?rt.AUDIO:rt.VIDEO;this.fragmentTracker.detectEvictedFragments(t,e.buffered)}this.state=Jt.IDLE,this.fragPrevious=null},n.onLevelsUpdated=function(e){this.levels=e.levels},n.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(t!==n&&n>=0){if(e.seeking)return void et.logger.log("could not seek to "+n+", already seeking at "+t);var i=e.buffered.length?e.buffered.start(0):0,a=i-n;a>0&&a<this.config.maxBufferHole&&(et.logger.log("adjusting start position by "+a+" to match buffer start"),n+=a,this.startPosition=n),et.logger.log("seek to target start position "+n+" from current time "+t+". ready state "+e.readyState),e.currentTime=n}},n._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(et.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},W(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,et.logger.log("main stream-controller: "+t+"->"+e),this.hls.trigger(Ze.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(qt),Qt=Xt,$t=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MANIFEST_LOADED,Ze.default.LEVEL_LOADED,Ze.default.AUDIO_TRACK_SWITCHED,Ze.default.FRAG_LOADED,Ze.default.ERROR)||this,n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,dt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}K(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},n.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},n.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},n.stopLoad=function(){this.canload=!1},n.onManifestLoaded=function(e){var t,n=[],i=[],a={},r=null,s=!1,o=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,s=s||!!e.videoCodec,o=o||!!e.audioCodec,dt&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),r=a[e.bitrate],r?r.url.push(e.url):(e.url=[e.url],e.urlId=0,a[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&v(r||e,"audio",t.AUDIO),t.SUBTITLES&&v(r||e,"text",t.SUBTITLES))}),s&&o&&(n=n.filter(function(e){return!!e.videoCodec})),n=n.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||u(t,"audio"))&&(!n||u(n,"video"))}),e.audioTracks&&(i=e.audioTracks.filter(function(e){return!e.audioCodec||u(e.audioCodec,"audio")}),i.forEach(function(e,t){e.id=t})),n.length>0){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===t){this._firstLevel=d,et.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}var l=o&&!s;this.hls.trigger(Ze.default.MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:s,altAudio:!l&&i.some(function(e){return!!e.url})})}else this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},n.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){et.logger.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,n.trigger(Ze.default.LEVEL_SWITCHING,i)}var a=t[e],r=a.details;if(!r||r.live){var s=a.urlId;n.trigger(Ze.default.LEVEL_LOADING,{url:a.url[s],level:e,id:s})}}else n.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.OTHER_ERROR,details:Qe.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},n.onError=function(e){if(e.fatal)return void(e.type===Qe.ErrorTypes.NETWORK_ERROR&&this.clearTimer());var t,n=!1,i=!1;switch(e.details){case Qe.ErrorDetails.FRAG_LOAD_ERROR:case Qe.ErrorDetails.FRAG_LOAD_TIMEOUT:case Qe.ErrorDetails.KEY_LOAD_ERROR:case Qe.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,i=!0;break;case Qe.ErrorDetails.LEVEL_LOAD_ERROR:case Qe.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case Qe.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,n=!0}void 0!==t&&this.recoverLevel(e,t,n,i)},n.recoverLevel=function(e,t,n,i){var a,r,s,o=this,d=this.hls.config,l=e.details,u=this._levels[t];if(u.loadError++,u.fragmentError=i,n){if(!(this.levelRetryCount+1<=d.levelLoadingMaxRetry))return et.logger.error("level controller, cannot recover from "+l+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);r=Math.min(Math.pow(2,this.levelRetryCount)*d.levelLoadingRetryDelay,d.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return o.loadLevel()},r),e.levelRetry=!0,this.levelRetryCount++,et.logger.warn("level controller, "+l+", retry in "+r+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&(a=u.url.length,a>1&&u.loadError<a?(u.urlId=(u.urlId+1)%a,u.details=void 0,et.logger.warn("level controller, "+l+" for level "+t+": switching to redundant URL-id "+u.urlId)):-1===this.manualLevelIndex?(s=0===t?this._levels.length-1:t-1,et.logger.warn("level controller, "+l+": switch to "+s),this.hls.nextAutoLevel=this.currentLevelIndex=s):i&&(et.logger.warn("level controller, "+l+": reload a fragment"),this.currentLevelIndex=null))},n.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},n.onLevelLoaded=function(e){var t=this,n=e.level,i=e.details;if(n===this.currentLevelIndex){var a=this._levels[n];if(a.fragmentError||(a.loadError=0,this.levelRetryCount=0),i.live){var r=D(a.details,i,e.stats.trequest);et.logger.log("live playlist, reload in "+Math.round(r)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},r)}else this.clearTimer()}},n.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===t){i=a;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},n.loadLevel=function(){if(et.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,n=e.urlId,i=e.url[n];et.logger.log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(Ze.default.LEVEL_LOADING,{url:i,level:t,id:n})}}},n.removeLevel=function(e,t){var n=this.levels.filter(function(n,i){return i!==e||n.url.length>1&&void 0!==t&&(n.url=n.url.filter(function(e,n){return n!==t}),n.urlId=0,!0)}).map(function(e,t){var n=e.details;return n&&n.fragments&&n.fragments.forEach(function(e){e.level=t}),e});this._levels=n,this.hls.trigger(Ze.default.LEVELS_UPDATED,{levels:n})},V(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(it),Zt=n("./src/demux/id3.js"),en=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHING,Ze.default.FRAG_PARSING_METADATA,Ze.default.LIVE_BACK_BUFFER_REACHED)||this,n.id3Track=void 0,n.media=void 0,n}Q(t,e);var n=t.prototype;return n.destroy=function(){it.prototype.destroy.call(this)},n.onMediaAttached=function(e){this.media=e.media,this.media},n.onMediaDetaching=function(){q(this.id3Track),this.id3Track=void 0,this.media=void 0},n.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return J(n,this.media),n}return this.media.addTextTrack("metadata","id3")},n.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<n.length;a++){var r=Zt.default.getID3Frames(n[a].data);if(r){var s=Math.max(n[a].pts,0),o=a<n.length-1?n[a+1].pts:t.endPTS;o||(o=t.start+t.duration);o-s<=0&&(o=s+.25);for(var d=0;d<r.length;d++){var l=r[d];if(!Zt.default.isTimeStampFrame(l)){var u=new i(s,o,"");u.value=l,this.id3Track.addCue(u)}}}}},n.onLiveBackBufferReached=function(e){var t=e.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var i=X(n.cues,t);if(i)for(;n.cues[0]!==i;)n.removeCue(n.cues[0])}},t}(it),tn=en,nn=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),an=nn,rn=function(){function e(e,t,n,i){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new an(t),this.fast_=new an(n)}var t=e.prototype;return t.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var n=8*t,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}(),sn=rn,on=window,dn=on.performance,ln=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.FRAG_LOADING,Ze.default.FRAG_LOADED,Ze.default.FRAG_BUFFERED,Ze.default.ERROR)||this,n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(te(n)),n}ne(t,e);var n=t.prototype;return n.destroy=function(){this.clearTimer(),it.prototype.destroy.call(this)},n.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,i,a=this.hls,r=a.config,s=t.level,o=a.levels[s].details.live;o?(n=r.abrEwmaFastLive,i=r.abrEwmaSlowLive):(n=r.abrEwmaFastVoD,i=r.abrEwmaSlowVoD),this._bwEstimator=new sn(a,i,n,r.abrEwmaDefaultEstimate)}},n._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var i=n.loader;if(!i||i.stats&&i.stats.aborted)return et.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var r=dn.now()-a.trequest,s=Math.abs(t.playbackRate);if(r>500*n.duration/s){var o=e.levels,d=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/r),l=o[n.level];if(!l)return;var u=l.realBitrate?Math.max(l.realBitrate,l.bitrate):l.bitrate,c=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*u/8)),h=t.currentTime,m=(c-a.loaded)/d,f=(Ct.bufferInfo(t,h,e.config.maxBufferHole).end-h)/s;if(f<2*n.duration/s&&m>f){var _,p,g=e.minAutoLevel;for(p=n.level-1;p>g;p--){var y=o[p].realBitrate?Math.max(o[p].realBitrate,o[p].bitrate):o[p].bitrate;if(n.duration*y/(6.4*d)<f)break}_<m&&(et.logger.warn("loading too slow, abort fragment loading and switch to level "+p+":fragLoadedDelay["+p+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+_.toFixed(1)+"<"+m.toFixed(1)+":"+f.toFixed(1)),e.nextLoadLevel=p,this._bwEstimator.sample(r,a.loaded),i.abort(),this.clearTimer(),e.trigger(Ze.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},n.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object($e.isFiniteNumber)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],i=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,a=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:i,duration:a},n.realBitrate=Math.round(8*i/a)}if(e.frag.bitrateTest){var r=e.stats;r.tparsed=r.tbuffered=r.tload,this.onFragBuffered(e)}}},n.onFragBuffered=function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&"main"===n.type&&Object($e.isFiniteNumber)(n.sn)&&(!n.bitrateTest||t.tload===t.tbuffered)){var i=t.tparsed-t.trequest;et.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(i,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},n.onError=function(e){switch(e.details){case Qe.ErrorDetails.FRAG_LOAD_ERROR:case Qe.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},n.clearTimer=function(){clearInterval(this.timer),this.timer=null},n._findBestLevel=function(e,t,n,i,a,r,s,o,d){for(var l=a;l>=i;l--){var u=d[l];if(u){var c=u.details,h=c?c.totalduration/c.fragments.length:t,m=!!c&&c.live,f=void 0;f=l<=e?s*n:o*n;var _=d[l].realBitrate?Math.max(d[l].realBitrate,d[l].bitrate):d[l].bitrate,p=_*h/f;if(et.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(f)+"/"+_+"/"+h+"/"+r+"/"+p),f>_&&(!p||m&&!this.bitrateTestDelay||p<r))return l}}return-1},ee(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,i=e.config,a=e.minAutoLevel,r=e.media,s=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,d=r?r.currentTime:0,l=r&&0!==r.playbackRate?Math.abs(r.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,c=(Ct.bufferInfo(r,d,i.maxBufferHole).end-d)/l,h=this._findBestLevel(s,o,u,a,t,c,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(h>=0)return h;et.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var m=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay,f=i.abrBandWidthFactor,_=i.abrBandWidthUpFactor;if(0===c){var p=this.bitrateTestDelay;if(p){m=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-p,et.logger.trace("bitrate test took "+Math.round(1e3*p)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*m)+" ms"),f=_=1}}return h=this._findBestLevel(s,o,u,a,t,c+m,f,_,n),Math.max(h,0)}}]),t}(it),un=ln,cn=g(),hn=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MEDIA_ATTACHING,Ze.default.MEDIA_DETACHING,Ze.default.MANIFEST_PARSED,Ze.default.BUFFER_RESET,Ze.default.BUFFER_APPENDING,Ze.default.BUFFER_CODECS,Ze.default.BUFFER_EOS,Ze.default.BUFFER_FLUSHING,Ze.default.LEVEL_PTS_UPDATED,Ze.default.LEVEL_UPDATED)||this,n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){et.logger.log("media source opened"),n.hls.trigger(Ze.default.MEDIA_ATTACHED,{media:n.media});var e=n.mediaSource;e&&e.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){et.logger.log("media source closed")},n._onMediaSourceEnded=function(){et.logger.log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var e=n.sourceBuffer.audio;et.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+n.audioTimestampOffset),e.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var t=n.parent,i=n.segments.reduce(function(e,n){return n.parent===t?e+1:e},0),a={},r=n.sourceBuffer;for(var s in r){var o=r[s];if(!o)throw Error("handling source buffer update end error: source buffer for "+s+" uninitilized and unable to update buffered TimeRanges.");a[s]=o.buffered}n.hls.trigger(Ze.default.BUFFER_APPENDED,{parent:t,pending:i,timeRanges:a}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===i&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(e){et.logger.error("sourceBuffer error:",e),n.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.config=t.config,n}ie(t,e);var n=t.prototype;return n.destroy=function(){it.prototype.destroy.call(this)},n.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(!i)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(i.timestampOffset-e.start)>.1){var a=i.updating;try{i.abort()}catch(e){et.logger.warn("can not abort audio buffer: "+e)}a?this.audioTimestampOffset=e.start:(et.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},n.onManifestParsed=function(e){var t=2;(e.audio&&!e.video||!e.altAudio)&&(t=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=t,et.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&cn){var n=this.mediaSource=new cn;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},n.onMediaDetaching=function(){et.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){et.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):et.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(Ze.default.MEDIA_DETACHED)},n.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},n.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach(function(n){t.pendingTracks[n]=e[n]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},n.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var i in e)if(!t[i]){var a=e[i];if(!a)throw Error("source buffer exists for track "+i+", however track does not");var r=a.levelCodec||a.codec,s=a.container+";codecs="+r;et.logger.log("creating sourceBuffer("+s+")");try{var o=t[i]=n.addSourceBuffer(s);o.addEventListener("updateend",this._onSBUpdateEnd),o.addEventListener("error",this._onSBUpdateError),this.tracks[i]={buffer:o,codec:r,id:a.id,container:a.container,levelCodec:a.levelCodec}}catch(e){et.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(Ze.default.BUFFER_CREATED,{tracks:this.tracks})},n.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},n.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var n=this.sourceBuffer[t];n&&!n.ended&&(n.ended=!0,et.logger.log(t+" sourceBuffer now EOS"))}this.checkEos()},n.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var n in e){var i=e[n];if(i){if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}}et.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){et.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},n.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},n.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0)){if(!this.media)return void et.logger.error("flushLiveBackBuffer called without attaching media");for(var t=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),a=t-Math.max(e,this._levelTargetDuration),r=i.length-1;r>=0;r--){var s=i[r],o=n[s];if(o){var d=o.buffered;d.length>0&&a>d.start(0)&&this.removeBufferRange(s,o,0,a)&&this.hls.trigger(Ze.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:a})}}}}},n.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},n.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var i=this.sourceBuffer[n];if(i&&!0===i.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(et.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object($e.isFiniteNumber)(e))&&(et.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var i in n){var a=n[i];a&&(t+=a.buffered.length)}}catch(e){et.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(Ze.default.BUFFER_FLUSHED)}},n.doAppending=function(){var e=this.config,t=this.hls,n=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void et.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var a=n.shift();if(a)try{var r=i[a.type];if(!r)return void this._onSBUpdateEnd();if(r.updating)return void n.unshift(a);r.ended=!1,this.parent=a.parent,r.appendBuffer(a.data),this.appendError=0,this.appended++,this.appending=!0}catch(i){et.logger.error("error while trying to append buffer:"+i.message),n.unshift(a);var s={type:Qe.ErrorTypes.MEDIA_ERROR,parent:a.parent,details:"",fatal:!1};22===i.code?(this.segments=[],s.details=Qe.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,s.details=Qe.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(et.logger.log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0)),t.trigger(Ze.default.ERROR,s)}}}},n.flushBuffer=function(e,t,n){var i=this.sourceBuffer;if(!Object.keys(i).length)return!0;var a="null";if(this.media&&(a=this.media.currentTime.toFixed(3)),et.logger.log("flushBuffer,pos/start/end: "+a+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return et.logger.warn("abort flushing too many retries"),!0;var r=i[n];if(r){if(r.ended=!1,r.updating)return et.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,r,e,t))return this.flushBufferCounter++,!1}return et.logger.log("buffer flushed"),!0},n.removeBufferRange=function(e,t,n,i){try{for(var a=0;a<t.buffered.length;a++){var r=t.buffered.start(a),s=t.buffered.end(a),o=Math.max(r,n),d=Math.min(s,i);if(Math.min(d,s)-o>.5){var l="null";return this.media&&(l=this.media.currentTime.toString()),et.logger.log("sb remove "+e+" ["+o+","+d+"], of ["+r+","+s+"], pos:"+l),t.remove(o,d),!0}}}catch(e){et.logger.warn("removeBufferRange failed",e)}return!1},t}(it),mn=hn,fn=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.FPS_DROP_LEVEL_CAPPING,Ze.default.MEDIA_ATTACHING,Ze.default.MANIFEST_PARSED,Ze.default.LEVELS_UPDATED,Ze.default.BUFFER_CODECS,Ze.default.MEDIA_DETACHING)||this,n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}se(t,e);var n=t.prototype;return n.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},n.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},n.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},n.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},n.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},n.onLevelsUpdated=function(e){this.levels=e.levels},n.onMediaDetaching=function(){this.stopCapping()},n.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},n.getMaxLevel=function(e){var n=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,a){return t.isLevelAllowed(a,n.restrictedLevels)&&a<=e});return this.clientRect=null,t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},n.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},n.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},t.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var i=e.length-1,a=0;a<e.length;a+=1){var r=e[a];if((r.width>=t||r.height>=n)&&function(e,t){return!t||(e.width!==t.width||e.height!==t.height)}(r,e[a+1])){i=a;break}}return i},re(t,[{key:"mediaWidth",get:function(){return this.getDimensions().width*t.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*t.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(it),_n=fn,pn=window,gn=pn.performance,yn=function(e){function t(t){return e.call(this,t,Ze.default.MEDIA_ATTACHING)||this}oe(t,e);var n=t.prototype;return n.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},n.onMediaAttaching=function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}},n.checkFPS=function(e,t,n){var i=gn.now();if(t){if(this.lastTime){var a=i-this.lastTime,r=n-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*r/a,d=this.hls;if(d.trigger(Ze.default.FPS_DROP,{currentDropped:r,currentDecoded:s,totalDroppedFrames:n}),o>0&&r>d.config.fpsDroppedMonitoringThreshold*s){var l=d.currentLevel;et.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=l)&&(l-=1,d.trigger(Ze.default.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:d.currentLevel}),d.autoLevelCapping=l,d.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},n.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(it),vn=yn,Mn=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch(n){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,i=this.stats,a=this.context,r=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(window.performance.now(),i.trequest)),4===n){var s=t.status;if(s>=200&&s<300){i.tload=Math.max(i.tfirst,window.performance.now());var o,d;"arraybuffer"===a.responseType?(o=t.response,d=o.byteLength):(o=t.responseText,d=o.length),i.loaded=i.total=d;var l={url:t.responseURL,data:o};this.callbacks.onSuccess(l,i,a,t)}else i.retry>=r.maxRetry||s>=400&&s<499?(et.logger.error(s+" while loading "+a.url),this.callbacks.onError({code:s,text:t.statusText},a,t)):(et.logger.warn(s+" while loading "+a.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,r.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),r.timeout)},t.loadtimeout=function(){et.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,t)},e}(),Ln=Mn,Tn=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MANIFEST_LOADING,Ze.default.MANIFEST_PARSED,Ze.default.AUDIO_TRACK_LOADED,Ze.default.AUDIO_TRACK_SWITCHED,Ze.default.LEVEL_LOADED,Ze.default.ERROR)||this,n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}ue(t,e);var n=t.prototype;return n.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},n.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(Ze.default.AUDIO_TRACKS_UPDATED,{audioTracks:t}),this._selectAudioGroup(this.hls.nextLoadLevel)},n.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)return void et.logger.warn("Invalid audio track id:",e.id);if(et.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()},n.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},n.onLevelLoaded=function(e){this._selectAudioGroup(e.level)},n.onError=function(e){e.type===Qe.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===Qe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(et.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},n._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)return void et.logger.debug("Same id as current audio-track passed, and track details available -> no-op");if(e<0||e>=this.tracks.length)return void et.logger.warn("Invalid id passed to audio-track controller");var t=this.tracks[e];et.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var n=t.url,i=t.type,a=t.id;this.hls.trigger(Ze.default.AUDIO_TRACK_SWITCHING,{id:a,type:i,url:n}),this._loadTrackDetailsIfNeeded(t)},n.doTick=function(){this._updateTrack(this._trackId)},n._selectAudioGroup=function(e){var t=this.hls.levels[e];if(t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},n._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this._trackId],i=null;if(n&&(i=n.name),this._selectDefaultTrack){var a=t.filter(function(e){return e.default});a.length?t=a:et.logger.warn("No default audio tracks defined")}var r=!1,s=function(){t.forEach(function(t){r||e.audioGroupId&&t.groupId!==e.audioGroupId||i&&i!==t.name||(e._setAudioTrack(t.id),r=!0)})};s(),r||(i=null,s()),r||(et.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:Qe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},n._needsTrackLoading=function(e){var t=e.details,n=e.url;return!(t&&!t.live)&&!!n},n._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;et.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(Ze.default.AUDIO_TRACK_LOADING,{url:t,id:n})}},n._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,et.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},n._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],n=t.name,i=t.language,a=t.groupId;et.logger.warn("Loading failed on audio track id: "+e+", group-id: "+a+', name/language: "'+n+'" / "'+i+'"');for(var r=e,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]){var o=this.tracks[s];if(o.name===n){r=s;break}}if(r===e)return void et.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+i+'"');et.logger.log("Attempting audio-track fallback id:",r,"group-id:",this.tracks[r].groupId),this._setAudioTrack(r)},le(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}]),t}(Kt),bn=Tn,kn=window,Sn=kn.performance,Dn=function(e){function t(t,n){var i;return i=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHING,Ze.default.AUDIO_TRACKS_UPDATED,Ze.default.AUDIO_TRACK_SWITCHING,Ze.default.AUDIO_TRACK_LOADED,Ze.default.KEY_LOADED,Ze.default.FRAG_LOADED,Ze.default.FRAG_PARSING_INIT_SEGMENT,Ze.default.FRAG_PARSING_DATA,Ze.default.FRAG_PARSED,Ze.default.ERROR,Ze.default.BUFFER_RESET,Ze.default.BUFFER_CREATED,Ze.default.BUFFER_APPENDED,Ze.default.BUFFER_FLUSHED,Ze.default.INIT_PTS_FOUND)||this,i.fragmentTracker=n,i.config=t.config,i.audioCodecSwap=!1,i._state=Jt.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i.waitingVideoCC=null,i}me(t,e);var n=t.prototype;return n.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[n]=i,this.videoTrackCC=n,et.logger.log("InitPTS for cc: "+n+" found from main: "+i),this.state===Jt.WAITING_INIT_PTS&&this.tick())},n.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(et.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=Jt.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=Jt.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Jt.STOPPED},n.doTick=function(){var e,t,n,i=this.hls,a=i.config;switch(this.state){case Jt.ERROR:case Jt.PAUSED:case Jt.BUFFER_FLUSHING:break;case Jt.STARTING:this.state=Jt.WAITING_TRACK,this.loadedmetadata=!1;break;case Jt.IDLE:var r=this.tracks;if(!r)break;if(!this.media&&(this.startFragRequested||!a.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var s=this.mediaBuffer?this.mediaBuffer:this.media,o=this.videoBuffer?this.videoBuffer:this.media,d=e<a.maxBufferHole?Math.max(2,a.maxBufferHole):a.maxBufferHole,l=Ct.bufferInfo(s,e,d),u=Ct.bufferInfo(o,e,d),c=l.len,h=l.end,m=this.fragPrevious,f=Math.min(a.maxBufferLength,a.maxMaxBufferLength),_=Math.max(f,u.len),p=this.audioSwitch,g=this.trackId;if((c<_||p)&&g<r.length){if(void 0===(n=r[g].details)){this.state=Jt.WAITING_TRACK;break}if(!p&&this._streamEnded(l,n))return this.hls.trigger(Ze.default.BUFFER_EOS,{type:"audio"}),void(this.state=Jt.ENDED);var y,v=n.fragments,M=v.length,L=v[0].start,T=v[M-1].start+v[M-1].duration;if(p)if(n.live&&!n.PTSKnown)et.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=e,n.PTSKnown&&e<L){if(!(l.end>L||l.nextStart))return;et.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=L+.05}if(n.initSegment&&!n.initSegment.data)y=n.initSegment;else if(h<=L){if(y=v[0],null!==this.videoTrackCC&&y.cc!==this.videoTrackCC&&(y=E(v,this.videoTrackCC)),n.live&&y.loadIdx&&y.loadIdx===this.fragLoadIdx){var b=l.nextStart?l.nextStart:L;return et.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(b+.05)),void(this.media.currentTime=b+.05)}}else{var k,S=a.maxFragLookUpTolerance,D=m?v[m.sn-v[0].sn+1]:void 0;h<T?(h>T-S&&(S=0),k=D&&!H(h,S,D)?D:jt.search(v,function(e){return H(h,S,e)})):k=v[M-1],k&&(y=k,L=k.start,m&&y.level===m.level&&y.sn===m.sn&&(y.sn<n.endSN?(y=v[y.sn+1-n.startSN],this.fragmentTracker.getState(y)!==xt.OK&&et.logger.log("SN just loaded, load next one: "+y.sn)):y=null))}y&&(y.encrypted?(et.logger.log("Loading key for "+y.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+g),this.state=Jt.KEY_LOADING,i.trigger(Ze.default.KEY_LOADING,{frag:y})):(this.fragCurrent=y,(p||this.fragmentTracker.getState(y)===xt.NOT_LOADED)&&(et.logger.log("Loading "+y.sn+", cc: "+y.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+g+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+e+", bufferEnd: "+h.toFixed(3)),"initSegment"!==y.sn&&(this.startFragRequested=!0),Object($e.isFiniteNumber)(y.sn)&&(this.nextLoadPosition=y.start+y.duration),i.trigger(Ze.default.FRAG_LOADING,{frag:y}),this.state=Jt.FRAG_LOADING)))}break;case Jt.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=Jt.IDLE);break;case Jt.FRAG_LOADING_WAITING_RETRY:var w=Sn.now(),Y=this.retryDate;s=this.media;var x=s&&s.seeking;(!Y||w>=Y||x)&&(et.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Jt.IDLE);break;case Jt.WAITING_INIT_PTS:var P=this.waitingFragment;if(P){var A=P.frag.cc;if(void 0!==this.initPTS[A])this.waitingFragment=null,this.state=Jt.FRAG_LOADING,this.onFragLoaded(P);else if(this.videoTrackCC!==this.waitingVideoCC)et.logger.log("Waiting fragment cc ("+A+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var j=Ct.bufferInfo(this.mediaBuffer,this.media.currentTime,a.maxBufferHole),C=H(j.end,a.maxFragLookUpTolerance,P.frag);C<0&&(et.logger.log("Waiting fragment cc ("+A+") @ "+P.frag.start+" cancelled because another fragment at "+j.end+" is needed"),this.clearWaitingFragment())}}else this.state=Jt.IDLE;break;case Jt.STOPPED:case Jt.FRAG_LOADING:case Jt.PARSING:case Jt.PARSED:case Jt.ENDED:}},n.clearWaitingFragment=function(){var e=this.waitingFragment;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=Jt.IDLE)},n.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(et.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},n.onAudioTracksUpdated=function(e){et.logger.log("audio tracks updated"),this.tracks=e.audioTracks},n.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=Jt.PAUSED,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=Jt.IDLE),this.tick()},n.onAudioTrackLoaded=function(e){var t=e.details,n=e.id,i=this.tracks[n],a=i.details,r=t.totalduration,s=0;if(et.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live||a&&a.live?a&&t.fragments.length>0?(T(a,t),s=t.fragments[0].start,t.PTSKnown?et.logger.log("live audio playlist sliding:"+s.toFixed(3)):et.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,et.logger.log("live audio playlist - first load, unknown sliding")):t.PTSKnown=!1,i.details=t,!this.startFragRequested){if(-1===this.startPosition){var o=t.startTimeOffset;Object($e.isFiniteNumber)(o)?(et.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o):t.live?(this.startPosition=this.computeLivePosition(s,t),et.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Jt.WAITING_TRACK&&(this.state=Jt.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===Jt.KEY_LOADING&&(this.state=Jt.IDLE,this.tick())},n.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===Jt.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var i=this.tracks[this.trackId],a=i.details,r=a.totalduration,s=t.level,o=t.sn,d=t.cc,l=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",u=this.stats=e.stats;if("initSegment"===o)this.state=Jt.IDLE,u.tparsed=u.tbuffered=Sn.now(),a.initSegment.data=e.payload,this.hls.trigger(Ze.default.FRAG_BUFFERED,{stats:u,frag:t,id:"audio"}),this.tick();else{this.state=Jt.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new Wt(this.hls,"audio"));var c=this.initPTS[d],h=a.initSegment?a.initSegment.data:[];if(void 0!==c){this.pendingBuffering=!0,et.logger.log("Demuxing "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s);this.demuxer.push(e.payload,h,l,null,t,r,!1,c)}else et.logger.log("Unknown video PTS for cc "+d+", waiting for video PTS before demuxing audio frag "+o+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.waitingFragment=e,this.waitingVideoCC=this.videoTrackCC,this.state=Jt.WAITING_INIT_PTS}}this.fragLoadError=0},n.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Jt.PARSING){var i,a=e.tracks;if(a.video&&delete a.video,i=a.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(Ze.default.BUFFER_CODECS,a),et.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var r=i.initSegment;if(r){var s={type:"audio",data:r,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ze.default.BUFFER_APPENDING,s))}this.tick()}}},n.onFragParsingData=function(e){var t=this,n=this.fragCurrent,i=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&i.sn===n.sn&&i.level===n.level&&this.state===Jt.PARSING){var a=this.trackId,r=this.tracks[a],s=this.hls;Object($e.isFiniteNumber)(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),n.addElementaryStream(rt.AUDIO),et.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),L(r.details,n,e.startPTS,e.endPTS);var o=this.media,d=!1;if(this.audioSwitch)if(o&&o.readyState){var l=o.currentTime;et.logger.log("switching audio track : currentTime:"+l),l>=e.startPTS&&(et.logger.log("switching audio track : flushing all audio"),this.state=Jt.BUFFER_FLUSHING,s.trigger(Ze.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,s.trigger(Ze.default.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,s.trigger(Ze.default.AUDIO_TRACK_SWITCHED,{id:a});var u=this.pendingData;if(!u)return et.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&u.push({type:e.type,data:t,parent:"audio",content:"data"})}),!d&&u.length&&(u.forEach(function(e){t.state===Jt.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(Ze.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},n.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Jt.PARSING&&(this.stats.tparsed=Sn.now(),this.state=Jt.PARSED,this._checkAppendedParsed())},n.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==Jt.PARSING&&t!==Jt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(!(this.state!==Jt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=Sn.now(),n.trigger(Ze.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;i&&et.logger.log("audio buffered : "+zt.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(Ze.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Jt.IDLE}this.tick()}},n.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case Qe.ErrorDetails.FRAG_LOAD_ERROR:case Qe.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var a=this.config;if(i<=a.fragLoadingMaxRetry){this.fragLoadError=i;var r=Math.min(Math.pow(2,i-1)*a.fragLoadingRetryDelay,a.fragLoadingMaxRetryTimeout);et.logger.warn("AudioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=Sn.now()+r,this.state=Jt.FRAG_LOADING_WAITING_RETRY}else et.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Jt.ERROR}break;case Qe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case Qe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case Qe.ErrorDetails.KEY_LOAD_ERROR:case Qe.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==Jt.ERROR&&(this.state=e.fatal?Jt.ERROR:Jt.IDLE,et.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case Qe.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===Jt.PARSING||this.state===Jt.PARSED)){var s=this.mediaBuffer,o=this.media.currentTime;if(s&&Ct.isBuffered(s,o)&&Ct.isBuffered(s,o+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,et.logger.warn("AudioStreamController: reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=Jt.IDLE}else et.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Jt.BUFFER_FLUSHING,this.hls.trigger(Ze.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},n.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(et.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(Ze.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Jt.PARSED):(this.state=Jt.IDLE,this.fragPrevious=null,this.tick())},he(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,et.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(qt),wn=Dn,En=function(){function e(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function i(i,r,s){var o=this,d={};d.enumerable=!0,o.hasBeenReset=!1;var l="",u=!1,c=i,h=r,m=s,f=null,_="",p=!0,g="auto",y="start",v=50,M="middle",L=50,T="middle";Object.defineProperty(o,"id",n({},d,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",n({},d,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",n({},d,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},d,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},d,{get:function(){return m},set:function(e){m=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},d,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},d,{get:function(){return _},set:function(t){var n=e(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");_=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},d,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},d,{get:function(){return g},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},d,{get:function(){return y},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");y=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},d,{get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},d,{get:function(){return M},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");M=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},d,{get:function(){return L},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");L=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},d,{get:function(){return T},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");T=n,this.hasBeenReset=!0}})),o.displayState=void 0}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var a="auto",r={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),Yn=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};pe.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var xn=new En(0,0,0),Pn="middle"===xn.align?"middle":"center";fe.prototype={parse:function(e){function t(){var e=n.buffer,t=0;for(e=ve(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}var n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;i=t();var a=i.match(/^()?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");n.state="HEADER"}for(var r=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(r?r=!1:i=t(),n.state){case"HEADER":/:/.test(i)?function(e){ge(e,function(e,t){},/:/)}(i):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new En(0,0,""),n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{ye(i,n.cue,n.regionList)}catch(e){n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(r=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i;continue;case"BADCUE":i||(n.state="ID");continue}}}catch(e){"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}};var An,jn=fe,Cn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Rn=function(e){var t=e;return Cn.hasOwnProperty(e)&&(t=Cn[e]),String.fromCharCode(t)},On=15,Hn=100,In={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Fn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Nn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Un={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Bn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(An||(An={}));var Wn,Gn=function(){function e(){this.time=null,this.verboseLevel=An.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&et.logger.log(this.time+" ["+e+"] "+t)},e}(),zn=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},Vn=function(){function e(e,t,n,i,a){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=i||"black",this.flash=a||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),Kn=function(){function e(e,t,n,i,a,r){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new Vn(t,n,i,a,r)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),Jn=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<Hn;t++)this.chars.push(new Kn);this.logger=e,this.pos=0,this.currPenState=new Vn}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<Hn;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<Hn;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<Hn;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(An.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>Hn&&(this.logger.log(An.DEBUG,"Too large cursor position "+this.pos),this.pos=Hn)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=Rn(e);if(this.pos>=Hn)return void this.logger.log(An.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},t.clearFromPos=function(e){var t;for(t=e;t<Hn;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<Hn;n++){var i=this.chars[n].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),qn=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<On;t++)this.rows.push(new Jn(e));this.logger=e,this.currRow=On-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<On;e++)this.rows[e].clear();this.currRow=On-1},t.equals=function(e){for(var t=!0,n=0;n<On;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<On;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<On;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(An.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(An.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<On;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var r=a.rows[i].cueStartTime,s=this.logger.time;if(r&&null!==s&&r<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(a.rows[i+o])}}this.currRow=t;var d=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);d.setCursor(e.indent),e.color=d.chars[u].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},t.setBkgData=function(e){this.logger.log(An.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null===this.nrRollUpRows)return void this.logger.log(An.DEBUG,"roll_up but nrRollUpRows not set yet");this.logger.log(An.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(An.INFO,"Rolling up")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",i=-1,a=0;a<On;a++){var r=this.rows[a].getTextString();r&&(i=a+1,e?t.push("Row "+i+": '"+r+"'"):t.push(r.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),Xn=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new qn(n),this.nonDisplayedMemory=new qn(n),this.lastOutputScreen=new qn(n),this.currRollUpRow=this.displayedMemory.rows[On-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[On-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(An.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(An.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(An.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(An.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(An.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(An.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(An.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(An.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(An.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(An.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(An.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(An.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(An.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(An.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(An.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(An.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(An.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[n]}this.logger.log(An.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),Qn=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Gn;this.channels=[null,new Xn(e,t,i),new Xn(e+1,n,i)],this.cmdHistory=be(),this.logger=i}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,i,a,r=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],a=127&t[s+1],0!==i||0!==a){if(this.logger.log(An.DATA,"["+zn([t[s],t[s+1]])+"] -> ("+zn([i,a])+")"),n=this.parseCmd(i,a),n||(n=this.parseMidrow(i,a)),n||(n=this.parsePAC(i,a)),n||(n=this.parseBackgroundAttributes(i,a)),!n&&(r=this.parseChars(i,a))){var o=this.currentChannel;if(o&&o>0){var d=this.channels[o];d.insertChars(r)}else this.logger.log(An.WARNING,"No channel found yet. TEXT-MODE?")}n||r||this.logger.log(An.WARNING,"Couldn't parse cleaned data "+zn([i,a])+" orig: "+zn([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory,i=(20===e||28===e||21===e||29===e)&&t>=32&&t<=47,a=(23===e||31===e)&&t>=33&&t<=35;if(!i&&!a)return!1;if(Te(e,t,n))return Le(null,null,n),this.logger.log(An.DEBUG,"Repeated command ("+zn([e,t])+") is dropped"),!0;var r=20===e||21===e||23===e?1:2,s=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?s.ccRCL():33===t?s.ccBS():34===t?s.ccAOF():35===t?s.ccAON():36===t?s.ccDER():37===t?s.ccRU(2):38===t?s.ccRU(3):39===t?s.ccRU(4):40===t?s.ccFON():41===t?s.ccRDC():42===t?s.ccTR():43===t?s.ccRTD():44===t?s.ccEDM():45===t?s.ccCR():46===t?s.ccENM():47===t&&s.ccEOC():s.ccTO(t-32),Le(e,t,n),this.currentChannel=r,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(An.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(t),this.logger.log(An.DEBUG,"MIDROW ("+zn([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,i=this.cmdHistory,a=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,r=(16===e||24===e)&&t>=64&&t<=95;if(!a&&!r)return!1;if(Te(e,t,i))return Le(null,null,i),!0;var s=e<=23?1:2;n=t>=64&&t<=95?1===s?In[e]:Nn[e]:1===s?Fn[e]:Un[e];var o=this.channels[s];return!!o&&(o.setPAC(this.interpretPAC(n,t)),Le(e,t,i),this.currentChannel=s,!0)},t.interpretPAC=function(e,t){var n=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},t.parseChars=function(e,t){var n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){var r=t;r=17===a?t+80:18===a?t+112:t+144,this.logger.log(An.INFO,"Special char '"+Rn(r)+"' in channel "+n),i=[r]}else e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=zn(i);this.logger.log(An.DEBUG,"Char codes =  "+s.join(",")),Le(e,t,this.cmdHistory)}return i},t.parseBackgroundAttributes=function(e,t){var n=(16===e||24===e)&&t>=32&&t<=47,i=(23===e||31===e)&&t>=45&&t<=47;if(!n&&!i)return!1;var a,r={};16===e||24===e?(a=Math.floor((t-32)/2),r.background=Bn[a],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var s=e<=23?1:2;return this.channels[s].setBkgData(r),Le(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory=be()},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}(),$n=Qn,Zn=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[]},e}(),ei=function(e,t,n){return e.substr(n||0,t.length)===t},ti=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),a=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!(Object($e.isFiniteNumber)(t)&&Object($e.isFiniteNumber)(n)&&Object($e.isFiniteNumber)(i)&&Object($e.isFiniteNumber)(a)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,t+=6e4*i,t+=36e5*a},ni=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},ii=function(e,t,n){var i=e[t],a=e[i.prevCC];if(!a||!a.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC];e.presentationOffset=n},ai={parse:function(e,t,n,i,a,r){var s,o=/\r\n|\n\r|\n|\r/g,d=Object(Zt.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(o,"\n").split("\n"),l="00:00.000",u=0,c=0,h=0,m=[],f=!0,_=!1,p=new jn;p.oncue=function(e){var t=n[i],a=n.ccOffset;t&&t.new&&(void 0!==c?a=n.ccOffset=t.start:ii(n,i,h)),h&&(a=h-n.presentationOffset),_&&(e.startTime+=a-c,e.endTime+=a-c),e.id=ni(e.startTime.toString())+ni(e.endTime.toString())+ni(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&m.push(e)},p.onparsingerror=function(e){s=e},p.onflush=function(){if(s&&r)return void r(s);a(m)},d.forEach(function(e){if(f){if(ei(e,"X-TIMESTAMP-MAP=")){f=!1,_=!0,e.substr(16).split(",").forEach(function(e){ei(e,"LOCAL:")?l=e.substr(6):ei(e,"MPEGTS:")&&(u=parseInt(e.substr(7)))});try{t+(9e4*n[i].start||0)<0&&(t+=8589934592),u-=t,c=ti(l)/1e3,h=u/9e4}catch(e){_=!1,s=e}return}""===e&&(f=!1)}p.parse(e+"\n")}),p.flush()}},ri=ai,si=function(e){function t(t){var n;if(n=e.call(this,t,Ze.default.MEDIA_ATTACHING,Ze.default.MEDIA_DETACHING,Ze.default.FRAG_PARSING_USERDATA,Ze.default.FRAG_DECRYPTED,Ze.default.MANIFEST_LOADING,Ze.default.MANIFEST_LOADED,Ze.default.FRAG_LOADED,Ze.default.INIT_PTS_FOUND)||this,n.media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs=Ee(),n.hls=t,n.config=t.config,n.Cues=t.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var i=new Zn(ke(n),"textTrack1"),a=new Zn(ke(n),"textTrack2"),r=new Zn(ke(n),"textTrack3"),s=new Zn(ke(n),"textTrack4");n.cea608Parser1=new $n(1,i,a),n.cea608Parser2=new $n(3,r,s)}return n}Se(t,e);var n=t.prototype;return n.addCues=function(e,t,n,i,a){for(var r=!1,s=a.length;s--;){var o=a[s],d=we(o[0],o[1],t,n);if(d>=0&&(o[0]=Math.min(o[0],t),o[1]=Math.max(o[1],n),r=!0,d/(n-t)>.5))return}if(r||a.push([t,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[e],t,n,i);else{var l=this.Cues.newCue(null,t,n,i);this.hls.trigger(Ze.default.CUES_PARSED,{type:"captions",cues:l,track:e})}},n.onInitPtsFound=function(e){var t=this,n=e.frag,i=e.id,a=e.initPTS,r=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=a),r.length&&(this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)}))},n.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var i=t.textTracks[n];if(i[e])return i}return null},n.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},n.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,i=this.media,a=t[e],r=a.label,s=a.languageCode,o=this.getExistingTrack(e);if(o)n[e]=o,q(n[e]),J(n[e],i);else{var d=this.createTextTrack("captions",r,s);d&&(d[e]=!0,n[e]=d)}}},n.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n=t.label,i={_id:e,label:n,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(Ze.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}}},n.createTextTrack=function(e,t,n){var i=this.media;if(i)return i.addTextTrack(e,t,n)},n.destroy=function(){e.prototype.destroy.call(this)},n.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},n.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){q(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}},n.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs=Ee(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},n._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)q(t[n])}},n.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var n=e.subtitles||[],i=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=e.subtitles||[],this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var i;if(n<a.length){for(var r=null,s=0;s<a.length;s++)if(De(a[s],e)){r=a[s];break}r&&(i=r)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),e.default?i.mode=t.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",t.textTracks.push(i)})}else if(!i&&this.tracks&&this.tracks.length){var r=this.tracks.map(function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}});this.hls.trigger(Ze.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:r})}}this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(function(e){var n=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(n){var i="textTrack"+n[1],a=t.captionsProperties[i];a&&(a.label=e.name,e.lang&&(a.languageCode=e.lang),a.media=e)}})},n.onFragLoaded=function(e){var t=e.frag,n=e.payload,i=this.cea608Parser1,a=this.cea608Parser2,r=this.initPTS,s=this.lastSn,o=this.unparsedVttFrags;if("main"===t.type){var d=t.sn;t.sn!==s+1&&i&&a&&(i.reset(),a.reset()),this.lastSn=d}else if("subtitle"===t.type)if(n.byteLength){if(!Object($e.isFiniteNumber)(r[t.cc]))return o.push(e),void(r.length&&this.hls.trigger(Ze.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}));var l=t.decryptdata;null!=l&&null!=l.key&&"AES-128"===l.method||this._parseVTTs(t,n)}else this.hls.trigger(Ze.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},n._parseVTTs=function(e,t){var n=this,i=this.hls,a=this.prevCC,r=this.textTracks,s=this.vttCCs;s[e.cc]||(s[e.cc]={start:e.start,prevCC:a,new:!0},this.prevCC=e.cc),ri.parse(t,this.initPTS[e.cc],s,e.cc,function(t){if(n.config.renderTextTracksNatively){var a=r[e.level];if("disabled"===a.mode)return void i.trigger(Ze.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e});t.forEach(function(e){if(!a.cues.getCueById(e.id))try{if(a.addCue(e),!a.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(n){et.logger.debug("Failed occurred on adding cues: "+n);var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,a.addCue(t)}})}else{var s=n.tracks[e.level].default?"default":"subtitles"+e.level;i.trigger(Ze.default.CUES_PARSED,{type:"subtitles",cues:t,track:s})}i.trigger(Ze.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){et.logger.log("Failed to parse VTT cue: "+t),i.trigger(Ze.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},n.onFragDecrypted=function(e){var t=e.frag,n=e.payload;if("subtitle"===t.type){if(!Object($e.isFiniteNumber)(this.initPTS[t.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(t,n)}},n.onFragParsingUserdata=function(e){var t=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&t&&n)for(var i=0;i<e.samples.length;i++){var a=e.samples[i].bytes;if(a){var r=this.extractCea608Data(a);t.addData(e.samples[i].pts,r[0]),n.addData(e.samples[i].pts,r[1])}}},n.extractCea608Data=function(e){for(var t=31&e[0],n=2,i=[[],[]],a=0;a<t;a++){var r=e[n++],s=127&e[n++],o=127&e[n++],d=0!=(4&r),l=3&r;0===s&&0===o||d&&(0!==l&&1!==l||(i[l].push(s),i[l].push(o)))}return i},t}(it),oi=si,di=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHING,Ze.default.MANIFEST_LOADED,Ze.default.SUBTITLE_TRACK_LOADED)||this,n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}Pe(t,e);var n=t.prototype;return n.destroy=function(){it.prototype.destroy.call(this)},n.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(Object($e.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object($e.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);Ae(this.media.textTracks).forEach(function(e){q(e)}),this.subtitleTrack=-1,this.media=null}},n.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.hls.trigger(Ze.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},n.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,i=e.details,a=this.trackId,r=this.tracks,s=r[a];if(n>=r.length||n!==a||!s||this.stopped)return void this._clearReloadTimer();if(et.logger.log("subtitle track "+n+" loaded"),i.live){var o=D(s.details,i,e.stats.trequest);et.logger.log("Reloading live subtitle playlist in "+o+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},o)}else this._clearReloadTimer()},n.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},n._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,i=t[e];e<0||!i||i.details&&!i.details.live||(et.logger.log("Loading subtitle track "+e),n.trigger(Ze.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:e}))},n._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,i=this.trackId;if(t){var a=Ae(t.textTracks);if(-1===e)[].slice.call(a).forEach(function(e){e.mode="disabled"});else{var r=a[i];r&&(r.mode="disabled")}var s=a[e];s&&(s.mode=n?"showing":"hidden")}},n._setSubtitleTrackInternal=function(e){var t=this.hls,n=this.tracks;!Object($e.isFiniteNumber)(e)||e<-1||e>=n.length||(this.trackId=e,et.logger.log("Switching to subtitle track "+e),t.trigger(Ze.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},n._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=Ae(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},xe(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))}}]),t}(it),li=di,ui=n("./src/crypt/decrypter.js"),ci=window,hi=ci.performance,mi=function(e){function t(t,n){var i;return i=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHING,Ze.default.ERROR,Ze.default.KEY_LOADED,Ze.default.FRAG_LOADED,Ze.default.SUBTITLE_TRACKS_UPDATED,Ze.default.SUBTITLE_TRACK_SWITCH,Ze.default.SUBTITLE_TRACK_LOADED,Ze.default.SUBTITLE_FRAG_PROCESSED,Ze.default.LEVEL_UPDATED)||this,i.fragmentTracker=n,i.config=t.config,i.state=Jt.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new ui.default(t,t.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(je(i)),i}Ce(t,e);var n=t.prototype;return n.startLoad=function(){this.stopLoad(),this.state=Jt.IDLE;var e=this.tracks[this.currentTrackId];e&&e.details&&(this.setInterval(500),this.tick())},n.onSubtitleFragProcessed=function(e){var t=e.frag,n=e.success;if(this.fragPrevious=t,this.state=Jt.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,r=t.start,s=0;s<i.length;s++)if(r>=i[s].start&&r<=i[s].end){a=i[s];break}var o=t.start+t.duration;a?a.end=o:(a={start:r,end:o},i.push(a))}}},n.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=Jt.IDLE},n.onMediaDetaching=function(){var e=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]}),this.media=null,this.state=Jt.STOPPED)},n.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=Jt.IDLE)},n.onSubtitleTracksUpdated=function(e){var t=this;et.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},n.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,!this.tracks||!this.tracks.length||-1===this.currentTrackId)return void this.clearInterval();var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)},n.onSubtitleTrackLoaded=function(e){var t=e.id,n=e.details,i=this.currentTrackId,a=this.tracks,r=a[i];t>=a.length||t!==i||!r||(n.live&&b(r.details,n,this.lastAVStart),r.details=n,this.setInterval(500))},n.onKeyLoaded=function(){this.state===Jt.KEY_LOADING&&(this.state=Jt.IDLE)},n.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,i=e.frag,a=this.hls;if(this.state===Jt.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var r=hi.now();this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,function(e){var t=hi.now();a.trigger(Ze.default.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:r,tdecrypt:t}})})}},n.onLevelUpdated=function(e){var t=e.details,n=t.fragments;this.lastAVStart=n.length?n[0].start:0},n.doTick=function(){if(!this.media)return void(this.state=Jt.IDLE);switch(this.state){case Jt.IDLE:var e=this.config,t=this.currentTrackId,n=this.fragmentTracker,i=this.media,a=this.tracks;if(!a||!a[t]||!a[t].details)break;var r=e.maxBufferHole,s=e.maxFragLookUpTolerance,o=Math.min(e.maxBufferLength,e.maxMaxBufferLength),d=Ct.bufferedInfo(this._getBuffered(),i.currentTime,r),l=d.end,u=d.len,c=a[t].details,h=c.fragments,m=h.length,f=h[m-1].start+h[m-1].duration;if(u>o)return;var _,p=this.fragPrevious;l<f?(p&&c.hasProgramDateTime&&(_=R(h,p.endProgramDateTime,s)),_||(_=O(p,h,l,s))):_=h[m-1],_&&_.encrypted?(et.logger.log("Loading key for "+_.sn),this.state=Jt.KEY_LOADING,this.hls.trigger(Ze.default.KEY_LOADING,{frag:_})):_&&n.getState(_)===xt.NOT_LOADED&&(this.fragCurrent=_,this.state=Jt.FRAG_LOADING,this.hls.trigger(Ze.default.FRAG_LOADING,{frag:_}))}},n.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,e.prototype.stopLoad.call(this)},n._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},n.onMediaSeeking=function(){if(this.fragCurrent){var e=this.media?this.media.currentTime:0,t=this.config.maxFragLookUpTolerance,n=this.fragCurrent.start-t,i=this.fragCurrent.start+this.fragCurrent.duration+t;(e<n||e>i)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=Jt.IDLE,this.tick())}},t}(qt);!function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(Wn||(Wn={}));var fi=function(){return"undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}(),_i=function(e,t,n){var i={audioCapabilities:[],videoCapabilities:[]};return e.forEach(function(e){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||""})}),t.forEach(function(e){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||""})}),[i]},pi=function(e,t,n,i){switch(e){case Wn.WIDEVINE:return _i(t,n,i);default:throw new Error("Unknown key-system: "+e)}},gi=function(e){function t(t){var n;return n=e.call(this,t,Ze.default.MEDIA_ATTACHED,Ze.default.MEDIA_DETACHED,Ze.default.MANIFEST_PARSED)||this,n._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(e){if(et.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!n.mediaKeysPromise)return et.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var t=function(t){n._media&&(n._attemptSetMediaKeys(t),n._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};n.mediaKeysPromise.then(t).catch(t)},n._config=t.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=t.config.drmSystemOptions,n}He(t,e);var n=t.prototype;return n.getLicenseServerUrl=function(e){switch(e){case Wn.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},n._attemptKeySystemAccess=function(e,t,n){var i=this,a=pi(e,t,n,this._drmSystemOptions);et.logger.log("Requesting encrypted media key-system access");var r=this.requestMediaKeySystemAccess(e,a);this.mediaKeysPromise=r.then(function(t){return i._onMediaKeySystemAccessObtained(e,t)}),r.catch(function(t){et.logger.error('Failed to obtain key-system "'+e+'" access:',t)})},n._onMediaKeySystemAccessObtained=function(e,t){var n=this;et.logger.log('Access for key-system "'+e+'" obtained');var i={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(i);var a=Promise.resolve().then(function(){return t.createMediaKeys()}).then(function(t){return i.mediaKeys=t,et.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t});return a.catch(function(e){et.logger.error("Failed to create media-keys:",e)}),a},n._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},n._onNewMediaKeySession=function(e){var t=this;et.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(n){t._onKeySessionMessage(e,n.message)},!1)},n._onKeySessionMessage=function(e,t){et.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){et.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)})},n._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return et.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});et.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},n._generateRequestWithPreferredKeySession=function(e,t){var n=this,i=this._mediaKeysList[0];if(!i)return et.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(i.mediaKeysSessionInitialized)return void et.logger.warn("Key-Session already initialized but requested again");var a=i.mediaKeysSession;return a?t?(et.logger.log('Generating key-session request for "'+e+'" init data type'),i.mediaKeysSessionInitialized=!0,void a.generateRequest(e,t).then(function(){et.logger.debug("Key-session generation succeeded")}).catch(function(e){et.logger.error("Error generating key-session request:",e),n.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})):(et.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0})):(et.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}))},n._createLicenseXhr=function(e,t,n){var i=new XMLHttpRequest,a=this._licenseXhrSetup;try{if(a)try{a(i,e)}catch(t){i.open("POST",e,!0),a(i,e)}i.readyState||i.open("POST",e,!0)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,e,t,n),i},n._onLicenseRequestReadyStageChange=function(e,t,n,i){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,et.logger.log("License request succeeded"),"arraybuffer"!==e.responseType&&et.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),i(e.response);else{if(et.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),++this._requestLicenseFailureCount>3)return void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var a=3-this._requestLicenseFailureCount+1;et.logger.warn("Retrying license request, "+a+" attempts left"),this._requestLicense(n,i)}}},n._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case Wn.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},n._requestLicense=function(e,t){et.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return et.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),a=this._createLicenseXhr(i,e,t);et.logger.log("Sending license request to URL: "+i);var r=this._generateLicenseRequestChallenge(n,e);a.send(r)}catch(e){et.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(Ze.default.ERROR,{type:Qe.ErrorTypes.KEY_SYSTEM_ERROR,details:Qe.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},n.onMediaAttached=function(e){if(this._emeEnabled){var t=e.media;this._media=t,t.addEventListener("encrypted",this._onMediaEncrypted)}},n.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map(function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch(function(){})})).then(function(){return e.setMediaKeys(null)}).catch(function(){}))},n.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),n=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(Wn.WIDEVINE,t,n)}},Oe(t,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),t}(it),yi=gi,vi=Fe(Fe({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ln,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:un,bufferController:mn,capLevelController:_n,fpsController:vn,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:fi,testBandwidth:!0},function(){return{cueHandler:Je,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:mi,subtitleTrackController:li,timelineController:oi,audioStreamController:wn,audioTrackController:bn,emeController:yi}),Mi=function(e){function t(n){var i;void 0===n&&(n={}),i=e.call(this)||this,i.config=void 0,i._autoLevelCapping=void 0,i.abrController=void 0,i.capLevelController=void 0,i.levelController=void 0,i.streamController=void 0,i.networkControllers=void 0,i.audioTrackController=void 0,i.subtitleTrackController=void 0,i.emeController=void 0,i.coreComponents=void 0,i.media=null,i.url=null;var a=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");i.config=Be(Be({},a),n);var r=Ge(i),s=r.config;if(void 0!==s.liveMaxLatencyDurationCount&&s.liveMaxLatencyDurationCount<=s.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==s.liveMaxLatencyDuration&&(void 0===s.liveSyncDuration||s.liveMaxLatencyDuration<=s.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(et.enableLogs)(s.debug),i._autoLevelCapping=-1;var o=i.abrController=new s.abrController(Ge(i)),d=new s.bufferController(Ge(i)),l=i.capLevelController=new s.capLevelController(Ge(i)),u=new s.fpsController(Ge(i)),c=new St(Ge(i)),h=new wt(Ge(i)),m=new Yt(Ge(i)),f=new tn(Ge(i)),_=i.levelController=new $t(Ge(i)),p=new Pt(Ge(i)),g=i.streamController=new Qt(Ge(i),p),y=[_,g],v=s.audioStreamController;v&&y.push(new v(Ge(i),p)),i.networkControllers=y;var M=[c,h,m,o,d,l,u,f,p];if(v=s.audioTrackController){var L=new v(Ge(i));i.audioTrackController=L,M.push(L)}if(v=s.subtitleTrackController){var T=new v(Ge(i));i.subtitleTrackController=T,y.push(T)}if(v=s.emeController){var b=new v(Ge(i));i.emeController=b,M.push(b)}return v=s.subtitleStreamController,v&&y.push(new v(Ge(i),p)),v=s.timelineController,v&&M.push(new v(Ge(i))),i.coreComponents=M,i}Ke(t,e),t.isSupported=function(){return $()},Ve(t,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return Ze.default}},{key:"ErrorTypes",get:function(){return Qe.ErrorTypes}},{key:"ErrorDetails",get:function(){return Qe.ErrorDetails}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:vi},set:function(e){t.defaultConfig=e}}]);var n=t.prototype;return n.destroy=function(){et.logger.log("destroy"),this.trigger(Ze.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},n.attachMedia=function(e){et.logger.log("attachMedia"),this.media=e,this.trigger(Ze.default.MEDIA_ATTACHING,{media:e})},n.detachMedia=function(){et.logger.log("detachMedia"),this.trigger(Ze.default.MEDIA_DETACHING),this.media=null},n.loadSource=function(e){e=Xe.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),et.logger.log("loadSource:"+e),this.url=e,this.trigger(Ze.default.MANIFEST_LOADING,{url:e})},n.startLoad=function(e){void 0===e&&(e=-1),et.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},n.stopLoad=function(){et.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},n.swapAudioCodec=function(){et.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},n.recoverMediaError=function(){et.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},n.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},Ve(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){et.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){et.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){et.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){et.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){et.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){et.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,i=0;i<n;i++){if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i}return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),t}(Ft);Mi.defaultConfig=void 0},"./src/polyfills/number.js":/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! exports provided: isFiniteNumber, MAX_SAFE_INTEGER */
function(e,t,n){"use strict";n.r(t),n.d(t,"isFiniteNumber",function(){return i}),n.d(t,"MAX_SAFE_INTEGER",function(){return a});var i=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},a=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */
function(e,t,n){"use strict";function i(){return"undefined"==typeof window?self:window}n.r(t),n.d(t,"getSelfScope",function(){return i})},"./src/utils/logger.js":/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */
function(e,t,n){"use strict";function i(){}function a(e,t){return t="["+e+"] > "+t}function r(e){var t=u.console[e];return t?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=a(e,i[0])),t.apply(u.console,i)}:i}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach(function(t){l[t]=e[t]?e[t].bind(e):r(t)})}n.r(t),n.d(t,"enableLogs",function(){return c}),n.d(t,"logger",function(){return h});var o=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js"),d={trace:i,debug:i,log:i,warn:i,info:i,error:i},l=d,u=Object(o.getSelfScope)(),c=function(e){if(u.console&&!0===e||"object"==typeof e){s(e,"debug","log","info","warn","error");try{l.log()}catch(e){l=d}}else l=d},h=l}}).default})},"./node_modules/moment/locale recursive ^\\.\\/.*$":function(e,t,n){function i(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="./node_modules/moment/locale recursive ^\\.\\/.*$"},"./node_modules/moment/locale/af.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/ar-dz.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})})},"./node_modules/moment/locale/ar-kw.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})})},"./node_modules/moment/locale/ar-ly.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(t,a,r,s){var o=n(t),d=i[e][n(t)];return 2===o&&(d=d[a?0:1]),d.replace(/%d/i,t)}},r=["","","","","","","","","","","",""];return e.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},"./node_modules/moment/locale/ar-ma.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},"./node_modules/moment/locale/ar-sa.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/ar-tn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/ar.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,n,r,s){var o=i(t),d=a[e][i(t)];return 2===o&&(d=d[n?0:1]),d.replace(/%d/i,t)}},s=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];return e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},"./node_modules/moment/locale/az.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/be.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(a[i],+e)}return e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/bg.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/bm.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/bn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/bo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/br.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n){return e+" "+a({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){return e>9?i(e%10):e}function a(e,t){return 2===t?r(e):e}function r(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/bs.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ca.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/cs.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){return e>1&&e<5&&1!=~~(e/10)}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"pr sekund":"pr sekundami";case"m":return n?"minuta":a?"minutu":"minutou";case"mm":return n||a?r+(t(e)?"minuty":"minut"):r+"minutami";case"h":return n?"hodina":a?"hodinu":"hodinou";case"hh":return n||a?r+(t(e)?"hodiny":"hodin"):r+"hodinami";case"d":return n||a?"den":"dnem";case"dd":return n||a?r+(t(e)?"dny":"dn"):r+"dny";case"M":return n||a?"msc":"mscem";case"MM":return n||a?r+(t(e)?"msce":"msc"):r+"msci";case"y":return n||a?"rok":"rokem";case"yy":return n||a?r+(t(e)?"roky":"let"):r+"lety"}}var i="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),a="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");return e.defineLocale("cs",{months:i,monthsShort:a,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(i,a),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(a),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(i),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/cv.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/cy.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=i[t]),e+n},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/da.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/de-at.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/de-ch.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/de.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/dv.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})})},"./node_modules/moment/locale/el.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}return e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var i=this._calendarEl[e],a=n&&n.hours();return t(i)&&(i=i.apply(n)),i.replace("{}",a%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/en-au.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/en-ca.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},"./node_modules/moment/locale/en-gb.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/en-ie.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/en-nz.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/eo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/es-do.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/es-us.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY H:mm",LLLL:"dddd, MMMM [de] D [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})})},"./node_modules/moment/locale/es.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/et.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?a[n][2]?a[n][2]:a[n][1]:i?a[n][0]:a[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/eu.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/fa.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})})},"./node_modules/moment/locale/fi.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,i,a){var r="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"m":return a?"minuutin":"minuutti";case"mm":r=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":r=a?"tunnin":"tuntia";break;case"d":return a?"pivn":"piv";case"dd":r=a?"pivn":"piv";break;case"M":return a?"kuukauden":"kuukausi";case"MM":r=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":r=a?"vuoden":"vuotta"}return r=n(e,a)+" "+r}function n(e,t){return e<10?t?a[e]:i[e]:e}var i="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),a=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",i[7],i[8],i[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/fo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/fr-ca.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})})},"./node_modules/moment/locale/fr-ch.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/fr.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/fy.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/gd.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],a=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],r=["D","Lu","M","Ci","Ar","Ha","Sa"];return e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:a,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/gl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/gom-latn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?a[n][0]:a[n][1]}return e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})})},"./node_modules/moment/locale/gu.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/he.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})})},"./node_modules/moment/locale/hi.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/hr.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/hu.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return a+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return a+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return a+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return a+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return a+(i||t?" v":" ve")}return""}function n(e){return(e?"":"[mlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/hy-am.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/id.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/is.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":return t(e)?r+(n||a?"mntur":"mntum"):n?r+"mnta":r+"mntu";case"hh":return t(e)?r+(n||a?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return n?"dagur":a?"dag":"degi";case"dd":return t(e)?n?r+"dagar":r+(a?"daga":"dgum"):n?r+"dagur":r+(a?"dag":"degi");case"M":return n?"mnuur":a?"mnu":"mnui";case"MM":return t(e)?n?r+"mnuir":r+(a?"mnui":"mnuum"):n?r+"mnuur":r+(a?"mnu":"mnui");case"y":return n||a?"r":"ri";case"yy":return t(e)?r+(n||a?"r":"rum"):r+(n||a?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/it.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/ja.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})})},"./node_modules/moment/locale/jv.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ka.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/kk.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/km.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/kn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/ko.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})})},"./node_modules/moment/locale/ky.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/lb.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[n][0]:a[n][1]}function n(e){return a(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function i(e){return a(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function a(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return a(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return a(e)}return e/=1e3,a(e)}return e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/lo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})})},"./node_modules/moment/locale/lt.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function n(e,t,n,i){return t?a(n)[0]:i?a(n)[1]:a(n)[2]}function i(e){return e%10==0||e>10&&e<20}function a(e){return s[e].split("_")}function r(e,t,r,s){var o=e+" ";return 1===e?o+n(e,t,r[0],s):t?o+(i(e)?a(r)[1]:a(r)[0]):s?o+a(r)[1]:o+(i(e)?a(r)[1]:a(r)[2])}var s={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};return e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:n,mm:r,h:n,hh:r,d:n,dd:r,M:n,MM:r,y:n,yy:r},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/lv.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function n(e,n,i){return e+" "+t(r[i],e,n)}function i(e,n,i){return t(r[i],e,n)}function a(e,t){return t?"daas sekundes":"dam sekundm"}var r={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};return e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:a,m:i,mm:n,h:i,hh:n,d:i,dd:n,M:i,MM:n,y:i,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/me.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];return 1===i.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/mi.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/mk.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ml.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})})},"./node_modules/moment/locale/mr.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a="";if(t)switch(n){case"s":a=" ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d "}else switch(n){case"s":a=" ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d "}return a.replace(/%d/i,e)}var n={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return n[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/ms-my.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ms.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/my.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/nb.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/ne.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/nl-be.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/nl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/nn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/pa-in.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/pl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function n(e,n,i){var a=e+" ";switch(i){case"m":return n?"minuta":"minut";case"mm":return a+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return a+(t(e)?"godziny":"godzin");case"MM":return a+(t(e)?"miesice":"miesicy");case"yy":return a+(t(e)?"lata":"lat")}}var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),a="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+a[e.month()]+"|"+i[e.month()]+")":/D MMMM/.test(t)?a[e.month()]:i[e.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie",dd:"%d dni",M:"miesic",MM:n,y:"rok",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/pt-br.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})})},"./node_modules/moment/locale/pt.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/ro.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";return(e%100>=20||e>=100&&e%100==0)&&(a=" de "),e+a+i[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ru.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":e+" "+t(a[i],+e)}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];return e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/sd.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/se.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/si.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})})},"./node_modules/moment/locale/sk.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){return e>1&&e<5}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"pr seknd":"pr sekundami";case"m":return n?"minta":a?"mintu":"mintou";case"mm":return n||a?r+(t(e)?"minty":"mint"):r+"mintami";case"h":return n?"hodina":a?"hodinu":"hodinou";case"hh":return n||a?r+(t(e)?"hodiny":"hodn"):r+"hodinami";case"d":return n||a?"de":"dom";case"dd":return n||a?r+(t(e)?"dni":"dn"):r+"dami";case"M":return n||a?"mesiac":"mesiacom";case"MM":return n||a?r+(t(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return n||a?"rok":"rokom";case"yy":return n||a?r+(t(e)?"roky":"rokov"):r+"rokmi"}}var i="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),a="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:i,monthsShort:a,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/sl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return a+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return a+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return a+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return a+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return a+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/sq.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/sr-cyrl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];return 1===i.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/sr.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];return 1===i.length?n?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ss.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/sv.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/sw.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ta.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/te.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})})},"./node_modules/moment/locale/tet.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/th.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},"./node_modules/moment/locale/tl-ph.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/tlh.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function i(e,t,n,i){var r=a(e);switch(n){case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function a(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),i=e%10,a="";return t>0&&(a+=r[t]+"vatlh"),n>0&&(a+=(""!==a?" ":"")+r[n]+"maH"),i>0&&(a+=(""!==a?" ":"")+r[i]),""===a?"pagh":a}var r="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");return e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:t,past:n,s:"puS lup",m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/tr.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/tzl.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t,n,i){var a={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?a[n][0]:t?a[n][0]:a[n][1]}return e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/tzm-latn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})},"./node_modules/moment/locale/tzm.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},"./node_modules/moment/locale/uk.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(a[i],+e)}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function a(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}return e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:a("[ "),nextDay:a("[ "),lastDay:a("[ "),nextWeek:a("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[] dddd [").call(this);case 1:case 2:case 4:return a("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/ur.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];return e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/uz-latn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/uz.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})})},"./node_modules/moment/locale/vi.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/x-pseudo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/yo.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})})},"./node_modules/moment/locale/zh-cn.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})})},"./node_modules/moment/locale/zh-hk.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},"./node_modules/moment/locale/zh-tw.js":function(e,t,n){!function(e,t){t(n("./node_modules/moment/moment.js"))}(0,function(e){"use strict";return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},"./node_modules/moment/moment.js":function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return Ei.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,i){return St(e,t,n,i,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=m()),e._pf}function _(e){if(null==e._isValid){var t=f(e),n=Yi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function p(e){var t=h(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function g(e,t){var n,i,a;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=f(t)),s(t._locale)||(e._locale=t._locale),xi.length>0)for(n=0;n<xi.length;n++)i=xi[n],a=t[i],s(a)||(e[i]=a);return e}function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Pi&&(Pi=!0,t.updateOffset(this),Pi=!1)}function v(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function M(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function L(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=M(t)),n}function T(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&L(e[i])!==L(t[i]))&&s++;return s+r}function b(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var a,r=[],s=0;s<arguments.length;s++){if(a="","object"==typeof arguments[s]){a+="\n["+s+"] ";for(var o in arguments[0])a+=o+": "+arguments[0][o]+", ";a=a.slice(0,-2)}else a=arguments[s];r.push(a)}b(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Ai[e]||(b(n),Ai[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function w(e){var t,n;for(n in e)t=e[n],D(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(e,t){var n,i=c({},e);for(n in t)u(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&a(e[n])&&(i[n]=c({},i[n]));return i}function Y(e){null!=e&&this.set(e)}function x(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function j(e){return this._ordinal.replace("%d",e)}function C(e,t,n,i){var a=this._relativeTime[n];return D(a)?a(e,t,n,i):a.replace(/%d/i,e)}function R(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)}function O(e,t){var n=e.toLowerCase();Ii[n]=Ii[n+"s"]=Ii[t]=e}function H(e){return"string"==typeof e?Ii[e]||Ii[e.toLowerCase()]:void 0}function I(e){var t,n,i={};for(n in e)u(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}function F(e,t){Fi[e]=t}function N(e){var t=[];for(var n in e)t.push({unit:n,priority:Fi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function B(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Wi[e]=a),t&&(Wi[t[0]]=function(){return U(a.apply(this,arguments),t[1],t[2])}),n&&(Wi[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,i=e.match(Ni);for(t=0,n=i.length;t<n;t++)Wi[i[t]]?i[t]=Wi[i[t]]:i[t]=W(i[t]);return function(t){var a,r="";for(a=0;a<n;a++)r+=D(i[a])?i[a].call(t,e):i[a];return r}}function z(e,t){return e.isValid()?(t=V(t,e.localeData()),Bi[t]=Bi[t]||G(t),Bi[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ui.lastIndex=0;i>=0&&Ui.test(e);)e=e.replace(Ui,n),Ui.lastIndex=0,i-=1;return e}function K(e,t,n){oa[e]=D(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return u(oa,e)?oa[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=L(e)}),n=0;n<e.length;n++)da[e[n]]=i}function $(e,t){Q(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function Z(e,t,n){null!=t&&u(da,e)&&da[e](t,n._a,n,e)}function ee(e){return te(e)?366:365}function te(e){return e%4==0&&e%100!=0||e%400==0}function ne(){return te(this.year())}function ie(e,n){return function(i){return null!=i?(re(this,e,i),t.updateOffset(this,n),this):ae(this,e)}}function ae(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&te(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),le(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function se(e){return e=H(e),D(this[e])?this[e]():this}function oe(e,t){if("object"==typeof e){e=I(e);for(var n=N(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=H(e),D(this[e]))return this[e](t);return this}function de(e,t){return(e%t+t)%t}function le(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=de(t,12);return e+=(t-n)/12,1===n?te(e)?29:28:31-n%7%2}function ue(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ma).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ce(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ma.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function he(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(a=ya.call(this._shortMonthsParse,s),-1!==a?a:null):(a=ya.call(this._longMonthsParse,s),-1!==a?a:null):"MMM"===t?-1!==(a=ya.call(this._shortMonthsParse,s))?a:(a=ya.call(this._longMonthsParse,s),-1!==a?a:null):-1!==(a=ya.call(this._longMonthsParse,s))?a:(a=ya.call(this._shortMonthsParse,s),-1!==a?a:null)}function me(e,t,n){var i,a,r;if(this._monthsParseExact)return he.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=L(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function _e(e){return null!=e?(fe(this,e),t.updateOffset(this,!0),this):ae(this,"Month")}function pe(){return le(this.year(),this.month())}function ge(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ba),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ye(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ka),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],r=[];for(t=0;t<12;t++)n=h([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),r.sort(e),t=0;t<12;t++)i[t]=X(i[t]),a[t]=X(a[t]);for(t=0;t<24;t++)r[t]=X(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Me(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function Le(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Te(e,t,n){var i=7+t-n;return-(7+Le(e,0,i).getUTCDay()-t)%7+i-1}function be(e,t,n,i,a){var r,s,o=(7+n-i)%7,d=Te(e,i,a),l=1+7*(t-1)+o+d;return l<=0?(r=e-1,s=ee(r)+l):l>ee(e)?(r=e+1,s=l-ee(e)):(r=e,s=l),{year:r,dayOfYear:s}}function ke(e,t,n){var i,a,r=Te(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return s<1?(a=e.year()-1,i=s+Se(a,t,n)):s>Se(e.year(),t,n)?(i=s-Se(e.year(),t,n),a=e.year()+1):(a=e.year(),i=s),{week:i,year:a}}function Se(e,t,n){var i=Te(e,t,n),a=Te(e+1,t,n);return(ee(e)-i+a)/7}function De(e){return ke(e,this._week.dow,this._week.doy).week}function we(){return this._week.dow}function Ee(){return this._week.doy}function Ye(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ae(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function je(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ce(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Re(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Oe(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(a=ya.call(this._weekdaysParse,s),-1!==a?a:null):"ddd"===t?(a=ya.call(this._shortWeekdaysParse,s),-1!==a?a:null):(a=ya.call(this._minWeekdaysParse,s),-1!==a?a:null):"dddd"===t?-1!==(a=ya.call(this._weekdaysParse,s))?a:-1!==(a=ya.call(this._shortWeekdaysParse,s))?a:(a=ya.call(this._minWeekdaysParse,s),-1!==a?a:null):"ddd"===t?-1!==(a=ya.call(this._shortWeekdaysParse,s))?a:-1!==(a=ya.call(this._weekdaysParse,s))?a:(a=ya.call(this._minWeekdaysParse,s),-1!==a?a:null):-1!==(a=ya.call(this._minWeekdaysParse,s))?a:-1!==(a=ya.call(this._weekdaysParse,s))?a:(a=ya.call(this._shortWeekdaysParse,s),-1!==a?a:null)}function He(e,t,n){var i,a,r;if(this._weekdaysParseExact)return Oe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ne(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ae(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ya),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xa),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function We(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pa),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ge(){function e(e,t){return t.length-e.length}var t,n,i,a,r,s=[],o=[],d=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),r=this.weekdays(n,""),s.push(i),o.push(a),d.push(r),l.push(i),l.push(a),l.push(r);for(s.sort(e),o.sort(e),d.sort(e),l.sort(e),t=0;t<7;t++)o[t]=X(o[t]),d[t]=X(d[t]),l[t]=X(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ve(){return this.hours()||24}function Ke(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Je(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function $e(e){for(var t,n,i,a,r=0;r<e.length;){for(a=Qe(e[r]).split("-"),t=a.length,n=Qe(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=Ze(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&T(a,n,!0)>=t-1)break;t--}r++}return null}function Ze(t){var i=null;if(!Oa[t]&&void 0!==e&&e&&e.exports)try{i=Aa._abbr;n("./node_modules/moment/locale recursive ^\\.\\/.*$")("./"+t),et(i)}catch(e){}return Oa[t]}function et(e,t){var n;return e&&(n=s(t)?it(e):tt(e,t))&&(Aa=n),Aa._abbr}function tt(e,t){if(null!==t){var n=Ra;if(t.abbr=e,null!=Oa[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Oa[e]._config;else if(null!=t.parentLocale){if(null==Oa[t.parentLocale])return Ha[t.parentLocale]||(Ha[t.parentLocale]=[]),Ha[t.parentLocale].push({name:e,config:t}),null;n=Oa[t.parentLocale]._config}return Oa[e]=new Y(E(n,t)),Ha[e]&&Ha[e].forEach(function(e){tt(e.name,e.config)}),et(e),Oa[e]}return delete Oa[e],null}function nt(e,t){if(null!=t){var n,i,a=Ra;i=Ze(e),null!=i&&(a=i._config),t=E(a,t),n=new Y(t),n.parentLocale=Oa[e],Oa[e]=n,et(e)}else null!=Oa[e]&&(null!=Oa[e].parentLocale?Oa[e]=Oa[e].parentLocale:null!=Oa[e]&&delete Oa[e]);return Oa[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Aa;if(!i(e)){if(t=Ze(e))return t;e=[e]}return $e(e)}function at(){return ji(Oa)}function rt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ua]<0||n[ua]>11?ua:n[ca]<1||n[ca]>le(n[la],n[ua])?ca:n[ha]<0||n[ha]>24||24===n[ha]&&(0!==n[ma]||0!==n[fa]||0!==n[_a])?ha:n[ma]<0||n[ma]>59?ma:n[fa]<0||n[fa]>59?fa:n[_a]<0||n[_a]>999?_a:-1,f(e)._overflowDayOfYear&&(t<la||t>ca)&&(t=ca),f(e)._overflowWeeks&&-1===t&&(t=pa),f(e)._overflowWeekday&&-1===t&&(t=ga),f(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function ot(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function dt(e){var t,n,i,a,r=[];if(!e._d){for(i=ot(e),e._w&&null==e._a[ca]&&null==e._a[ua]&&lt(e),null!=e._dayOfYear&&(a=st(e._a[la],i[la]),(e._dayOfYear>ee(a)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Le(a,0,e._dayOfYear),e._a[ua]=n.getUTCMonth(),e._a[ca]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ha]&&0===e._a[ma]&&0===e._a[fa]&&0===e._a[_a]&&(e._nextDay=!0,e._a[ha]=0),e._d=(e._useUTC?Le:Me).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ha]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(f(e).weekdayMismatch=!0)}}function lt(e){var t,n,i,a,r,s,o,d;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,s=4,n=st(t.GG,e._a[la],ke(Dt(),1,4).year),i=st(t.W,1),((a=st(t.E,1))<1||a>7)&&(d=!0);else{r=e._locale._week.dow,s=e._locale._week.doy;var l=ke(Dt(),r,s);n=st(t.gg,e._a[la],l.year),i=st(t.w,l.week),null!=t.d?((a=t.d)<0||a>6)&&(d=!0):null!=t.e?(a=t.e+r,(t.e<0||t.e>6)&&(d=!0)):a=r}i<1||i>Se(n,r,s)?f(e)._overflowWeeks=!0:null!=d?f(e)._overflowWeekday=!0:(o=be(n,i,a,r,s),e._a[la]=o.year,e._dayOfYear=o.dayOfYear)}function ut(e){var t,n,i,a,r,s,o=e._i,d=Ia.exec(o)||Fa.exec(o);if(d){for(f(e).iso=!0,t=0,n=Ua.length;t<n;t++)if(Ua[t][1].exec(d[1])){a=Ua[t][0],i=!1!==Ua[t][2];break}if(null==a)return void(e._isValid=!1);if(d[3]){for(t=0,n=Ba.length;t<n;t++)if(Ba[t][1].exec(d[3])){r=(d[2]||" ")+Ba[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(d[4]){if(!Na.exec(d[4]))return void(e._isValid=!1);s="Z"}e._f=a+(r||"")+(s||""),yt(e)}else e._isValid=!1}function ct(e,t,n,i,a,r){var s=[ht(e),Ta.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(a,10)];return r&&s.push(parseInt(r,10)),s}function ht(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function mt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ft(e,t,n){if(e){if(wa.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _t(e,t,n){if(e)return za[e];if(t)return 0;var i=parseInt(n,10),a=i%100;return(i-a)/100*60+a}function pt(e){var t=Ga.exec(mt(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ft(t[1],n,e))return;e._a=n,e._tzm=_t(t[8],t[9],t[10]),e._d=Le.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function gt(e){var n=Wa.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));ut(e),!1===e._isValid&&(delete e._isValid,pt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function yt(e){if(e._f===t.ISO_8601)return void ut(e);if(e._f===t.RFC_2822)return void pt(e);e._a=[],f(e).empty=!0;var n,i,a,r,s,o=""+e._i,d=o.length,l=0;for(a=V(e._f,e._locale).match(Ni)||[],n=0;n<a.length;n++)r=a[n],i=(o.match(J(r,e))||[])[0],i&&(s=o.substr(0,o.indexOf(i)),s.length>0&&f(e).unusedInput.push(s),o=o.slice(o.indexOf(i)+i.length),l+=i.length),Wi[r]?(i?f(e).empty=!1:f(e).unusedTokens.push(r),Z(r,i,e)):e._strict&&!i&&f(e).unusedTokens.push(r);f(e).charsLeftOver=d-l,o.length>0&&f(e).unusedInput.push(o),e._a[ha]<=12&&!0===f(e).bigHour&&e._a[ha]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[ha]=vt(e._locale,e._a[ha],e._meridiem),dt(e),rt(e)}function vt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Mt(e){var t,n,i,a,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],yt(t),_(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==i||r<i)&&(i=r,n=t));c(e,n||t)}function Lt(e){if(!e._d){var t=I(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),dt(e)}}function Tt(e){var t=new y(rt(bt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bt(e){var t=e._i,n=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new y(rt(t)):(d(t)?e._d=t:i(n)?Mt(e):n?yt(e):kt(e),_(e)||(e._d=null),e))}function kt(e){var n=e._i;s(n)?e._d=new Date(t.now()):d(n)?e._d=new Date(n.valueOf()):"string"==typeof n?gt(e):i(n)?(e._a=l(n.slice(0),function(e){return parseInt(e,10)}),dt(e)):a(n)?Lt(e):o(n)?e._d=new Date(n):t.createFromInputFallback(e)}function St(e,t,n,s,o){var d={};return!0!==n&&!1!==n||(s=n,n=void 0),(a(e)&&r(e)||i(e)&&0===e.length)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=o,d._l=n,d._i=e,d._f=t,d._strict=s,Tt(d)}function Dt(e,t,n,i){return St(e,t,n,i,!1)}function wt(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Dt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}function Et(){return wt("isBefore",[].slice.call(arguments,0))}function Yt(){return wt("isAfter",[].slice.call(arguments,0))}function xt(e){for(var t in e)if(-1===ya.call(qa,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<qa.length;++i)if(e[qa[i]]){if(n)return!1;parseFloat(e[qa[i]])!==L(e[qa[i]])&&(n=!0)}return!0}function Pt(){return this._isValid}function At(){return Qt(NaN)}function jt(e){var t=I(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,d=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=xt(t),this._milliseconds=+u+1e3*l+6e4*d+1e3*o*60*60,this._days=+s+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=it(),this._bubble()}function Ct(e){return e instanceof jt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ot(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function Ht(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],a=(i+"").match(Xa)||["-",0,0],r=60*a[1]+L(a[2]);return 0===r?0:"+"===a[0]?r:-r}function It(e,n){var i,a;return n._isUTC?(i=n.clone(),a=(v(e)||d(e)?e.valueOf():Dt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),t.updateOffset(i,!1),i):Dt(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(e,n,i){var a,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ht(aa,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(a=Ft(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),r!==e&&(!n||this._changeInProgress?nn(this,Qt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ft(this)}function Ut(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bt(e){return this.utcOffset(0,e)}function Wt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this}function Gt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ht(ia,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?Dt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=bt(e),e._a){var t=e._isUTC?h(e._a):Dt(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!!this.isValid()&&!this._isUTC}function qt(){return!!this.isValid()&&this._isUTC}function Xt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qt(e,t){var n,i,a,r=e,s=null;return Ct(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(r={},t?r[t]=e:r.milliseconds=e):(s=Qa.exec(e))?(n="-"===s[1]?-1:1,r={y:0,d:L(s[ca])*n,h:L(s[ha])*n,m:L(s[ma])*n,s:L(s[fa])*n,ms:L(Rt(1e3*s[_a]))*n}):(s=$a.exec(e))?(n="-"===s[1]?-1:(s[1],1),r={y:$t(s[2],n),M:$t(s[3],n),w:$t(s[4],n),d:$t(s[5],n),h:$t(s[6],n),m:$t(s[7],n),s:$t(s[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=en(Dt(r.from),Dt(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),i=new jt(r),Ct(e)&&u(e,"_locale")&&(i._locale=e._locale),i}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return e.isValid()&&t.isValid()?(t=It(t,e),e.isBefore(t)?n=Zt(e,t):(n=Zt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(e,t){return function(n,i){var a,r;return null===i||isNaN(+i)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=Qt(n,i),nn(this,a,e),this}}function nn(e,n,i,a){var r=n._milliseconds,s=Rt(n._days),o=Rt(n._months);e.isValid()&&(a=null==a||a,o&&fe(e,ae(e,"Month")+o*i),s&&re(e,"Date",ae(e,"Date")+s*i),r&&e._d.setTime(e._d.valueOf()+r*i),a&&t.updateOffset(e,s||o))}function an(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var i=e||Dt(),a=It(i,this).startOf("day"),r=t.calendarFormat(this,a)||"sameElse",s=n&&(D(n[r])?n[r].call(this,i):n[r]);return this.format(s||this.localeData().calendar(r,this,Dt(i)))}function sn(){return new y(this)}function on(e,t){var n=v(e)?e:Dt(e);return!(!this.isValid()||!n.isValid())&&(t=H(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function dn(e,t){var n=v(e)?e:Dt(e);return!(!this.isValid()||!n.isValid())&&(t=H(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function ln(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function un(e,t){var n,i=v(e)?e:Dt(e);return!(!this.isValid()||!i.isValid())&&(t=H(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function mn(e,t,n){var i,a,r;if(!this.isValid())return NaN;if(i=It(e,this),!i.isValid())return NaN;switch(a=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":r=fn(this,i)/12;break;case"month":r=fn(this,i);break;case"quarter":r=fn(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-a)/864e5;break;case"week":r=(this-i-a)/6048e5;break;default:r=this-i}return n?r:M(r)}function fn(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return t-r<0?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)||0}function _n(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)}function yn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=z(this,e);return this.localeData().postformat(n)}function vn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Dt(e).isValid())?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Mn(e){return this.from(Dt(),e)}function Ln(e,t){return this.isValid()&&(v(e)&&e.isValid()||Dt(e).isValid())?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.to(Dt(),e)}function bn(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function kn(){return this._locale}function Sn(e){switch(e=H(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Dn(e){return void 0===(e=H(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function wn(){return this._d.valueOf()-6e4*(this._offset||0)}function En(){return Math.floor(this.valueOf()/1e3)}function Yn(){return new Date(this.valueOf())}function xn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function jn(){return _(this)}function Cn(){return c({},f(this))}function Rn(){return f(this).overflow}function On(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Hn(e,t){B(0,[e,e.length],0,t)}function In(e){return Bn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fn(e){return Bn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Nn(){return Se(this.year(),1,4)}function Un(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function Bn(e,t,n,i,a){var r;return null==e?ke(this,i,a).year:(r=Se(e,i,a),t>r&&(t=r),Wn.call(this,e,t,n,i,a))}function Wn(e,t,n,i,a){var r=be(e,t,n,i,a),s=Le(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Gn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Vn(e,t){t[_a]=L(1e3*("0."+e))}function Kn(){return this._isUTC?"UTC":""}function Jn(){return this._isUTC?"Coordinated Universal Time":""}function qn(e){return Dt(1e3*e)}function Xn(){return Dt.apply(null,arguments).parseZone()}function Qn(e){return e}function $n(e,t,n,i){var a=it(),r=h().set(i,t);return a[n](r,e)}function Zn(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return $n(e,t,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=$n(e,i,n,"month");return a}function ei(e,t,n,i){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var a=it(),r=e?a._week.dow:0;if(null!=n)return $n(t,(n+r)%7,i,"day");var s,d=[];for(s=0;s<7;s++)d[s]=$n(t,(s+r)%7,i,"day");return d}function ti(e,t){return Zn(e,t,"months")}function ni(e,t){return Zn(e,t,"monthsShort")}function ii(e,t,n){return ei(e,t,n,"weekdays")}function ai(e,t,n){return ei(e,t,n,"weekdaysShort")}function ri(e,t,n){return ei(e,t,n,"weekdaysMin")}function si(){var e=this._data;return this._milliseconds=lr(this._milliseconds),this._days=lr(this._days),this._months=lr(this._months),e.milliseconds=lr(e.milliseconds),e.seconds=lr(e.seconds),e.minutes=lr(e.minutes),e.hours=lr(e.hours),e.months=lr(e.months),e.years=lr(e.years),this}function oi(e,t,n,i){var a=Qt(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function di(e,t){return oi(this,e,t,1)}function li(e,t){return oi(this,e,t,-1)}function ui(e){return e<0?Math.floor(e):Math.ceil(e)}function ci(){var e,t,n,i,a,r=this._milliseconds,s=this._days,o=this._months,d=this._data;return r>=0&&s>=0&&o>=0||r<=0&&s<=0&&o<=0||(r+=864e5*ui(mi(o)+s),s=0,o=0),d.milliseconds=r%1e3,e=M(r/1e3),d.seconds=e%60,t=M(e/60),d.minutes=t%60,n=M(t/60),d.hours=n%24,s+=M(n/24),a=M(hi(s)),o+=a,s-=ui(mi(a)),i=M(o/12),o%=12,d.days=s,d.months=o,d.years=i,this}function hi(e){return 4800*e/146097}function mi(e){return 146097*e/4800}function fi(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"year"===e)return t=this._days+i/864e5,n=this._months+hi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(mi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function _i(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*L(this._months/12):NaN}function pi(e){return function(){return this.as(e)}}function gi(){return Qt(this)}function yi(e){return e=H(e),this.isValid()?this[e+"s"]():NaN}function vi(e){return function(){return this.isValid()?this._data[e]:NaN}}function Mi(){return M(this.days()/7)}function Li(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function Ti(e,t,n){var i=Qt(e).abs(),a=Sr(i.as("s")),r=Sr(i.as("m")),s=Sr(i.as("h")),o=Sr(i.as("d")),d=Sr(i.as("M")),l=Sr(i.as("y")),u=a<=Dr.ss&&["s",a]||a<Dr.s&&["ss",a]||r<=1&&["m"]||r<Dr.m&&["mm",r]||s<=1&&["h"]||s<Dr.h&&["hh",s]||o<=1&&["d"]||o<Dr.d&&["dd",o]||d<=1&&["M"]||d<Dr.M&&["MM",d]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,Li.apply(null,u)}function bi(e){return void 0===e?Sr:"function"==typeof e&&(Sr=e,!0)}function ki(e,t){return void 0!==Dr[e]&&(void 0===t?Dr[e]:(Dr[e]=t,"s"===e&&(Dr.ss=t-1),!0))}function Si(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Ti(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Di(e){return(e>0)-(e<0)||+e}function wi(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=wr(this._milliseconds)/1e3,a=wr(this._days),r=wr(this._months);e=M(i/60),t=M(e/60),i%=60,e%=60,n=M(r/12),r%=12;var s=n,o=r,d=a,l=t,u=e,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var m=h<0?"-":"",f=Di(this._months)!==Di(h)?"-":"",_=Di(this._days)!==Di(h)?"-":"",p=Di(this._milliseconds)!==Di(h)?"-":"";return m+"P"+(s?f+s+"Y":"")+(o?f+o+"M":"")+(d?_+d+"D":"")+(l||u||c?"T":"")+(l?p+l+"H":"")+(u?p+u+"M":"")+(c?p+c+"S":"")}var Ei,Yi;Yi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var xi=t.momentProperties=[],Pi=!1,Ai={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ji;ji=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Ci={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Oi=/\d{1,2}/,Hi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ii={},Fi={},Ni=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ui=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bi={},Wi={},Gi=/\d/,zi=/\d\d/,Vi=/\d{3}/,Ki=/\d{4}/,Ji=/[+-]?\d{6}/,qi=/\d\d?/,Xi=/\d\d\d\d?/,Qi=/\d\d\d\d\d\d?/,$i=/\d{1,3}/,Zi=/\d{1,4}/,ea=/[+-]?\d{1,6}/,ta=/\d+/,na=/[+-]?\d+/,ia=/Z|[+-]\d\d:?\d\d/gi,aa=/Z|[+-]\d\d(?::?\d\d)?/gi,ra=/[+-]?\d+(\.\d{1,3})?/,sa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oa={},da={},la=0,ua=1,ca=2,ha=3,ma=4,fa=5,_a=6,pa=7,ga=8;B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),O("year","y"),F("year",1),K("Y",na),K("YY",qi,zi),K("YYYY",Zi,Ki),K("YYYYY",ea,Ji),K("YYYYYY",ea,Ji),Q(["YYYYY","YYYYYY"],la),Q("YYYY",function(e,n){n[la]=2===e.length?t.parseTwoDigitYear(e):L(e)}),Q("YY",function(e,n){n[la]=t.parseTwoDigitYear(e)}),Q("Y",function(e,t){t[la]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return L(e)+(L(e)>68?1900:2e3)};var ya,va=ie("FullYear",!0);ya=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),F("month",8),K("M",qi),K("MM",qi,zi),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[ua]=L(e)-1}),Q(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ua]=a:f(n).invalidMonth=e});var Ma=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,La="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ta="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ba=sa,ka=sa;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),F("week",5),F("isoWeek",5),K("w",qi),K("ww",qi,zi),K("W",qi),K("WW",qi,zi),$(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=L(e)});var Sa={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),K("d",qi),K("e",qi),K("E",qi),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),$(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e}),$(["d","e","E"],function(e,t,n,i){t[i]=L(e)});var Da="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ea="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ya=sa,xa=sa,Pa=sa;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,ze),B("k",["kk",2],0,Ve),B("hmm",0,0,function(){return""+ze.apply(this)+U(this.minutes(),2)}),B("hmmss",0,0,function(){return""+ze.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),O("hour","h"),F("hour",13),K("a",Je),K("A",Je),K("H",qi),K("h",qi),K("k",qi),K("HH",qi,zi),K("hh",qi,zi),K("kk",qi,zi),K("hmm",Xi),K("hmmss",Qi),K("Hmm",Xi),K("Hmmss",Qi),Q(["H","HH"],ha),Q(["k","kk"],function(e,t,n){var i=L(e);t[ha]=24===i?0:i}),Q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Q(["h","hh"],function(e,t,n){t[ha]=L(e),f(n).bigHour=!0}),Q("hmm",function(e,t,n){var i=e.length-2;t[ha]=L(e.substr(0,i)),t[ma]=L(e.substr(i)),f(n).bigHour=!0}),Q("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[ha]=L(e.substr(0,i)),t[ma]=L(e.substr(i,2)),t[fa]=L(e.substr(a)),f(n).bigHour=!0}),Q("Hmm",function(e,t,n){var i=e.length-2;t[ha]=L(e.substr(0,i)),t[ma]=L(e.substr(i))}),Q("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[ha]=L(e.substr(0,i)),t[ma]=L(e.substr(i,2)),t[fa]=L(e.substr(a))});var Aa,ja=/[ap]\.?m?\.?/i,Ca=ie("Hours",!0),Ra={calendar:Ci,longDateFormat:Ri,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Oi,relativeTime:Hi,months:La,monthsShort:Ta,week:Sa,weekdays:Da,weekdaysMin:Ea,weekdaysShort:wa,meridiemParse:ja},Oa={},Ha={},Ia=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Na=/Z|[+-]\d\d(?::?\d\d)?/,Ua=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ba=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wa=/^\/?Date\((\-?\d+)/i,Ga=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,za={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Va=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Ka=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),Ja=function(){return Date.now?Date.now():+new Date},qa=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ot("Z",":"),Ot("ZZ",""),K("Z",aa),K("ZZ",aa),Q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ht(aa,e)});var Xa=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Qa=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qt.fn=jt.prototype,Qt.invalid=At;var Za=tn(1,"add"),er=tn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Hn("gggg","weekYear"),Hn("ggggg","weekYear"),Hn("GGGG","isoWeekYear"),Hn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),K("G",na),K("g",na),K("GG",qi,zi),K("gg",qi,zi),K("GGGG",Zi,Ki),K("gggg",Zi,Ki),K("GGGGG",ea,Ji),K("ggggg",ea,Ji),$(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=L(e)}),$(["gg","GG"],function(e,n,i,a){n[a]=t.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),O("quarter","Q"),F("quarter",7),K("Q",Gi),Q("Q",function(e,t){t[ua]=3*(L(e)-1)}),B("D",["DD",2],"Do","date"),O("date","D"),F("date",9),K("D",qi),K("DD",qi,zi),K("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],ca),Q("Do",function(e,t){t[ca]=L(e.match(qi)[0],10)});var nr=ie("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),F("dayOfYear",4),K("DDD",$i),K("DDDD",Vi),Q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=L(e)}),B("m",["mm",2],0,"minute"),O("minute","m"),F("minute",14),K("m",qi),K("mm",qi,zi),Q(["m","mm"],ma);var ir=ie("Minutes",!1);B("s",["ss",2],0,"second"),O("second","s"),F("second",15),K("s",qi),K("ss",qi,zi),Q(["s","ss"],fa);var ar=ie("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),F("millisecond",16),K("S",$i,Gi),K("SS",$i,zi),K("SSS",$i,Vi);var rr;for(rr="SSSS";rr.length<=9;rr+="S")K(rr,ta);for(rr="S";rr.length<=9;rr+="S")Q(rr,Vn);var sr=ie("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var or=y.prototype;or.add=Za,or.calendar=rn,or.clone=sn,or.diff=mn,or.endOf=Dn,or.format=yn,or.from=vn,or.fromNow=Mn,or.to=Ln,or.toNow=Tn,or.get=se,or.invalidAt=Rn,or.isAfter=on,or.isBefore=dn,or.isBetween=ln,or.isSame=un,or.isSameOrAfter=cn,or.isSameOrBefore=hn,or.isValid=jn,or.lang=tr,or.locale=bn,or.localeData=kn,or.max=Ka,or.min=Va,or.parsingFlags=Cn,or.set=oe,or.startOf=Sn,or.subtract=er,or.toArray=xn,or.toObject=Pn,or.toDate=Yn,or.toISOString=pn,or.inspect=gn,or.toJSON=An,or.toString=_n,or.unix=En,or.valueOf=wn,or.creationData=On,or.year=va,or.isLeapYear=ne,or.weekYear=In,or.isoWeekYear=Fn,or.quarter=or.quarters=Gn,or.month=_e,or.daysInMonth=pe,or.week=or.weeks=Ye,or.isoWeek=or.isoWeeks=xe,or.weeksInYear=Un,or.isoWeeksInYear=Nn,or.date=nr,or.day=or.days=Ie,or.weekday=Fe,or.isoWeekday=Ne,or.dayOfYear=zn,or.hour=or.hours=Ca,or.minute=or.minutes=ir,or.second=or.seconds=ar,or.millisecond=or.milliseconds=sr,or.utcOffset=Nt,or.utc=Bt,or.local=Wt,or.parseZone=Gt,or.hasAlignedHourOffset=zt,or.isDST=Vt,or.isLocal=Jt,or.isUtcOffset=qt,or.isUtc=Xt,or.isUTC=Xt,or.zoneAbbr=Kn,or.zoneName=Jn,or.dates=k("dates accessor is deprecated. Use date instead.",nr),or.months=k("months accessor is deprecated. Use month instead",_e),or.years=k("years accessor is deprecated. Use year instead",va),or.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ut),or.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kt);var dr=Y.prototype;dr.calendar=x,dr.longDateFormat=P,dr.invalidDate=A,dr.ordinal=j,dr.preparse=Qn,dr.postformat=Qn,dr.relativeTime=C,dr.pastFuture=R,dr.set=w,dr.months=ue,dr.monthsShort=ce,dr.monthsParse=me,dr.monthsRegex=ye,dr.monthsShortRegex=ge,dr.week=De,dr.firstDayOfYear=Ee,dr.firstDayOfWeek=we,dr.weekdays=je,dr.weekdaysMin=Re,dr.weekdaysShort=Ce,dr.weekdaysParse=He,dr.weekdaysRegex=Ue,dr.weekdaysShortRegex=Be,dr.weekdaysMinRegex=We,dr.isPM=qe,dr.meridiem=Xe,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===L(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=k("moment.lang is deprecated. Use moment.locale instead.",et),t.langData=k("moment.langData is deprecated. Use moment.localeData instead.",it);var lr=Math.abs,ur=pi("ms"),cr=pi("s"),hr=pi("m"),mr=pi("h"),fr=pi("d"),_r=pi("w"),pr=pi("M"),gr=pi("y"),yr=vi("milliseconds"),vr=vi("seconds"),Mr=vi("minutes"),Lr=vi("hours"),Tr=vi("days"),br=vi("months"),kr=vi("years"),Sr=Math.round,Dr={ss:44,s:45,m:45,h:22,d:26,M:11},wr=Math.abs,Er=jt.prototype;return Er.isValid=Pt,Er.abs=si,Er.add=di,Er.subtract=li,Er.as=fi,Er.asMilliseconds=ur,Er.asSeconds=cr,Er.asMinutes=hr,Er.asHours=mr,Er.asDays=fr,Er.asWeeks=_r,Er.asMonths=pr,Er.asYears=gr,Er.valueOf=_i,Er._bubble=ci,Er.clone=gi,Er.get=yi,Er.milliseconds=yr,Er.seconds=vr,Er.minutes=Mr,Er.hours=Lr,Er.days=Tr,Er.weeks=Mi,Er.months=br,Er.years=kr,Er.humanize=Si,Er.toISOString=wi,Er.toString=wi,Er.toJSON=wi,Er.locale=bn,Er.localeData=kn,Er.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wi),Er.lang=tr,B("X",0,0,"unix"),B("x",0,0,"valueOf"),K("x",na),K("X",ra),Q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,n){n._d=new Date(L(e))}),t.version="2.19.3",function(e){Ei=e}(Dt),t.fn=or,t.min=Et,t.max=Yt,t.now=Ja,t.utc=h,t.unix=qn,t.months=ti,t.isDate=d,t.locale=et,t.invalid=p,t.duration=Qt,t.isMoment=v,t.weekdays=ii,t.parseZone=Xn,t.localeData=it,t.isDuration=Ct,t.monthsShort=ni,t.weekdaysMin=ri,t.defineLocale=tt,t.updateLocale=nt,t.locales=at,t.weekdaysShort=ai,t.normalizeUnits=H,t.relativeTimeRounding=bi,t.relativeTimeThreshold=ki,t.calendarFormat=an,t.prototype=or,t})}).call(t,n("./node_modules/webpack/buildin/module.js")(e))},21:function(e,t,n){n("./common/static/xmodule/modules/js/000-58032517f54c5c1a704a908d850cbe64.js"),e.exports=n("./common/static/xmodule/modules/js/001-e45ae357eab0e4e2784fa6d04d4e16c1.js")}},[21]));